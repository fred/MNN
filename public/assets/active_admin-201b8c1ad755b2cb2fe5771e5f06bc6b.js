/*!
 * jQuery JavaScript Library v1.9.1
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2012 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2013-2-4
 */
!function(e,t){function n(e){var t=e.length,n=lt.type(e);return lt.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)}function i(e){var t=wt[e]={};return lt.each(e.match(dt)||[],function(e,n){t[n]=!0}),t}function r(e,n,i,r){if(lt.acceptData(e)){var o,a,s=lt.expando,l="string"==typeof n,c=e.nodeType,d=c?lt.cache:e,u=c?e[s]:e[s]&&s;if(u&&d[u]&&(r||d[u].data)||!l||i!==t)return u||(c?e[s]=u=J.pop()||lt.guid++:u=s),d[u]||(d[u]={},c||(d[u].toJSON=lt.noop)),("object"==typeof n||"function"==typeof n)&&(r?d[u]=lt.extend(d[u],n):d[u].data=lt.extend(d[u].data,n)),o=d[u],r||(o.data||(o.data={}),o=o.data),i!==t&&(o[lt.camelCase(n)]=i),l?(a=o[n],null==a&&(a=o[lt.camelCase(n)])):a=o,a}}function o(e,t,n){if(lt.acceptData(e)){var i,r,o,a=e.nodeType,l=a?lt.cache:e,c=a?e[lt.expando]:lt.expando;if(l[c]){if(t&&(o=n?l[c]:l[c].data)){lt.isArray(t)?t=t.concat(lt.map(t,lt.camelCase)):t in o?t=[t]:(t=lt.camelCase(t),t=t in o?[t]:t.split(" "));for(i=0,r=t.length;r>i;i++)delete o[t[i]];if(!(n?s:lt.isEmptyObject)(o))return}(n||(delete l[c].data,s(l[c])))&&(a?lt.cleanData([e],!0):lt.support.deleteExpando||l!=l.window?delete l[c]:l[c]=null)}}}function a(e,n,i){if(i===t&&1===e.nodeType){var r="data-"+n.replace(Tt,"-$1").toLowerCase();if(i=e.getAttribute(r),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:Ct.test(i)?lt.parseJSON(i):i}catch(o){}lt.data(e,n,i)}else i=t}return i}function s(e){var t;for(t in e)if(("data"!==t||!lt.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function l(){return!0}function c(){return!1}function d(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function u(e,t,n){if(t=t||0,lt.isFunction(t))return lt.grep(e,function(e,i){var r=!!t.call(e,i,e);return r===n});if(t.nodeType)return lt.grep(e,function(e){return e===t===n});if("string"==typeof t){var i=lt.grep(e,function(e){return 1===e.nodeType});if(Wt.test(t))return lt.filter(t,i,!n);t=lt.filter(t,i)}return lt.grep(e,function(e){return lt.inArray(e,t)>=0===n})}function h(e){var t=qt.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function p(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function f(e){var t=e.getAttributeNode("type");return e.type=(t&&t.specified)+"/"+e.type,e}function m(e){var t=on.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function g(e,t){for(var n,i=0;null!=(n=e[i]);i++)lt._data(n,"globalEval",!t||lt._data(t[i],"globalEval"))}function v(e,t){if(1===t.nodeType&&lt.hasData(e)){var n,i,r,o=lt._data(e),a=lt._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s)for(i=0,r=s[n].length;r>i;i++)lt.event.add(t,n,s[n][i])}a.data&&(a.data=lt.extend({},a.data))}}function y(e,t){var n,i,r;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!lt.support.noCloneEvent&&t[lt.expando]){r=lt._data(t);for(i in r.events)lt.removeEvent(t,i,r.handle);t.removeAttribute(lt.expando)}"script"===n&&t.text!==e.text?(f(t).text=e.text,m(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),lt.support.html5Clone&&e.innerHTML&&!lt.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&tn.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function b(e,n){var i,r,o=0,a=typeof e.getElementsByTagName!==U?e.getElementsByTagName(n||"*"):typeof e.querySelectorAll!==U?e.querySelectorAll(n||"*"):t;if(!a)for(a=[],i=e.childNodes||e;null!=(r=i[o]);o++)!n||lt.nodeName(r,n)?a.push(r):lt.merge(a,b(r,n));return n===t||n&&lt.nodeName(e,n)?lt.merge([e],a):a}function x(e){tn.test(e.type)&&(e.defaultChecked=e.checked)}function k(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),i=t,r=Tn.length;r--;)if(t=Tn[r]+n,t in e)return t;return i}function _(e,t){return e=t||e,"none"===lt.css(e,"display")||!lt.contains(e.ownerDocument,e)}function w(e,t){for(var n,i,r,o=[],a=0,s=e.length;s>a;a++)i=e[a],i.style&&(o[a]=lt._data(i,"olddisplay"),n=i.style.display,t?(o[a]||"none"!==n||(i.style.display=""),""===i.style.display&&_(i)&&(o[a]=lt._data(i,"olddisplay",M(i.nodeName)))):o[a]||(r=_(i),(n&&"none"!==n||!r)&&lt._data(i,"olddisplay",r?n:lt.css(i,"display"))));for(a=0;s>a;a++)i=e[a],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?o[a]||"":"none"));return e}function C(e,t,n){var i=yn.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function T(e,t,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===t?1:0,a=0;4>o;o+=2)"margin"===n&&(a+=lt.css(e,n+Cn[o],!0,r)),i?("content"===n&&(a-=lt.css(e,"padding"+Cn[o],!0,r)),"margin"!==n&&(a-=lt.css(e,"border"+Cn[o]+"Width",!0,r))):(a+=lt.css(e,"padding"+Cn[o],!0,r),"padding"!==n&&(a+=lt.css(e,"border"+Cn[o]+"Width",!0,r)));return a}function S(e,t,n){var i=!0,r="width"===t?e.offsetWidth:e.offsetHeight,o=un(e),a=lt.support.boxSizing&&"border-box"===lt.css(e,"boxSizing",!1,o);if(0>=r||null==r){if(r=hn(e,t,o),(0>r||null==r)&&(r=e.style[t]),bn.test(r))return r;i=a&&(lt.support.boxSizingReliable||r===e.style[t]),r=parseFloat(r)||0}return r+T(e,t,n||(a?"border":"content"),i,o)+"px"}function M(e){var t=X,n=kn[e];return n||(n=D(e,t),"none"!==n&&n||(dn=(dn||lt("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(dn[0].contentWindow||dn[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=D(e,t),dn.detach()),kn[e]=n),n}function D(e,t){var n=lt(t.createElement(e)).appendTo(t.body),i=lt.css(n[0],"display");return n.remove(),i}function A(e,t,n,i){var r;if(lt.isArray(t))lt.each(t,function(t,r){n||Mn.test(e)?i(e,r):A(e+"["+("object"==typeof r?t:"")+"]",r,n,i)});else if(n||"object"!==lt.type(t))i(e,t);else for(r in t)A(e+"["+r+"]",t[r],n,i)}function E(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,o=t.toLowerCase().match(dt)||[];if(lt.isFunction(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function N(e,t,n,i){function r(s){var l;return o[s]=!0,lt.each(e[s]||[],function(e,s){var c=s(t,n,i);return"string"!=typeof c||a||o[c]?a?!(l=c):void 0:(t.dataTypes.unshift(c),r(c),!1)}),l}var o={},a=e===Yn;return r(t.dataTypes[0])||!o["*"]&&r("*")}function L(e,n){var i,r,o=lt.ajaxSettings.flatOptions||{};for(r in n)n[r]!==t&&((o[r]?e:i||(i={}))[r]=n[r]);return i&&lt.extend(!0,e,i),e}function P(e,n,i){var r,o,a,s,l=e.contents,c=e.dataTypes,d=e.responseFields;for(s in d)s in i&&(n[d[s]]=i[s]);for(;"*"===c[0];)c.shift(),o===t&&(o=e.mimeType||n.getResponseHeader("Content-Type"));if(o)for(s in l)if(l[s]&&l[s].test(o)){c.unshift(s);break}if(c[0]in i)a=c[0];else{for(s in i){if(!c[0]||e.converters[s+" "+c[0]]){a=s;break}r||(r=s)}a=a||r}return a?(a!==c[0]&&c.unshift(a),i[a]):void 0}function F(e,t){var n,i,r,o,a={},s=0,l=e.dataTypes.slice(),c=l[0];if(e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l[1])for(r in e.converters)a[r.toLowerCase()]=e.converters[r];for(;i=l[++s];)if("*"!==i){if("*"!==c&&c!==i){if(r=a[c+" "+i]||a["* "+i],!r)for(n in a)if(o=n.split(" "),o[1]===i&&(r=a[c+" "+o[0]]||a["* "+o[0]])){r===!0?r=a[n]:a[n]!==!0&&(i=o[0],l.splice(s--,0,i));break}if(r!==!0)if(r&&e["throws"])t=r(t);else try{t=r(t)}catch(d){return{state:"parsererror",error:r?d:"No conversion from "+c+" to "+i}}}c=i}return{state:"success",data:t}}function I(){try{return new e.XMLHttpRequest}catch(t){}}function R(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function B(){return setTimeout(function(){Jn=t}),Jn=lt.now()}function O(e,t){lt.each(t,function(t,n){for(var i=(oi[t]||[]).concat(oi["*"]),r=0,o=i.length;o>r;r++)if(i[r].call(e,t,n))return})}function H(e,t,n){var i,r,o=0,a=ri.length,s=lt.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=Jn||B(),n=Math.max(0,c.startTime+c.duration-t),i=n/c.duration||0,o=1-i,a=0,l=c.tweens.length;l>a;a++)c.tweens[a].run(o);return s.notifyWith(e,[c,o,n]),1>o&&l?n:(s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:lt.extend({},t),opts:lt.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Jn||B(),duration:n.duration,tweens:[],createTween:function(t,n){var i=lt.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)c.tweens[n].run(1);return t?s.resolveWith(e,[c,t]):s.rejectWith(e,[c,t]),this}}),d=c.props;for(z(d,c.opts.specialEasing);a>o;o++)if(i=ri[o].call(c,e,d,c.opts))return i;return O(c,d),lt.isFunction(c.opts.start)&&c.opts.start.call(e,c),lt.fx.timer(lt.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function z(e,t){var n,i,r,o,a;for(r in e)if(i=lt.camelCase(r),o=t[i],n=e[r],lt.isArray(n)&&(o=n[1],n=e[r]=n[0]),r!==i&&(e[i]=n,delete e[r]),a=lt.cssHooks[i],a&&"expand"in a){n=a.expand(n),delete e[i];for(r in n)r in e||(e[r]=n[r],t[r]=o)}else t[i]=o}function j(e,t,n){var i,r,o,a,s,l,c,d,u,h=this,p=e.style,f={},m=[],g=e.nodeType&&_(e);n.queue||(d=lt._queueHooks(e,"fx"),null==d.unqueued&&(d.unqueued=0,u=d.empty.fire,d.empty.fire=function(){d.unqueued||u()}),d.unqueued++,h.always(function(){h.always(function(){d.unqueued--,lt.queue(e,"fx").length||d.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===lt.css(e,"display")&&"none"===lt.css(e,"float")&&(lt.support.inlineBlockNeedsLayout&&"inline"!==M(e.nodeName)?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",lt.support.shrinkWrapBlocks||h.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in t)if(a=t[r],ti.exec(a)){if(delete t[r],l=l||"toggle"===a,a===(g?"hide":"show"))continue;m.push(r)}if(o=m.length){s=lt._data(e,"fxshow")||lt._data(e,"fxshow",{}),"hidden"in s&&(g=s.hidden),l&&(s.hidden=!g),g?lt(e).show():h.done(function(){lt(e).hide()}),h.done(function(){var t;lt._removeData(e,"fxshow");for(t in f)lt.style(e,t,f[t])});for(r=0;o>r;r++)i=m[r],c=h.createTween(i,g?s[i]:0),f[i]=s[i]||lt.style(e,i),i in s||(s[i]=c.start,g&&(c.end=c.start,c.start="width"===i||"height"===i?1:0))}}function $(e,t,n,i,r){return new $.prototype.init(e,t,n,i,r)}function W(e,t){var n,i={height:e},r=0;for(t=t?1:0;4>r;r+=2-t)n=Cn[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function Y(e){return lt.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var V,q,U=typeof t,X=e.document,G=e.location,K=e.jQuery,Q=e.$,Z={},J=[],et="1.9.1",tt=J.concat,nt=J.push,it=J.slice,rt=J.indexOf,ot=Z.toString,at=Z.hasOwnProperty,st=et.trim,lt=function(e,t){return new lt.fn.init(e,t,q)},ct=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,dt=/\S+/g,ut=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ht=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,pt=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ft=/^[\],:{}\s]*$/,mt=/(?:^|:|,)(?:\s*\[)+/g,gt=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,vt=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,yt=/^-ms-/,bt=/-([\da-z])/gi,xt=function(e,t){return t.toUpperCase()},kt=function(e){(X.addEventListener||"load"===e.type||"complete"===X.readyState)&&(_t(),lt.ready())},_t=function(){X.addEventListener?(X.removeEventListener("DOMContentLoaded",kt,!1),e.removeEventListener("load",kt,!1)):(X.detachEvent("onreadystatechange",kt),e.detachEvent("onload",kt))};lt.fn=lt.prototype={jquery:et,constructor:lt,init:function(e,n,i){var r,o;if(!e)return this;if("string"==typeof e){if(r="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:ht.exec(e),!r||!r[1]&&n)return!n||n.jquery?(n||i).find(e):this.constructor(n).find(e);if(r[1]){if(n=n instanceof lt?n[0]:n,lt.merge(this,lt.parseHTML(r[1],n&&n.nodeType?n.ownerDocument||n:X,!0)),pt.test(r[1])&&lt.isPlainObject(n))for(r in n)lt.isFunction(this[r])?this[r](n[r]):this.attr(r,n[r]);return this}if(o=X.getElementById(r[2]),o&&o.parentNode){if(o.id!==r[2])return i.find(e);this.length=1,this[0]=o}return this.context=X,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):lt.isFunction(e)?i.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),lt.makeArray(e,this))},selector:"",length:0,size:function(){return this.length},toArray:function(){return it.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=lt.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return lt.each(this,e,t)},ready:function(e){return lt.ready.promise().done(e),this},slice:function(){return this.pushStack(it.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},map:function(e){return this.pushStack(lt.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:nt,sort:[].sort,splice:[].splice},lt.fn.init.prototype=lt.fn,lt.extend=lt.fn.extend=function(){var e,n,i,r,o,a,s=arguments[0]||{},l=1,c=arguments.length,d=!1;for("boolean"==typeof s&&(d=s,s=arguments[1]||{},l=2),"object"==typeof s||lt.isFunction(s)||(s={}),c===l&&(s=this,--l);c>l;l++)if(null!=(o=arguments[l]))for(r in o)e=s[r],i=o[r],s!==i&&(d&&i&&(lt.isPlainObject(i)||(n=lt.isArray(i)))?(n?(n=!1,a=e&&lt.isArray(e)?e:[]):a=e&&lt.isPlainObject(e)?e:{},s[r]=lt.extend(d,a,i)):i!==t&&(s[r]=i));return s},lt.extend({noConflict:function(t){return e.$===lt&&(e.$=Q),t&&e.jQuery===lt&&(e.jQuery=K),lt},isReady:!1,readyWait:1,holdReady:function(e){e?lt.readyWait++:lt.ready(!0)},ready:function(e){if(e===!0?!--lt.readyWait:!lt.isReady){if(!X.body)return setTimeout(lt.ready);lt.isReady=!0,e!==!0&&--lt.readyWait>0||(V.resolveWith(X,[lt]),lt.fn.trigger&&lt(X).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===lt.type(e)},isArray:Array.isArray||function(e){return"array"===lt.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):"object"==typeof e||"function"==typeof e?Z[ot.call(e)]||"object":typeof e},isPlainObject:function(e){if(!e||"object"!==lt.type(e)||e.nodeType||lt.isWindow(e))return!1;try{if(e.constructor&&!at.call(e,"constructor")&&!at.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var i;for(i in e);return i===t||at.call(e,i)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||X;var i=pt.exec(e),r=!n&&[];return i?[t.createElement(i[1])]:(i=lt.buildFragment([e],t,r),r&&lt(r).remove(),lt.merge([],i.childNodes))},parseJSON:function(t){return e.JSON&&e.JSON.parse?e.JSON.parse(t):null===t?t:"string"==typeof t&&(t=lt.trim(t),t&&ft.test(t.replace(gt,"@").replace(vt,"]").replace(mt,"")))?new Function("return "+t)():(lt.error("Invalid JSON: "+t),void 0)},parseXML:function(n){var i,r;if(!n||"string"!=typeof n)return null;try{e.DOMParser?(r=new DOMParser,i=r.parseFromString(n,"text/xml")):(i=new ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(n))}catch(o){i=t}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||lt.error("Invalid XML: "+n),i},noop:function(){},globalEval:function(t){t&&lt.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(yt,"ms-").replace(bt,xt)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,i){var r,o=0,a=e.length,s=n(e);if(i){if(s)for(;a>o&&(r=t.apply(e[o],i),r!==!1);o++);else for(o in e)if(r=t.apply(e[o],i),r===!1)break}else if(s)for(;a>o&&(r=t.call(e[o],o,e[o]),r!==!1);o++);else for(o in e)if(r=t.call(e[o],o,e[o]),r===!1)break;return e},trim:st&&!st.call("﻿ ")?function(e){return null==e?"":st.call(e)}:function(e){return null==e?"":(e+"").replace(ut,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(n(Object(e))?lt.merge(i,"string"==typeof e?[e]:e):nt.call(i,e)),i},inArray:function(e,t,n){var i;if(t){if(rt)return rt.call(t,e,n);for(i=t.length,n=n?0>n?Math.max(0,i+n):n:0;i>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var i=n.length,r=e.length,o=0;if("number"==typeof i)for(;i>o;o++)e[r++]=n[o];else for(;n[o]!==t;)e[r++]=n[o++];return e.length=r,e},grep:function(e,t,n){var i,r=[],o=0,a=e.length;for(n=!!n;a>o;o++)i=!!t(e[o],o),n!==i&&r.push(e[o]);return r},map:function(e,t,i){var r,o=0,a=e.length,s=n(e),l=[];if(s)for(;a>o;o++)r=t(e[o],o,i),null!=r&&(l[l.length]=r);else for(o in e)r=t(e[o],o,i),null!=r&&(l[l.length]=r);return tt.apply([],l)},guid:1,proxy:function(e,n){var i,r,o;return"string"==typeof n&&(o=e[n],n=e,e=o),lt.isFunction(e)?(i=it.call(arguments,2),r=function(){return e.apply(n||this,i.concat(it.call(arguments)))},r.guid=e.guid=e.guid||lt.guid++,r):t},access:function(e,n,i,r,o,a,s){var l=0,c=e.length,d=null==i;if("object"===lt.type(i)){o=!0;for(l in i)lt.access(e,n,l,i[l],!0,a,s)}else if(r!==t&&(o=!0,lt.isFunction(r)||(s=!0),d&&(s?(n.call(e,r),n=null):(d=n,n=function(e,t,n){return d.call(lt(e),n)})),n))for(;c>l;l++)n(e[l],i,s?r:r.call(e[l],l,n(e[l],i)));return o?e:d?n.call(e):c?n(e[0],i):a},now:function(){return(new Date).getTime()}}),lt.ready.promise=function(t){if(!V)if(V=lt.Deferred(),"complete"===X.readyState)setTimeout(lt.ready);else if(X.addEventListener)X.addEventListener("DOMContentLoaded",kt,!1),e.addEventListener("load",kt,!1);else{X.attachEvent("onreadystatechange",kt),e.attachEvent("onload",kt);var n=!1;try{n=null==e.frameElement&&X.documentElement}catch(i){}n&&n.doScroll&&!function r(){if(!lt.isReady){try{n.doScroll("left")}catch(e){return setTimeout(r,50)}_t(),lt.ready()}}()}return V.promise(t)},lt.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Z["[object "+t+"]"]=t.toLowerCase()}),q=lt(X);var wt={};lt.Callbacks=function(e){e="string"==typeof e?wt[e]||i(e):lt.extend({},e);var n,r,o,a,s,l,c=[],d=!e.once&&[],u=function(t){for(r=e.memory&&t,o=!0,s=l||0,l=0,a=c.length,n=!0;c&&a>s;s++)if(c[s].apply(t[0],t[1])===!1&&e.stopOnFalse){r=!1;break}n=!1,c&&(d?d.length&&u(d.shift()):r?c=[]:h.disable())},h={add:function(){if(c){var t=c.length;!function i(t){lt.each(t,function(t,n){var r=lt.type(n);"function"===r?e.unique&&h.has(n)||c.push(n):n&&n.length&&"string"!==r&&i(n)})}(arguments),n?a=c.length:r&&(l=t,u(r))}return this},remove:function(){return c&&lt.each(arguments,function(e,t){for(var i;(i=lt.inArray(t,c,i))>-1;)c.splice(i,1),n&&(a>=i&&a--,s>=i&&s--)}),this},has:function(e){return e?lt.inArray(e,c)>-1:!(!c||!c.length)},empty:function(){return c=[],this},disable:function(){return c=d=r=t,this},disabled:function(){return!c},lock:function(){return d=t,r||h.disable(),this},locked:function(){return!d},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],!c||o&&!d||(n?d.push(t):u(t)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!o}};return h},lt.extend({Deferred:function(e){var t=[["resolve","done",lt.Callbacks("once memory"),"resolved"],["reject","fail",lt.Callbacks("once memory"),"rejected"],["notify","progress",lt.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return lt.Deferred(function(n){lt.each(t,function(t,o){var a=o[0],s=lt.isFunction(e[t])&&e[t];r[o[1]](function(){var e=s&&s.apply(this,arguments);e&&lt.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a+"With"](this===i?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?lt.extend(e,i):i}},r={};return i.pipe=i.then,lt.each(t,function(e,o){var a=o[2],s=o[3];i[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),this},r[o[0]+"With"]=a.fireWith}),i.promise(r),e&&e.call(r,r),r},when:function(e){var t,n,i,r=0,o=it.call(arguments),a=o.length,s=1!==a||e&&lt.isFunction(e.promise)?a:0,l=1===s?e:lt.Deferred(),c=function(e,n,i){return function(r){n[e]=this,i[e]=arguments.length>1?it.call(arguments):r,i===t?l.notifyWith(n,i):--s||l.resolveWith(n,i)}};if(a>1)for(t=new Array(a),n=new Array(a),i=new Array(a);a>r;r++)o[r]&&lt.isFunction(o[r].promise)?o[r].promise().done(c(r,i,o)).fail(l.reject).progress(c(r,n,t)):--s;return s||l.resolveWith(i,o),l.promise()}}),lt.support=function(){var t,n,i,r,o,a,s,l,c,d,u=X.createElement("div");if(u.setAttribute("className","t"),u.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=u.getElementsByTagName("*"),i=u.getElementsByTagName("a")[0],!n||!i||!n.length)return{};o=X.createElement("select"),s=o.appendChild(X.createElement("option")),r=u.getElementsByTagName("input")[0],i.style.cssText="top:1px;float:left;opacity:.5",t={getSetAttribute:"t"!==u.className,leadingWhitespace:3===u.firstChild.nodeType,tbody:!u.getElementsByTagName("tbody").length,htmlSerialize:!!u.getElementsByTagName("link").length,style:/top/.test(i.getAttribute("style")),hrefNormalized:"/a"===i.getAttribute("href"),opacity:/^0.5/.test(i.style.opacity),cssFloat:!!i.style.cssFloat,checkOn:!!r.value,optSelected:s.selected,enctype:!!X.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==X.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===X.compatMode,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},r.checked=!0,t.noCloneChecked=r.cloneNode(!0).checked,o.disabled=!0,t.optDisabled=!s.disabled;try{delete u.test}catch(h){t.deleteExpando=!1}r=X.createElement("input"),r.setAttribute("value",""),t.input=""===r.getAttribute("value"),r.value="t",r.setAttribute("type","radio"),t.radioValue="t"===r.value,r.setAttribute("checked","t"),r.setAttribute("name","t"),a=X.createDocumentFragment(),a.appendChild(r),t.appendChecked=r.checked,t.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,u.attachEvent&&(u.attachEvent("onclick",function(){t.noCloneEvent=!1}),u.cloneNode(!0).click());for(d in{submit:!0,change:!0,focusin:!0})u.setAttribute(l="on"+d,"t"),t[d+"Bubbles"]=l in e||u.attributes[l].expando===!1;return u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===u.style.backgroundClip,lt(function(){var n,i,r,o="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",a=X.getElementsByTagName("body")[0];a&&(n=X.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",a.appendChild(n).appendChild(u),u.innerHTML="<table><tr><td></td><td>t</td></tr></table>",r=u.getElementsByTagName("td"),r[0].style.cssText="padding:0;margin:0;border:0;display:none",c=0===r[0].offsetHeight,r[0].style.display="",r[1].style.display="none",t.reliableHiddenOffsets=c&&0===r[0].offsetHeight,u.innerHTML="",u.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",t.boxSizing=4===u.offsetWidth,t.doesNotIncludeMarginInBodyOffset=1!==a.offsetTop,e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(u,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(u,null)||{width:"4px"}).width,i=u.appendChild(X.createElement("div")),i.style.cssText=u.style.cssText=o,i.style.marginRight=i.style.width="0",u.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(i,null)||{}).marginRight)),typeof u.style.zoom!==U&&(u.innerHTML="",u.style.cssText=o+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===u.offsetWidth,u.style.display="block",u.innerHTML="<div></div>",u.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==u.offsetWidth,t.inlineBlockNeedsLayout&&(a.style.zoom=1)),a.removeChild(n),n=u=r=i=null)}),n=o=a=s=i=r=null,t}();var Ct=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,Tt=/([A-Z])/g;lt.extend({cache:{},expando:"jQuery"+(et+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?lt.cache[e[lt.expando]]:e[lt.expando],!!e&&!s(e)},data:function(e,t,n){return r(e,t,n)},removeData:function(e,t){return o(e,t)},_data:function(e,t,n){return r(e,t,n,!0)},_removeData:function(e,t){return o(e,t,!0)},acceptData:function(e){if(e.nodeType&&1!==e.nodeType&&9!==e.nodeType)return!1;var t=e.nodeName&&lt.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),lt.fn.extend({data:function(e,n){var i,r,o=this[0],s=0,l=null;if(e===t){if(this.length&&(l=lt.data(o),1===o.nodeType&&!lt._data(o,"parsedAttrs"))){for(i=o.attributes;s<i.length;s++)r=i[s].name,r.indexOf("data-")||(r=lt.camelCase(r.slice(5)),a(o,r,l[r]));lt._data(o,"parsedAttrs",!0)}return l}return"object"==typeof e?this.each(function(){lt.data(this,e)}):lt.access(this,function(n){return n===t?o?a(o,e,lt.data(o,e)):null:(this.each(function(){lt.data(this,e,n)}),void 0)},null,n,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){lt.removeData(this,e)})}}),lt.extend({queue:function(e,t,n){var i;return e?(t=(t||"fx")+"queue",i=lt._data(e,t),n&&(!i||lt.isArray(n)?i=lt._data(e,t,lt.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=lt.queue(e,t),i=n.length,r=n.shift(),o=lt._queueHooks(e,t),a=function(){lt.dequeue(e,t)};"inprogress"===r&&(r=n.shift(),i--),o.cur=r,r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,a,o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return lt._data(e,n)||lt._data(e,n,{empty:lt.Callbacks("once memory").add(function(){lt._removeData(e,t+"queue"),lt._removeData(e,n)})})}}),lt.fn.extend({queue:function(e,n){var i=2;return"string"!=typeof e&&(n=e,e="fx",i--),arguments.length<i?lt.queue(this[0],e):n===t?this:this.each(function(){var t=lt.queue(this,e,n);lt._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&lt.dequeue(this,e)})},dequeue:function(e){return this.each(function(){lt.dequeue(this,e)})},delay:function(e,t){return e=lt.fx?lt.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var i,r=1,o=lt.Deferred(),a=this,s=this.length,l=function(){--r||o.resolveWith(a,[a])};for("string"!=typeof e&&(n=e,e=t),e=e||"fx";s--;)i=lt._data(a[s],e+"queueHooks"),i&&i.empty&&(r++,i.empty.add(l));return l(),o.promise(n)}});var St,Mt,Dt=/[\t\r\n]/g,At=/\r/g,Et=/^(?:input|select|textarea|button|object)$/i,Nt=/^(?:a|area)$/i,Lt=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,Pt=/^(?:checked|selected)$/i,Ft=lt.support.getSetAttribute,It=lt.support.input;lt.fn.extend({attr:function(e,t){return lt.access(this,lt.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){lt.removeAttr(this,e)})},prop:function(e,t){return lt.access(this,lt.prop,e,t,arguments.length>1)},removeProp:function(e){return e=lt.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,i,r,o,a=0,s=this.length,l="string"==typeof e&&e;if(lt.isFunction(e))return this.each(function(t){lt(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(dt)||[];s>a;a++)if(n=this[a],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Dt," "):" ")){for(o=0;r=t[o++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");n.className=lt.trim(i)}return this},removeClass:function(e){var t,n,i,r,o,a=0,s=this.length,l=0===arguments.length||"string"==typeof e&&e;if(lt.isFunction(e))return this.each(function(t){lt(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(dt)||[];s>a;a++)if(n=this[a],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Dt," "):"")){for(o=0;r=t[o++];)for(;i.indexOf(" "+r+" ")>=0;)i=i.replace(" "+r+" "," ");n.className=e?lt.trim(i):""}return this},toggleClass:function(e,t){var n=typeof e,i="boolean"==typeof t;return lt.isFunction(e)?this.each(function(n){lt(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var r,o=0,a=lt(this),s=t,l=e.match(dt)||[];r=l[o++];)s=i?s:!a.hasClass(r),a[s?"addClass":"removeClass"](r);else(n===U||"boolean"===n)&&(this.className&&lt._data(this,"__className__",this.className),this.className=this.className||e===!1?"":lt._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(Dt," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,i,r,o=this[0];{if(arguments.length)return r=lt.isFunction(e),this.each(function(n){var o,a=lt(this);1===this.nodeType&&(o=r?e.call(this,n,a.val()):e,null==o?o="":"number"==typeof o?o+="":lt.isArray(o)&&(o=lt.map(o,function(e){return null==e?"":e+""})),i=lt.valHooks[this.type]||lt.valHooks[this.nodeName.toLowerCase()],i&&"set"in i&&i.set(this,o,"value")!==t||(this.value=o))});if(o)return i=lt.valHooks[o.type]||lt.valHooks[o.nodeName.toLowerCase()],i&&"get"in i&&(n=i.get(o,"value"))!==t?n:(n=o.value,"string"==typeof n?n.replace(At,""):null==n?"":n)}}}),lt.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){for(var t,n,i=e.options,r=e.selectedIndex,o="select-one"===e.type||0>r,a=o?null:[],s=o?r+1:i.length,l=0>r?s:o?r:0;s>l;l++)if(n=i[l],!(!n.selected&&l!==r||(lt.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&lt.nodeName(n.parentNode,"optgroup"))){if(t=lt(n).val(),o)return t;a.push(t)}return a},set:function(e,t){var n=lt.makeArray(t);return lt(e).find("option").each(function(){this.selected=lt.inArray(lt(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attr:function(e,n,i){var r,o,a,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return typeof e.getAttribute===U?lt.prop(e,n,i):(o=1!==s||!lt.isXMLDoc(e),o&&(n=n.toLowerCase(),r=lt.attrHooks[n]||(Lt.test(n)?Mt:St)),i===t?r&&o&&"get"in r&&null!==(a=r.get(e,n))?a:(typeof e.getAttribute!==U&&(a=e.getAttribute(n)),null==a?t:a):null!==i?r&&o&&"set"in r&&(a=r.set(e,i,n))!==t?a:(e.setAttribute(n,i+""),i):(lt.removeAttr(e,n),void 0))},removeAttr:function(e,t){var n,i,r=0,o=t&&t.match(dt);if(o&&1===e.nodeType)for(;n=o[r++];)i=lt.propFix[n]||n,Lt.test(n)?!Ft&&Pt.test(n)?e[lt.camelCase("default-"+n)]=e[i]=!1:e[i]=!1:lt.attr(e,n,""),e.removeAttribute(Ft?n:i)},attrHooks:{type:{set:function(e,t){if(!lt.support.radioValue&&"radio"===t&&lt.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,i){var r,o,a,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return a=1!==s||!lt.isXMLDoc(e),a&&(n=lt.propFix[n]||n,o=lt.propHooks[n]),i!==t?o&&"set"in o&&(r=o.set(e,i,n))!==t?r:e[n]=i:o&&"get"in o&&null!==(r=o.get(e,n))?r:e[n]},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):Et.test(e.nodeName)||Nt.test(e.nodeName)&&e.href?0:t}}}}),Mt={get:function(e,n){var i=lt.prop(e,n),r="boolean"==typeof i&&e.getAttribute(n),o="boolean"==typeof i?It&&Ft?null!=r:Pt.test(n)?e[lt.camelCase("default-"+n)]:!!r:e.getAttributeNode(n);return o&&o.value!==!1?n.toLowerCase():t},set:function(e,t,n){return t===!1?lt.removeAttr(e,n):It&&Ft||!Pt.test(n)?e.setAttribute(!Ft&&lt.propFix[n]||n,n):e[lt.camelCase("default-"+n)]=e[n]=!0,n}},It&&Ft||(lt.attrHooks.value={get:function(e,n){var i=e.getAttributeNode(n);return lt.nodeName(e,"input")?e.defaultValue:i&&i.specified?i.value:t},set:function(e,t,n){return lt.nodeName(e,"input")?(e.defaultValue=t,void 0):St&&St.set(e,t,n)}}),Ft||(St=lt.valHooks.button={get:function(e,n){var i=e.getAttributeNode(n);return i&&("id"===n||"name"===n||"coords"===n?""!==i.value:i.specified)?i.value:t},set:function(e,n,i){var r=e.getAttributeNode(i);return r||e.setAttributeNode(r=e.ownerDocument.createAttribute(i)),r.value=n+="","value"===i||n===e.getAttribute(i)?n:t
}},lt.attrHooks.contenteditable={get:St.get,set:function(e,t,n){St.set(e,""===t?!1:t,n)}},lt.each(["width","height"],function(e,t){lt.attrHooks[t]=lt.extend(lt.attrHooks[t],{set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}})})),lt.support.hrefNormalized||(lt.each(["href","src","width","height"],function(e,n){lt.attrHooks[n]=lt.extend(lt.attrHooks[n],{get:function(e){var i=e.getAttribute(n,2);return null==i?t:i}})}),lt.each(["href","src"],function(e,t){lt.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}})),lt.support.style||(lt.attrHooks.style={get:function(e){return e.style.cssText||t},set:function(e,t){return e.style.cssText=t+""}}),lt.support.optSelected||(lt.propHooks.selected=lt.extend(lt.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),lt.support.enctype||(lt.propFix.enctype="encoding"),lt.support.checkOn||lt.each(["radio","checkbox"],function(){lt.valHooks[this]={get:function(e){return null===e.getAttribute("value")?"on":e.value}}}),lt.each(["radio","checkbox"],function(){lt.valHooks[this]=lt.extend(lt.valHooks[this],{set:function(e,t){return lt.isArray(t)?e.checked=lt.inArray(lt(e).val(),t)>=0:void 0}})});var Rt=/^(?:input|select|textarea)$/i,Bt=/^key/,Ot=/^(?:mouse|contextmenu)|click/,Ht=/^(?:focusinfocus|focusoutblur)$/,zt=/^([^.]*)(?:\.(.+)|)$/;lt.event={global:{},add:function(e,n,i,r,o){var a,s,l,c,d,u,h,p,f,m,g,v=lt._data(e);if(v){for(i.handler&&(c=i,i=c.handler,o=c.selector),i.guid||(i.guid=lt.guid++),(s=v.events)||(s=v.events={}),(u=v.handle)||(u=v.handle=function(e){return typeof lt===U||e&&lt.event.triggered===e.type?t:lt.event.dispatch.apply(u.elem,arguments)},u.elem=e),n=(n||"").match(dt)||[""],l=n.length;l--;)a=zt.exec(n[l])||[],f=g=a[1],m=(a[2]||"").split(".").sort(),d=lt.event.special[f]||{},f=(o?d.delegateType:d.bindType)||f,d=lt.event.special[f]||{},h=lt.extend({type:f,origType:g,data:r,handler:i,guid:i.guid,selector:o,needsContext:o&&lt.expr.match.needsContext.test(o),namespace:m.join(".")},c),(p=s[f])||(p=s[f]=[],p.delegateCount=0,d.setup&&d.setup.call(e,r,m,u)!==!1||(e.addEventListener?e.addEventListener(f,u,!1):e.attachEvent&&e.attachEvent("on"+f,u))),d.add&&(d.add.call(e,h),h.handler.guid||(h.handler.guid=i.guid)),o?p.splice(p.delegateCount++,0,h):p.push(h),lt.event.global[f]=!0;e=null}},remove:function(e,t,n,i,r){var o,a,s,l,c,d,u,h,p,f,m,g=lt.hasData(e)&&lt._data(e);if(g&&(d=g.events)){for(t=(t||"").match(dt)||[""],c=t.length;c--;)if(s=zt.exec(t[c])||[],p=m=s[1],f=(s[2]||"").split(".").sort(),p){for(u=lt.event.special[p]||{},p=(i?u.delegateType:u.bindType)||p,h=d[p]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=h.length;o--;)a=h[o],!r&&m!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||i&&i!==a.selector&&("**"!==i||!a.selector)||(h.splice(o,1),a.selector&&h.delegateCount--,u.remove&&u.remove.call(e,a));l&&!h.length&&(u.teardown&&u.teardown.call(e,f,g.handle)!==!1||lt.removeEvent(e,p,g.handle),delete d[p])}else for(p in d)lt.event.remove(e,p+t[c],n,i,!0);lt.isEmptyObject(d)&&(delete g.handle,lt._removeData(e,"events"))}},trigger:function(n,i,r,o){var a,s,l,c,d,u,h,p=[r||X],f=at.call(n,"type")?n.type:n,m=at.call(n,"namespace")?n.namespace.split("."):[];if(l=u=r=r||X,3!==r.nodeType&&8!==r.nodeType&&!Ht.test(f+lt.event.triggered)&&(f.indexOf(".")>=0&&(m=f.split("."),f=m.shift(),m.sort()),s=f.indexOf(":")<0&&"on"+f,n=n[lt.expando]?n:new lt.Event(f,"object"==typeof n&&n),n.isTrigger=!0,n.namespace=m.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=t,n.target||(n.target=r),i=null==i?[n]:lt.makeArray(i,[n]),d=lt.event.special[f]||{},o||!d.trigger||d.trigger.apply(r,i)!==!1)){if(!o&&!d.noBubble&&!lt.isWindow(r)){for(c=d.delegateType||f,Ht.test(c+f)||(l=l.parentNode);l;l=l.parentNode)p.push(l),u=l;u===(r.ownerDocument||X)&&p.push(u.defaultView||u.parentWindow||e)}for(h=0;(l=p[h++])&&!n.isPropagationStopped();)n.type=h>1?c:d.bindType||f,a=(lt._data(l,"events")||{})[n.type]&&lt._data(l,"handle"),a&&a.apply(l,i),a=s&&l[s],a&&lt.acceptData(l)&&a.apply&&a.apply(l,i)===!1&&n.preventDefault();if(n.type=f,!(o||n.isDefaultPrevented()||d._default&&d._default.apply(r.ownerDocument,i)!==!1||"click"===f&&lt.nodeName(r,"a")||!lt.acceptData(r)||!s||!r[f]||lt.isWindow(r))){u=r[s],u&&(r[s]=null),lt.event.triggered=f;try{r[f]()}catch(g){}lt.event.triggered=t,u&&(r[s]=u)}return n.result}},dispatch:function(e){e=lt.event.fix(e);var n,i,r,o,a,s=[],l=it.call(arguments),c=(lt._data(this,"events")||{})[e.type]||[],d=lt.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!d.preDispatch||d.preDispatch.call(this,e)!==!1){for(s=lt.event.handlers.call(this,e,c),n=0;(o=s[n++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,a=0;(r=o.handlers[a++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(r.namespace))&&(e.handleObj=r,e.data=r.data,i=((lt.event.special[r.origType]||{}).handle||r.handler).apply(o.elem,l),i!==t&&(e.result=i)===!1&&(e.preventDefault(),e.stopPropagation()));return d.postDispatch&&d.postDispatch.call(this,e),e.result}},handlers:function(e,n){var i,r,o,a,s=[],l=n.delegateCount,c=e.target;if(l&&c.nodeType&&(!e.button||"click"!==e.type))for(;c!=this;c=c.parentNode||this)if(1===c.nodeType&&(c.disabled!==!0||"click"!==e.type)){for(o=[],a=0;l>a;a++)r=n[a],i=r.selector+" ",o[i]===t&&(o[i]=r.needsContext?lt(i,this).index(c)>=0:lt.find(i,this,null,[c]).length),o[i]&&o.push(r);o.length&&s.push({elem:c,handlers:o})}return l<n.length&&s.push({elem:this,handlers:n.slice(l)}),s},fix:function(e){if(e[lt.expando])return e;var t,n,i,r=e.type,o=e,a=this.fixHooks[r];for(a||(this.fixHooks[r]=a=Ot.test(r)?this.mouseHooks:Bt.test(r)?this.keyHooks:{}),i=a.props?this.props.concat(a.props):this.props,e=new lt.Event(o),t=i.length;t--;)n=i[t],e[n]=o[n];return e.target||(e.target=o.srcElement||X),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var i,r,o,a=n.button,s=n.fromElement;return null==e.pageX&&null!=n.clientX&&(r=e.target.ownerDocument||X,o=r.documentElement,i=r.body,e.pageX=n.clientX+(o&&o.scrollLeft||i&&i.scrollLeft||0)-(o&&o.clientLeft||i&&i.clientLeft||0),e.pageY=n.clientY+(o&&o.scrollTop||i&&i.scrollTop||0)-(o&&o.clientTop||i&&i.clientTop||0)),!e.relatedTarget&&s&&(e.relatedTarget=s===e.target?n.toElement:s),e.which||a===t||(e.which=1&a?1:2&a?3:4&a?2:0),e}},special:{load:{noBubble:!0},click:{trigger:function(){return lt.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0}},focus:{trigger:function(){if(this!==X.activeElement&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===X.activeElement&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){var r=lt.extend(new lt.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?lt.event.trigger(r,null,t):lt.event.dispatch.call(t,r),r.isDefaultPrevented()&&n.preventDefault()}},lt.removeEvent=X.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var i="on"+t;e.detachEvent&&(typeof e[i]===U&&(e[i]=null),e.detachEvent(i,n))},lt.Event=function(e,t){return this instanceof lt.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?l:c):this.type=e,t&&lt.extend(this,t),this.timeStamp=e&&e.timeStamp||lt.now(),this[lt.expando]=!0,void 0):new lt.Event(e,t)},lt.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=l,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=l,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=l,this.stopPropagation()}},lt.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){lt.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,o=e.handleObj;return(!r||r!==i&&!lt.contains(i,r))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),lt.support.submitBubbles||(lt.event.special.submit={setup:function(){return lt.nodeName(this,"form")?!1:(lt.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,i=lt.nodeName(n,"input")||lt.nodeName(n,"button")?n.form:t;i&&!lt._data(i,"submitBubbles")&&(lt.event.add(i,"submit._submit",function(e){e._submit_bubble=!0}),lt._data(i,"submitBubbles",!0))}),void 0)},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&lt.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return lt.nodeName(this,"form")?!1:(lt.event.remove(this,"._submit"),void 0)}}),lt.support.changeBubbles||(lt.event.special.change={setup:function(){return Rt.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(lt.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),lt.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),lt.event.simulate("change",this,e,!0)})),!1):(lt.event.add(this,"beforeactivate._change",function(e){var t=e.target;Rt.test(t.nodeName)&&!lt._data(t,"changeBubbles")&&(lt.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||lt.event.simulate("change",this.parentNode,e,!0)}),lt._data(t,"changeBubbles",!0))}),void 0)},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return lt.event.remove(this,"._change"),!Rt.test(this.nodeName)}}),lt.support.focusinBubbles||lt.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,i=function(e){lt.event.simulate(t,e.target,lt.event.fix(e),!0)};lt.event.special[t]={setup:function(){0===n++&&X.addEventListener(e,i,!0)},teardown:function(){0===--n&&X.removeEventListener(e,i,!0)}}}),lt.fn.extend({on:function(e,n,i,r,o){var a,s;if("object"==typeof e){"string"!=typeof n&&(i=i||n,n=t);for(a in e)this.on(a,n,i,e[a],o);return this}if(null==i&&null==r?(r=n,i=n=t):null==r&&("string"==typeof n?(r=i,i=t):(r=i,i=n,n=t)),r===!1)r=c;else if(!r)return this;return 1===o&&(s=r,r=function(e){return lt().off(e),s.apply(this,arguments)},r.guid=s.guid||(s.guid=lt.guid++)),this.each(function(){lt.event.add(this,e,r,i,n)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,n,i){var r,o;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,lt(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(o in e)this.off(o,n,e[o]);return this}return(n===!1||"function"==typeof n)&&(i=n,n=t),i===!1&&(i=c),this.each(function(){lt.event.remove(this,e,i,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},trigger:function(e,t){return this.each(function(){lt.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?lt.event.trigger(e,t,n,!0):void 0}}),/*!
 * Sizzle CSS Selector Engine
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license
 * http://sizzlejs.com/
 */
function(e,t){function n(e){return ft.test(e+"")}function i(){var e,t=[];return e=function(n,i){return t.push(n+=" ")>C.cacheLength&&delete e[t.shift()],e[n]=i}}function r(e){return e[H]=!0,e}function o(e){var t=N.createElement("div");try{return e(t)}catch(n){return!1}finally{t=null}}function a(e,t,n,i){var r,o,a,s,l,c,d,p,f,m;if((t?t.ownerDocument||t:z)!==N&&E(t),t=t||N,n=n||[],!e||"string"!=typeof e)return n;if(1!==(s=t.nodeType)&&9!==s)return[];if(!P&&!i){if(r=mt.exec(e))if(a=r[1]){if(9===s){if(o=t.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&B(t,o)&&o.id===a)return n.push(o),n}else{if(r[2])return Q.apply(n,Z.call(t.getElementsByTagName(e),0)),n;if((a=r[3])&&j.getByClassName&&t.getElementsByClassName)return Q.apply(n,Z.call(t.getElementsByClassName(a),0)),n}if(j.qsa&&!F.test(e)){if(d=!0,p=H,f=t,m=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(c=u(e),(d=t.getAttribute("id"))?p=d.replace(yt,"\\$&"):t.setAttribute("id",p),p="[id='"+p+"'] ",l=c.length;l--;)c[l]=p+h(c[l]);f=pt.test(e)&&t.parentNode||t,m=c.join(",")}if(m)try{return Q.apply(n,Z.call(f.querySelectorAll(m),0)),n}catch(g){}finally{d||t.removeAttribute("id")}}}return x(e.replace(at,"$1"),t,n,i)}function s(e,t){var n=t&&e,i=n&&(~t.sourceIndex||X)-(~e.sourceIndex||X);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function l(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function c(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function d(e){return r(function(t){return t=+t,r(function(n,i){for(var r,o=e([],n.length,t),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))})})}function u(e,t){var n,i,r,o,s,l,c,d=V[e+" "];if(d)return t?0:d.slice(0);for(s=e,l=[],c=C.preFilter;s;){(!n||(i=st.exec(s)))&&(i&&(s=s.slice(i[0].length)||s),l.push(r=[])),n=!1,(i=ct.exec(s))&&(n=i.shift(),r.push({value:n,type:i[0].replace(at," ")}),s=s.slice(n.length));for(o in C.filter)!(i=ht[o].exec(s))||c[o]&&!(i=c[o](i))||(n=i.shift(),r.push({value:n,type:o,matches:i}),s=s.slice(n.length));if(!n)break}return t?s.length:s?a.error(e):V(e,l).slice(0)}function h(e){for(var t=0,n=e.length,i="";n>t;t++)i+=e[t].value;return i}function p(e,t,n){var i=t.dir,r=n&&"parentNode"===i,o=W++;return t.first?function(t,n,o){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,o)}:function(t,n,a){var s,l,c,d=$+" "+o;if(a){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,a))return!0}else for(;t=t[i];)if(1===t.nodeType||r)if(c=t[H]||(t[H]={}),(l=c[i])&&l[0]===d){if((s=l[1])===!0||s===w)return s===!0}else if(l=c[i]=[d],l[1]=e(t,n,a)||w,l[1]===!0)return!0}}function f(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function m(e,t,n,i,r){for(var o,a=[],s=0,l=e.length,c=null!=t;l>s;s++)(o=e[s])&&(!n||n(o,i,r))&&(a.push(o),c&&t.push(s));return a}function g(e,t,n,i,o,a){return i&&!i[H]&&(i=g(i)),o&&!o[H]&&(o=g(o,a)),r(function(r,a,s,l){var c,d,u,h=[],p=[],f=a.length,g=r||b(t||"*",s.nodeType?[s]:s,[]),v=!e||!r&&t?g:m(g,h,e,s,l),y=n?o||(r?e:f||i)?[]:a:v;if(n&&n(v,y,s,l),i)for(c=m(y,p),i(c,[],s,l),d=c.length;d--;)(u=c[d])&&(y[p[d]]=!(v[p[d]]=u));if(r){if(o||e){if(o){for(c=[],d=y.length;d--;)(u=y[d])&&c.push(v[d]=u);o(null,y=[],c,l)}for(d=y.length;d--;)(u=y[d])&&(c=o?J.call(r,u):h[d])>-1&&(r[c]=!(a[c]=u))}}else y=m(y===a?y.splice(f,y.length):y),o?o(null,a,y,l):Q.apply(a,y)})}function v(e){for(var t,n,i,r=e.length,o=C.relative[e[0].type],a=o||C.relative[" "],s=o?1:0,l=p(function(e){return e===t},a,!0),c=p(function(e){return J.call(t,e)>-1},a,!0),d=[function(e,n,i){return!o&&(i||n!==A)||((t=n).nodeType?l(e,n,i):c(e,n,i))}];r>s;s++)if(n=C.relative[e[s].type])d=[p(f(d),n)];else{if(n=C.filter[e[s].type].apply(null,e[s].matches),n[H]){for(i=++s;r>i&&!C.relative[e[i].type];i++);return g(s>1&&f(d),s>1&&h(e.slice(0,s-1)).replace(at,"$1"),n,i>s&&v(e.slice(s,i)),r>i&&v(e=e.slice(i)),r>i&&h(e))}d.push(n)}return f(d)}function y(e,t){var n=0,i=t.length>0,o=e.length>0,s=function(r,s,l,c,d){var u,h,p,f=[],g=0,v="0",y=r&&[],b=null!=d,x=A,k=r||o&&C.find.TAG("*",d&&s.parentNode||s),_=$+=null==x?1:Math.random()||.1;for(b&&(A=s!==N&&s,w=n);null!=(u=k[v]);v++){if(o&&u){for(h=0;p=e[h++];)if(p(u,s,l)){c.push(u);break}b&&($=_,w=++n)}i&&((u=!p&&u)&&g--,r&&y.push(u))}if(g+=v,i&&v!==g){for(h=0;p=t[h++];)p(y,f,s,l);if(r){if(g>0)for(;v--;)y[v]||f[v]||(f[v]=K.call(c));f=m(f)}Q.apply(c,f),b&&!r&&f.length>0&&g+t.length>1&&a.uniqueSort(c)}return b&&($=_,A=x),y};return i?r(s):s}function b(e,t,n){for(var i=0,r=t.length;r>i;i++)a(e,t[i],n);return n}function x(e,t,n,i){var r,o,a,s,l,c=u(e);if(!i&&1===c.length){if(o=c[0]=c[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&9===t.nodeType&&!P&&C.relative[o[1].type]){if(t=C.find.ID(a.matches[0].replace(xt,kt),t)[0],!t)return n;e=e.slice(o.shift().value.length)}for(r=ht.needsContext.test(e)?0:o.length;r--&&(a=o[r],!C.relative[s=a.type]);)if((l=C.find[s])&&(i=l(a.matches[0].replace(xt,kt),pt.test(o[0].type)&&t.parentNode||t))){if(o.splice(r,1),e=i.length&&h(o),!e)return Q.apply(n,Z.call(i,0)),n;break}}return M(e,c)(i,t,P,n,pt.test(e)),n}function k(){}var _,w,C,T,S,M,D,A,E,N,L,P,F,I,R,B,O,H="sizzle"+-new Date,z=e.document,j={},$=0,W=0,Y=i(),V=i(),q=i(),U=typeof t,X=1<<31,G=[],K=G.pop,Q=G.push,Z=G.slice,J=G.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},et="[\\x20\\t\\r\\n\\f]",tt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",nt=tt.replace("w","w#"),it="([*^$|!~]?=)",rt="\\["+et+"*("+tt+")"+et+"*(?:"+it+et+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+nt+")|)|)"+et+"*\\]",ot=":("+tt+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+rt.replace(3,8)+")*)|.*)\\)|)",at=new RegExp("^"+et+"+|((?:^|[^\\\\])(?:\\\\.)*)"+et+"+$","g"),st=new RegExp("^"+et+"*,"+et+"*"),ct=new RegExp("^"+et+"*([\\x20\\t\\r\\n\\f>+~])"+et+"*"),dt=new RegExp(ot),ut=new RegExp("^"+nt+"$"),ht={ID:new RegExp("^#("+tt+")"),CLASS:new RegExp("^\\.("+tt+")"),NAME:new RegExp("^\\[name=['\"]?("+tt+")['\"]?\\]"),TAG:new RegExp("^("+tt.replace("w","w*")+")"),ATTR:new RegExp("^"+rt),PSEUDO:new RegExp("^"+ot),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+et+"*(even|odd|(([+-]|)(\\d*)n|)"+et+"*(?:([+-]|)"+et+"*(\\d+)|))"+et+"*\\)|)","i"),needsContext:new RegExp("^"+et+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+et+"*((?:-\\d)?\\d*)"+et+"*\\)|)(?=[^-]|$)","i")},pt=/[\x20\t\r\n\f]*[+~]/,ft=/^[^{]+\{\s*\[native code/,mt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,gt=/^(?:input|select|textarea|button)$/i,vt=/^h\d$/i,yt=/'|\\/g,bt=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,xt=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,kt=function(e,t){var n="0x"+t-65536;return n!==n?t:0>n?String.fromCharCode(n+65536):String.fromCharCode(55296|n>>10,56320|1023&n)};try{Z.call(z.documentElement.childNodes,0)[0].nodeType}catch(_t){Z=function(e){for(var t,n=[];t=this[e++];)n.push(t);return n}}S=a.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},E=a.setDocument=function(e){var i=e?e.ownerDocument||e:z;return i!==N&&9===i.nodeType&&i.documentElement?(N=i,L=i.documentElement,P=S(i),j.tagNameNoComments=o(function(e){return e.appendChild(i.createComment("")),!e.getElementsByTagName("*").length}),j.attributes=o(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return"boolean"!==t&&"string"!==t}),j.getByClassName=o(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",e.getElementsByClassName&&e.getElementsByClassName("e").length?(e.lastChild.className="e",2===e.getElementsByClassName("e").length):!1}),j.getByName=o(function(e){e.id=H+0,e.innerHTML="<a name='"+H+"'></a><div name='"+H+"'></div>",L.insertBefore(e,L.firstChild);var t=i.getElementsByName&&i.getElementsByName(H).length===2+i.getElementsByName(H+0).length;return j.getIdNotName=!i.getElementById(H),L.removeChild(e),t}),C.attrHandle=o(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==U&&"#"===e.firstChild.getAttribute("href")})?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},j.getIdNotName?(C.find.ID=function(e,t){if(typeof t.getElementById!==U&&!P){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},C.filter.ID=function(e){var t=e.replace(xt,kt);return function(e){return e.getAttribute("id")===t}}):(C.find.ID=function(e,n){if(typeof n.getElementById!==U&&!P){var i=n.getElementById(e);return i?i.id===e||typeof i.getAttributeNode!==U&&i.getAttributeNode("id").value===e?[i]:t:[]}},C.filter.ID=function(e){var t=e.replace(xt,kt);return function(e){var n=typeof e.getAttributeNode!==U&&e.getAttributeNode("id");return n&&n.value===t}}),C.find.TAG=j.tagNameNoComments?function(e,t){return typeof t.getElementsByTagName!==U?t.getElementsByTagName(e):void 0}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},C.find.NAME=j.getByName&&function(e,t){return typeof t.getElementsByName!==U?t.getElementsByName(name):void 0},C.find.CLASS=j.getByClassName&&function(e,t){return typeof t.getElementsByClassName===U||P?void 0:t.getElementsByClassName(e)},I=[],F=[":focus"],(j.qsa=n(i.querySelectorAll))&&(o(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||F.push("\\["+et+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||F.push(":checked")}),o(function(e){e.innerHTML="<input type='hidden' i=''/>",e.querySelectorAll("[i^='']").length&&F.push("[*^$]="+et+"*(?:\"\"|'')"),e.querySelectorAll(":enabled").length||F.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),F.push(",.*:")})),(j.matchesSelector=n(R=L.matchesSelector||L.mozMatchesSelector||L.webkitMatchesSelector||L.oMatchesSelector||L.msMatchesSelector))&&o(function(e){j.disconnectedMatch=R.call(e,"div"),R.call(e,"[s!='']:x"),I.push("!=",ot)}),F=new RegExp(F.join("|")),I=new RegExp(I.join("|")),B=n(L.contains)||L.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},O=L.compareDocumentPosition?function(e,t){var n;return e===t?(D=!0,0):(n=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t))?1&n||e.parentNode&&11===e.parentNode.nodeType?e===i||B(z,e)?-1:t===i||B(z,t)?1:0:4&n?-1:1:e.compareDocumentPosition?-1:1}:function(e,t){var n,r=0,o=e.parentNode,a=t.parentNode,l=[e],c=[t];if(e===t)return D=!0,0;if(!o||!a)return e===i?-1:t===i?1:o?-1:a?1:0;if(o===a)return s(e,t);for(n=e;n=n.parentNode;)l.unshift(n);for(n=t;n=n.parentNode;)c.unshift(n);for(;l[r]===c[r];)r++;return r?s(l[r],c[r]):l[r]===z?-1:c[r]===z?1:0},D=!1,[0,0].sort(O),j.detectDuplicates=D,N):N},a.matches=function(e,t){return a(e,null,null,t)},a.matchesSelector=function(e,t){if((e.ownerDocument||e)!==N&&E(e),t=t.replace(bt,"='$1']"),!(!j.matchesSelector||P||I&&I.test(t)||F.test(t)))try{var n=R.call(e,t);if(n||j.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(i){}return a(t,N,null,[e]).length>0},a.contains=function(e,t){return(e.ownerDocument||e)!==N&&E(e),B(e,t)},a.attr=function(e,t){var n;return(e.ownerDocument||e)!==N&&E(e),P||(t=t.toLowerCase()),(n=C.attrHandle[t])?n(e):P||j.attributes?e.getAttribute(t):((n=e.getAttributeNode(t))||e.getAttribute(t))&&e[t]===!0?t:n&&n.specified?n.value:null},a.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},a.uniqueSort=function(e){var t,n=[],i=1,r=0;if(D=!j.detectDuplicates,e.sort(O),D){for(;t=e[i];i++)t===e[i-1]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return e},T=a.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=T(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i];i++)n+=T(t);return n},C=a.selectors={cacheLength:50,createPseudo:r,match:ht,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(xt,kt),e[3]=(e[4]||e[5]||"").replace(xt,kt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||a.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&a.error(e[0]),e},PSEUDO:function(e){var t,n=!e[5]&&e[2];return ht.CHILD.test(e[0])?null:(e[4]?e[2]=e[4]:n&&dt.test(n)&&(t=u(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){return"*"===e?function(){return!0}:(e=e.replace(xt,kt).toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=Y[e+" "];return t||(t=new RegExp("(^|"+et+")"+e+"("+et+"|$)"))&&Y(e,function(e){return t.test(e.className||typeof e.getAttribute!==U&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(i){var r=a.attr(i,e);return null==r?"!="===t:t?(r+="","="===t?r===n:"!="===t?r!==n:"^="===t?n&&0===r.indexOf(n):"*="===t?n&&r.indexOf(n)>-1:"$="===t?n&&r.slice(-n.length)===n:"~="===t?(" "+r+" ").indexOf(n)>-1:"|="===t?r===n||r.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var c,d,u,h,p,f,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!l&&!s;if(g){if(o){for(;m;){for(u=t;u=u[m];)if(s?u.nodeName.toLowerCase()===v:1===u.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[a?g.firstChild:g.lastChild],a&&y){for(d=g[H]||(g[H]={}),c=d[e]||[],p=c[0]===$&&c[1],h=c[0]===$&&c[2],u=p&&g.childNodes[p];u=++p&&u&&u[m]||(h=p=0)||f.pop();)if(1===u.nodeType&&++h&&u===t){d[e]=[$,p,h];break}}else if(y&&(c=(t[H]||(t[H]={}))[e])&&c[0]===$)h=c[1];else for(;(u=++p&&u&&u[m]||(h=p=0)||f.pop())&&((s?u.nodeName.toLowerCase()!==v:1!==u.nodeType)||!++h||(y&&((u[H]||(u[H]={}))[e]=[$,h]),u!==t)););return h-=r,h===i||0===h%i&&h/i>=0}}},PSEUDO:function(e,t){var n,i=C.pseudos[e]||C.setFilters[e.toLowerCase()]||a.error("unsupported pseudo: "+e);return i[H]?i(t):i.length>1?(n=[e,e,"",t],C.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,n){for(var r,o=i(e,t),a=o.length;a--;)r=J.call(e,o[a]),e[r]=!(n[r]=o[a])}):function(e){return i(e,0,n)}):i}},pseudos:{not:r(function(e){var t=[],n=[],i=M(e.replace(at,"$1"));return i[H]?r(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),!n.pop()}}),has:r(function(e){return function(t){return a(e,t).length>0}}),contains:r(function(e){return function(t){return(t.textContent||t.innerText||T(t)).indexOf(e)>-1}}),lang:r(function(e){return ut.test(e||"")||a.error("unsupported lang: "+e),e=e.replace(xt,kt).toLowerCase(),function(t){var n;do if(n=P?t.getAttribute("xml:lang")||t.getAttribute("lang"):t.lang)return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===L},focus:function(e){return e===N.activeElement&&(!N.hasFocus||N.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!C.pseudos.empty(e)},header:function(e){return vt.test(e.nodeName)},input:function(e){return gt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:d(function(){return[0]}),last:d(function(e,t){return[t-1]}),eq:d(function(e,t,n){return[0>n?n+t:n]}),even:d(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:d(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:d(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:d(function(e,t,n){for(var i=0>n?n+t:n;++i<t;)e.push(i);return e})}};for(_ in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[_]=l(_);for(_ in{submit:!0,reset:!0})C.pseudos[_]=c(_);M=a.compile=function(e,t){var n,i=[],r=[],o=q[e+" "];if(!o){for(t||(t=u(e)),n=t.length;n--;)o=v(t[n]),o[H]?i.push(o):r.push(o);o=q(e,y(r,i))}return o},C.pseudos.nth=C.pseudos.eq,C.filters=k.prototype=C.pseudos,C.setFilters=new k,E(),a.attr=lt.attr,lt.find=a,lt.expr=a.selectors,lt.expr[":"]=lt.expr.pseudos,lt.unique=a.uniqueSort,lt.text=a.getText,lt.isXMLDoc=a.isXML,lt.contains=a.contains}(e);var jt=/Until$/,$t=/^(?:parents|prev(?:Until|All))/,Wt=/^.[^:#\[\.,]*$/,Yt=lt.expr.match.needsContext,Vt={children:!0,contents:!0,next:!0,prev:!0};lt.fn.extend({find:function(e){var t,n,i,r=this.length;if("string"!=typeof e)return i=this,this.pushStack(lt(e).filter(function(){for(t=0;r>t;t++)if(lt.contains(i[t],this))return!0}));for(n=[],t=0;r>t;t++)lt.find(e,this[t],n);return n=this.pushStack(r>1?lt.unique(n):n),n.selector=(this.selector?this.selector+" ":"")+e,n},has:function(e){var t,n=lt(e,this),i=n.length;return this.filter(function(){for(t=0;i>t;t++)if(lt.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(u(this,e,!1))},filter:function(e){return this.pushStack(u(this,e,!0))},is:function(e){return!!e&&("string"==typeof e?Yt.test(e)?lt(e,this.context).index(this[0])>=0:lt.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){for(var n,i=0,r=this.length,o=[],a=Yt.test(e)||"string"!=typeof e?lt(e,t||this.context):0;r>i;i++)for(n=this[i];n&&n.ownerDocument&&n!==t&&11!==n.nodeType;){if(a?a.index(n)>-1:lt.find.matchesSelector(n,e)){o.push(n);break}n=n.parentNode}return this.pushStack(o.length>1?lt.unique(o):o)},index:function(e){return e?"string"==typeof e?lt.inArray(this[0],lt(e)):lt.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?lt(e,t):lt.makeArray(e&&e.nodeType?[e]:e),i=lt.merge(this.get(),n);return this.pushStack(lt.unique(i))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),lt.fn.andSelf=lt.fn.addBack,lt.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return lt.dir(e,"parentNode")},parentsUntil:function(e,t,n){return lt.dir(e,"parentNode",n)},next:function(e){return d(e,"nextSibling")},prev:function(e){return d(e,"previousSibling")},nextAll:function(e){return lt.dir(e,"nextSibling")},prevAll:function(e){return lt.dir(e,"previousSibling")},nextUntil:function(e,t,n){return lt.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return lt.dir(e,"previousSibling",n)},siblings:function(e){return lt.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return lt.sibling(e.firstChild)},contents:function(e){return lt.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:lt.merge([],e.childNodes)}},function(e,t){lt.fn[e]=function(n,i){var r=lt.map(this,t,n);return jt.test(e)||(i=n),i&&"string"==typeof i&&(r=lt.filter(i,r)),r=this.length>1&&!Vt[e]?lt.unique(r):r,this.length>1&&$t.test(e)&&(r=r.reverse()),this.pushStack(r)}}),lt.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),1===t.length?lt.find.matchesSelector(t[0],e)?[t[0]]:[]:lt.find.matches(e,t)},dir:function(e,n,i){for(var r=[],o=e[n];o&&9!==o.nodeType&&(i===t||1!==o.nodeType||!lt(o).is(i));)1===o.nodeType&&r.push(o),o=o[n];return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var qt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Ut=/ jQuery\d+="(?:null|\d+)"/g,Xt=new RegExp("<(?:"+qt+")[\\s/>]","i"),Gt=/^\s+/,Kt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Qt=/<([\w:]+)/,Zt=/<tbody/i,Jt=/<|&#?\w+;/,en=/<(?:script|style|link)/i,tn=/^(?:checkbox|radio)$/i,nn=/checked\s*(?:[^=]|=\s*.checked.)/i,rn=/^$|\/(?:java|ecma)script/i,on=/^true\/(.*)/,an=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,sn={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:lt.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},ln=h(X),cn=ln.appendChild(X.createElement("div"));sn.optgroup=sn.option,sn.tbody=sn.tfoot=sn.colgroup=sn.caption=sn.thead,sn.th=sn.td,lt.fn.extend({text:function(e){return lt.access(this,function(e){return e===t?lt.text(this):this.empty().append((this[0]&&this[0].ownerDocument||X).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(lt.isFunction(e))return this.each(function(t){lt(this).wrapAll(e.call(this,t))});if(this[0]){var t=lt(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return lt.isFunction(e)?this.each(function(t){lt(this).wrapInner(e.call(this,t))}):this.each(function(){var t=lt(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=lt.isFunction(e);return this.each(function(n){lt(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){lt.nodeName(this,"body")||lt(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.insertBefore(e,this.firstChild)})},before:function(){return this.domManip(arguments,!1,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,!1,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=0;null!=(n=this[i]);i++)(!e||lt.filter(e,[n]).length>0)&&(t||1!==n.nodeType||lt.cleanData(b(n)),n.parentNode&&(t&&lt.contains(n.ownerDocument,n)&&g(b(n,"script")),n.parentNode.removeChild(n)));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&lt.cleanData(b(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&lt.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return lt.clone(this,e,t)})},html:function(e){return lt.access(this,function(e){var n=this[0]||{},i=0,r=this.length;if(e===t)return 1===n.nodeType?n.innerHTML.replace(Ut,""):t;if(!("string"!=typeof e||en.test(e)||!lt.support.htmlSerialize&&Xt.test(e)||!lt.support.leadingWhitespace&&Gt.test(e)||sn[(Qt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Kt,"<$1></$2>");try{for(;r>i;i++)n=this[i]||{},1===n.nodeType&&(lt.cleanData(b(n,!1)),n.innerHTML=e);n=0}catch(o){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){var t=lt.isFunction(e);return t||"string"==typeof e||(e=lt(e).not(this).detach()),this.domManip([e],!0,function(e){var t=this.nextSibling,n=this.parentNode;n&&(lt(this).remove(),n.insertBefore(e,t))})},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,i){e=tt.apply([],e);var r,o,a,s,l,c,d=0,u=this.length,h=this,g=u-1,v=e[0],y=lt.isFunction(v);if(y||!(1>=u||"string"!=typeof v||lt.support.checkClone)&&nn.test(v))return this.each(function(r){var o=h.eq(r);y&&(e[0]=v.call(this,r,n?o.html():t)),o.domManip(e,n,i)});if(u&&(c=lt.buildFragment(e,this[0].ownerDocument,!1,this),r=c.firstChild,1===c.childNodes.length&&(c=r),r)){for(n=n&&lt.nodeName(r,"tr"),s=lt.map(b(c,"script"),f),a=s.length;u>d;d++)o=c,d!==g&&(o=lt.clone(o,!0,!0),a&&lt.merge(s,b(o,"script"))),i.call(n&&lt.nodeName(this[d],"table")?p(this[d],"tbody"):this[d],o,d);if(a)for(l=s[s.length-1].ownerDocument,lt.map(s,m),d=0;a>d;d++)o=s[d],rn.test(o.type||"")&&!lt._data(o,"globalEval")&&lt.contains(l,o)&&(o.src?lt.ajax({url:o.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):lt.globalEval((o.text||o.textContent||o.innerHTML||"").replace(an,"")));c=r=null}return this}}),lt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){lt.fn[e]=function(e){for(var n,i=0,r=[],o=lt(e),a=o.length-1;a>=i;i++)n=i===a?this:this.clone(!0),lt(o[i])[t](n),nt.apply(r,n.get());return this.pushStack(r)}}),lt.extend({clone:function(e,t,n){var i,r,o,a,s,l=lt.contains(e.ownerDocument,e);if(lt.support.html5Clone||lt.isXMLDoc(e)||!Xt.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(cn.innerHTML=e.outerHTML,cn.removeChild(o=cn.firstChild)),!(lt.support.noCloneEvent&&lt.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||lt.isXMLDoc(e)))for(i=b(o),s=b(e),a=0;null!=(r=s[a]);++a)i[a]&&y(r,i[a]);if(t)if(n)for(s=s||b(e),i=i||b(o),a=0;null!=(r=s[a]);a++)v(r,i[a]);else v(e,o);return i=b(o,"script"),i.length>0&&g(i,!l&&b(e,"script")),i=s=r=null,o},buildFragment:function(e,t,n,i){for(var r,o,a,s,l,c,d,u=e.length,p=h(t),f=[],m=0;u>m;m++)if(o=e[m],o||0===o)if("object"===lt.type(o))lt.merge(f,o.nodeType?[o]:o);else if(Jt.test(o)){for(s=s||p.appendChild(t.createElement("div")),l=(Qt.exec(o)||["",""])[1].toLowerCase(),d=sn[l]||sn._default,s.innerHTML=d[1]+o.replace(Kt,"<$1></$2>")+d[2],r=d[0];r--;)s=s.lastChild;if(!lt.support.leadingWhitespace&&Gt.test(o)&&f.push(t.createTextNode(Gt.exec(o)[0])),!lt.support.tbody)for(o="table"!==l||Zt.test(o)?"<table>"!==d[1]||Zt.test(o)?0:s:s.firstChild,r=o&&o.childNodes.length;r--;)lt.nodeName(c=o.childNodes[r],"tbody")&&!c.childNodes.length&&o.removeChild(c);for(lt.merge(f,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=p.lastChild}else f.push(t.createTextNode(o));for(s&&p.removeChild(s),lt.support.appendChecked||lt.grep(b(f,"input"),x),m=0;o=f[m++];)if((!i||-1===lt.inArray(o,i))&&(a=lt.contains(o.ownerDocument,o),s=b(p.appendChild(o),"script"),a&&g(s),n))for(r=0;o=s[r++];)rn.test(o.type||"")&&n.push(o);return s=null,p},cleanData:function(e,t){for(var n,i,r,o,a=0,s=lt.expando,l=lt.cache,c=lt.support.deleteExpando,d=lt.event.special;null!=(n=e[a]);a++)if((t||lt.acceptData(n))&&(r=n[s],o=r&&l[r])){if(o.events)for(i in o.events)d[i]?lt.event.remove(n,i):lt.removeEvent(n,i,o.handle);l[r]&&(delete l[r],c?delete n[s]:typeof n.removeAttribute!==U?n.removeAttribute(s):n[s]=null,J.push(r))}}});var dn,un,hn,pn=/alpha\([^)]*\)/i,fn=/opacity\s*=\s*([^)]*)/,mn=/^(top|right|bottom|left)$/,gn=/^(none|table(?!-c[ea]).+)/,vn=/^margin/,yn=new RegExp("^("+ct+")(.*)$","i"),bn=new RegExp("^("+ct+")(?!px)[a-z%]+$","i"),xn=new RegExp("^([+-])=("+ct+")","i"),kn={BODY:"block"},_n={position:"absolute",visibility:"hidden",display:"block"},wn={letterSpacing:0,fontWeight:400},Cn=["Top","Right","Bottom","Left"],Tn=["Webkit","O","Moz","ms"];lt.fn.extend({css:function(e,n){return lt.access(this,function(e,n,i){var r,o,a={},s=0;if(lt.isArray(n)){for(o=un(e),r=n.length;r>s;s++)a[n[s]]=lt.css(e,n[s],!1,o);return a}return i!==t?lt.style(e,n,i):lt.css(e,n)},e,n,arguments.length>1)},show:function(){return w(this,!0)},hide:function(){return w(this)},toggle:function(e){var t="boolean"==typeof e;return this.each(function(){(t?e:_(this))?lt(this).show():lt(this).hide()})}}),lt.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=hn(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":lt.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,i,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,a,s,l=lt.camelCase(n),c=e.style;if(n=lt.cssProps[l]||(lt.cssProps[l]=k(c,l)),s=lt.cssHooks[n]||lt.cssHooks[l],i===t)return s&&"get"in s&&(o=s.get(e,!1,r))!==t?o:c[n];if(a=typeof i,"string"===a&&(o=xn.exec(i))&&(i=(o[1]+1)*o[2]+parseFloat(lt.css(e,n)),a="number"),!(null==i||"number"===a&&isNaN(i)||("number"!==a||lt.cssNumber[l]||(i+="px"),lt.support.clearCloneStyle||""!==i||0!==n.indexOf("background")||(c[n]="inherit"),s&&"set"in s&&(i=s.set(e,i,r))===t)))try{c[n]=i}catch(d){}}},css:function(e,n,i,r){var o,a,s,l=lt.camelCase(n);return n=lt.cssProps[l]||(lt.cssProps[l]=k(e.style,l)),s=lt.cssHooks[n]||lt.cssHooks[l],s&&"get"in s&&(a=s.get(e,!0,i)),a===t&&(a=hn(e,n,r)),"normal"===a&&n in wn&&(a=wn[n]),""===i||i?(o=parseFloat(a),i===!0||lt.isNumeric(o)?o||0:a):a},swap:function(e,t,n,i){var r,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];r=n.apply(e,i||[]);for(o in t)e.style[o]=a[o];return r}}),e.getComputedStyle?(un=function(t){return e.getComputedStyle(t,null)},hn=function(e,n,i){var r,o,a,s=i||un(e),l=s?s.getPropertyValue(n)||s[n]:t,c=e.style;return s&&(""!==l||lt.contains(e.ownerDocument,e)||(l=lt.style(e,n)),bn.test(l)&&vn.test(n)&&(r=c.width,o=c.minWidth,a=c.maxWidth,c.minWidth=c.maxWidth=c.width=l,l=s.width,c.width=r,c.minWidth=o,c.maxWidth=a)),l}):X.documentElement.currentStyle&&(un=function(e){return e.currentStyle},hn=function(e,n,i){var r,o,a,s=i||un(e),l=s?s[n]:t,c=e.style;return null==l&&c&&c[n]&&(l=c[n]),bn.test(l)&&!mn.test(n)&&(r=c.left,o=e.runtimeStyle,a=o&&o.left,a&&(o.left=e.currentStyle.left),c.left="fontSize"===n?"1em":l,l=c.pixelLeft+"px",c.left=r,a&&(o.left=a)),""===l?"auto":l}),lt.each(["height","width"],function(e,t){lt.cssHooks[t]={get:function(e,n,i){return n?0===e.offsetWidth&&gn.test(lt.css(e,"display"))?lt.swap(e,_n,function(){return S(e,t,i)}):S(e,t,i):void 0},set:function(e,n,i){var r=i&&un(e);return C(e,n,i?T(e,t,i,lt.support.boxSizing&&"border-box"===lt.css(e,"boxSizing",!1,r),r):0)}}}),lt.support.opacity||(lt.cssHooks.opacity={get:function(e,t){return fn.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,i=e.currentStyle,r=lt.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=i&&i.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===lt.trim(o.replace(pn,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||i&&!i.filter)||(n.filter=pn.test(o)?o.replace(pn,r):o+" "+r)}}),lt(function(){lt.support.reliableMarginRight||(lt.cssHooks.marginRight={get:function(e,t){return t?lt.swap(e,{display:"inline-block"},hn,[e,"marginRight"]):void 0}}),!lt.support.pixelPosition&&lt.fn.position&&lt.each(["top","left"],function(e,t){lt.cssHooks[t]={get:function(e,n){return n?(n=hn(e,t),bn.test(n)?lt(e).position()[t]+"px":n):void 0}}})}),lt.expr&&lt.expr.filters&&(lt.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!lt.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||lt.css(e,"display"))},lt.expr.filters.visible=function(e){return!lt.expr.filters.hidden(e)}),lt.each({margin:"",padding:"",border:"Width"},function(e,t){lt.cssHooks[e+t]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];4>i;i++)r[e+Cn[i]+t]=o[i]||o[i-2]||o[0];return r}},vn.test(e)||(lt.cssHooks[e+t].set=C)});var Sn=/%20/g,Mn=/\[\]$/,Dn=/\r?\n/g,An=/^(?:submit|button|image|reset|file)$/i,En=/^(?:input|select|textarea|keygen)/i;lt.fn.extend({serialize:function(){return lt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=lt.prop(this,"elements");return e?lt.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!lt(this).is(":disabled")&&En.test(this.nodeName)&&!An.test(e)&&(this.checked||!tn.test(e))}).map(function(e,t){var n=lt(this).val();return null==n?null:lt.isArray(n)?lt.map(n,function(e){return{name:t.name,value:e.replace(Dn,"\r\n")}}):{name:t.name,value:n.replace(Dn,"\r\n")}}).get()}}),lt.param=function(e,n){var i,r=[],o=function(e,t){t=lt.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)
};if(n===t&&(n=lt.ajaxSettings&&lt.ajaxSettings.traditional),lt.isArray(e)||e.jquery&&!lt.isPlainObject(e))lt.each(e,function(){o(this.name,this.value)});else for(i in e)A(i,e[i],n,o);return r.join("&").replace(Sn,"+")},lt.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){lt.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),lt.fn.hover=function(e,t){return this.mouseenter(e).mouseleave(t||e)};var Nn,Ln,Pn=lt.now(),Fn=/\?/,In=/#.*$/,Rn=/([?&])_=[^&]*/,Bn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,On=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Hn=/^(?:GET|HEAD)$/,zn=/^\/\//,jn=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,$n=lt.fn.load,Wn={},Yn={},Vn="*/".concat("*");try{Ln=G.href}catch(qn){Ln=X.createElement("a"),Ln.href="",Ln=Ln.href}Nn=jn.exec(Ln.toLowerCase())||[],lt.fn.load=function(e,n,i){if("string"!=typeof e&&$n)return $n.apply(this,arguments);var r,o,a,s=this,l=e.indexOf(" ");return l>=0&&(r=e.slice(l,e.length),e=e.slice(0,l)),lt.isFunction(n)?(i=n,n=t):n&&"object"==typeof n&&(a="POST"),s.length>0&&lt.ajax({url:e,type:a,dataType:"html",data:n}).done(function(e){o=arguments,s.html(r?lt("<div>").append(lt.parseHTML(e)).find(r):e)}).complete(i&&function(e,t){s.each(i,o||[e.responseText,t,e])}),this},lt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){lt.fn[t]=function(e){return this.on(t,e)}}),lt.each(["get","post"],function(e,n){lt[n]=function(e,i,r,o){return lt.isFunction(i)&&(o=o||r,r=i,i=t),lt.ajax({url:e,type:n,dataType:o,data:i,success:r})}}),lt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ln,type:"GET",isLocal:On.test(Nn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Vn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":lt.parseJSON,"text xml":lt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?L(L(e,lt.ajaxSettings),t):L(lt.ajaxSettings,e)},ajaxPrefilter:E(Wn),ajaxTransport:E(Yn),ajax:function(e,n){function i(e,n,i,r){var o,u,y,b,k,w=n;2!==x&&(x=2,l&&clearTimeout(l),d=t,s=r||"",_.readyState=e>0?4:0,i&&(b=P(h,_,i)),e>=200&&300>e||304===e?(h.ifModified&&(k=_.getResponseHeader("Last-Modified"),k&&(lt.lastModified[a]=k),k=_.getResponseHeader("etag"),k&&(lt.etag[a]=k)),204===e?(o=!0,w="nocontent"):304===e?(o=!0,w="notmodified"):(o=F(h,b),w=o.state,u=o.data,y=o.error,o=!y)):(y=w,(e||!w)&&(w="error",0>e&&(e=0))),_.status=e,_.statusText=(n||w)+"",o?m.resolveWith(p,[u,w,_]):m.rejectWith(p,[_,w,y]),_.statusCode(v),v=t,c&&f.trigger(o?"ajaxSuccess":"ajaxError",[_,h,o?u:y]),g.fireWith(p,[_,w]),c&&(f.trigger("ajaxComplete",[_,h]),--lt.active||lt.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=t),n=n||{};var r,o,a,s,l,c,d,u,h=lt.ajaxSetup({},n),p=h.context||h,f=h.context&&(p.nodeType||p.jquery)?lt(p):lt.event,m=lt.Deferred(),g=lt.Callbacks("once memory"),v=h.statusCode||{},y={},b={},x=0,k="canceled",_={readyState:0,getResponseHeader:function(e){var t;if(2===x){if(!u)for(u={};t=Bn.exec(s);)u[t[1].toLowerCase()]=t[2];t=u[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===x?s:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return x||(e=b[n]=b[n]||e,y[e]=t),this},overrideMimeType:function(e){return x||(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>x)for(t in e)v[t]=[v[t],e[t]];else _.always(e[_.status]);return this},abort:function(e){var t=e||k;return d&&d.abort(t),i(0,t),this}};if(m.promise(_).complete=g.add,_.success=_.done,_.error=_.fail,h.url=((e||h.url||Ln)+"").replace(In,"").replace(zn,Nn[1]+"//"),h.type=n.method||n.type||h.method||h.type,h.dataTypes=lt.trim(h.dataType||"*").toLowerCase().match(dt)||[""],null==h.crossDomain&&(r=jn.exec(h.url.toLowerCase()),h.crossDomain=!(!r||r[1]===Nn[1]&&r[2]===Nn[2]&&(r[3]||("http:"===r[1]?80:443))==(Nn[3]||("http:"===Nn[1]?80:443)))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=lt.param(h.data,h.traditional)),N(Wn,h,n,_),2===x)return _;c=h.global,c&&0===lt.active++&&lt.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Hn.test(h.type),a=h.url,h.hasContent||(h.data&&(a=h.url+=(Fn.test(a)?"&":"?")+h.data,delete h.data),h.cache===!1&&(h.url=Rn.test(a)?a.replace(Rn,"$1_="+Pn++):a+(Fn.test(a)?"&":"?")+"_="+Pn++)),h.ifModified&&(lt.lastModified[a]&&_.setRequestHeader("If-Modified-Since",lt.lastModified[a]),lt.etag[a]&&_.setRequestHeader("If-None-Match",lt.etag[a])),(h.data&&h.hasContent&&h.contentType!==!1||n.contentType)&&_.setRequestHeader("Content-Type",h.contentType),_.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Vn+"; q=0.01":""):h.accepts["*"]);for(o in h.headers)_.setRequestHeader(o,h.headers[o]);if(h.beforeSend&&(h.beforeSend.call(p,_,h)===!1||2===x))return _.abort();k="abort";for(o in{success:1,error:1,complete:1})_[o](h[o]);if(d=N(Yn,h,n,_)){_.readyState=1,c&&f.trigger("ajaxSend",[_,h]),h.async&&h.timeout>0&&(l=setTimeout(function(){_.abort("timeout")},h.timeout));try{x=1,d.send(y,i)}catch(w){if(!(2>x))throw w;i(-1,w)}}else i(-1,"No Transport");return _},getScript:function(e,n){return lt.get(e,t,n,"script")},getJSON:function(e,t,n){return lt.get(e,t,n,"json")}}),lt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return lt.globalEval(e),e}}}),lt.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),lt.ajaxTransport("script",function(e){if(e.crossDomain){var n,i=X.head||lt("head")[0]||X.documentElement;return{send:function(t,r){n=X.createElement("script"),n.async=!0,e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,t){(t||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,t||r(200,"success"))},i.insertBefore(n,i.firstChild)},abort:function(){n&&n.onload(t,!0)}}}});var Un=[],Xn=/(=)\?(?=&|$)|\?\?/;lt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Un.pop()||lt.expando+"_"+Pn++;return this[e]=!0,e}}),lt.ajaxPrefilter("json jsonp",function(n,i,r){var o,a,s,l=n.jsonp!==!1&&(Xn.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Xn.test(n.data)&&"data");return l||"jsonp"===n.dataTypes[0]?(o=n.jsonpCallback=lt.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,l?n[l]=n[l].replace(Xn,"$1"+o):n.jsonp!==!1&&(n.url+=(Fn.test(n.url)?"&":"?")+n.jsonp+"="+o),n.converters["script json"]=function(){return s||lt.error(o+" was not called"),s[0]},n.dataTypes[0]="json",a=e[o],e[o]=function(){s=arguments},r.always(function(){e[o]=a,n[o]&&(n.jsonpCallback=i.jsonpCallback,Un.push(o)),s&&lt.isFunction(a)&&a(s[0]),s=a=t}),"script"):void 0});var Gn,Kn,Qn=0,Zn=e.ActiveXObject&&function(){var e;for(e in Gn)Gn[e](t,!0)};lt.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&I()||R()}:I,Kn=lt.ajaxSettings.xhr(),lt.support.cors=!!Kn&&"withCredentials"in Kn,Kn=lt.support.ajax=!!Kn,Kn&&lt.ajaxTransport(function(n){if(!n.crossDomain||lt.support.cors){var i;return{send:function(r,o){var a,s,l=n.xhr();if(n.username?l.open(n.type,n.url,n.async,n.username,n.password):l.open(n.type,n.url,n.async),n.xhrFields)for(s in n.xhrFields)l[s]=n.xhrFields[s];n.mimeType&&l.overrideMimeType&&l.overrideMimeType(n.mimeType),n.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");try{for(s in r)l.setRequestHeader(s,r[s])}catch(c){}l.send(n.hasContent&&n.data||null),i=function(e,r){var s,c,d,u;try{if(i&&(r||4===l.readyState))if(i=t,a&&(l.onreadystatechange=lt.noop,Zn&&delete Gn[a]),r)4!==l.readyState&&l.abort();else{u={},s=l.status,c=l.getAllResponseHeaders(),"string"==typeof l.responseText&&(u.text=l.responseText);try{d=l.statusText}catch(h){d=""}s||!n.isLocal||n.crossDomain?1223===s&&(s=204):s=u.text?200:404}}catch(p){r||o(-1,p)}u&&o(s,d,u,c)},n.async?4===l.readyState?setTimeout(i):(a=++Qn,Zn&&(Gn||(Gn={},lt(e).unload(Zn)),Gn[a]=i),l.onreadystatechange=i):i()},abort:function(){i&&i(t,!0)}}}});var Jn,ei,ti=/^(?:toggle|show|hide)$/,ni=new RegExp("^(?:([+-])=|)("+ct+")([a-z%]*)$","i"),ii=/queueHooks$/,ri=[j],oi={"*":[function(e,t){var n,i,r=this.createTween(e,t),o=ni.exec(t),a=r.cur(),s=+a||0,l=1,c=20;if(o){if(n=+o[2],i=o[3]||(lt.cssNumber[e]?"":"px"),"px"!==i&&s){s=lt.css(r.elem,e,!0)||n||1;do l=l||".5",s/=l,lt.style(r.elem,e,s+i);while(l!==(l=r.cur()/a)&&1!==l&&--c)}r.unit=i,r.start=s,r.end=o[1]?s+(o[1]+1)*n:n}return r}]};lt.Animation=lt.extend(H,{tweener:function(e,t){lt.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,r=e.length;r>i;i++)n=e[i],oi[n]=oi[n]||[],oi[n].unshift(t)},prefilter:function(e,t){t?ri.unshift(e):ri.push(e)}}),lt.Tween=$,$.prototype={constructor:$,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(lt.cssNumber[n]?"":"px")},cur:function(){var e=$.propHooks[this.prop];return e&&e.get?e.get(this):$.propHooks._default.get(this)},run:function(e){var t,n=$.propHooks[this.prop];return this.pos=t=this.options.duration?lt.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):$.propHooks._default.set(this),this}},$.prototype.init.prototype=$.prototype,$.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=lt.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){lt.fx.step[e.prop]?lt.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[lt.cssProps[e.prop]]||lt.cssHooks[e.prop])?lt.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},$.propHooks.scrollTop=$.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},lt.each(["toggle","show","hide"],function(e,t){var n=lt.fn[t];lt.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(W(t,!0),e,i,r)}}),lt.fn.extend({fadeTo:function(e,t,n,i){return this.filter(_).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=lt.isEmptyObject(e),o=lt.speed(t,n,i),a=function(){var t=H(this,lt.extend({},e),o);a.finish=function(){t.stop(!0)},(r||lt._data(this,"finish"))&&t.stop(!0)};return a.finish=a,r||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,n,i){var r=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",o=lt.timers,a=lt._data(this);if(n)a[n]&&a[n].stop&&r(a[n]);else for(n in a)a[n]&&a[n].stop&&ii.test(n)&&r(a[n]);for(n=o.length;n--;)o[n].elem!==this||null!=e&&o[n].queue!==e||(o[n].anim.stop(i),t=!1,o.splice(n,1));(t||!i)&&lt.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=lt._data(this),i=n[e+"queue"],r=n[e+"queueHooks"],o=lt.timers,a=i?i.length:0;for(n.finish=!0,lt.queue(this,e,[]),r&&r.cur&&r.cur.finish&&r.cur.finish.call(this),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),lt.each({slideDown:W("show"),slideUp:W("hide"),slideToggle:W("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){lt.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),lt.speed=function(e,t,n){var i=e&&"object"==typeof e?lt.extend({},e):{complete:n||!n&&t||lt.isFunction(e)&&e,duration:e,easing:n&&t||t&&!lt.isFunction(t)&&t};return i.duration=lt.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in lt.fx.speeds?lt.fx.speeds[i.duration]:lt.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){lt.isFunction(i.old)&&i.old.call(this),i.queue&&lt.dequeue(this,i.queue)},i},lt.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},lt.timers=[],lt.fx=$.prototype.init,lt.fx.tick=function(){var e,n=lt.timers,i=0;for(Jn=lt.now();i<n.length;i++)e=n[i],e()||n[i]!==e||n.splice(i--,1);n.length||lt.fx.stop(),Jn=t},lt.fx.timer=function(e){e()&&lt.timers.push(e)&&lt.fx.start()},lt.fx.interval=13,lt.fx.start=function(){ei||(ei=setInterval(lt.fx.tick,lt.fx.interval))},lt.fx.stop=function(){clearInterval(ei),ei=null},lt.fx.speeds={slow:600,fast:200,_default:400},lt.fx.step={},lt.expr&&lt.expr.filters&&(lt.expr.filters.animated=function(e){return lt.grep(lt.timers,function(t){return e===t.elem}).length}),lt.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){lt.offset.setOffset(this,e,t)});var n,i,r={top:0,left:0},o=this[0],a=o&&o.ownerDocument;if(a)return n=a.documentElement,lt.contains(n,o)?(typeof o.getBoundingClientRect!==U&&(r=o.getBoundingClientRect()),i=Y(a),{top:r.top+(i.pageYOffset||n.scrollTop)-(n.clientTop||0),left:r.left+(i.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):r},lt.offset={setOffset:function(e,t,n){var i=lt.css(e,"position");"static"===i&&(e.style.position="relative");var r,o,a=lt(e),s=a.offset(),l=lt.css(e,"top"),c=lt.css(e,"left"),d=("absolute"===i||"fixed"===i)&&lt.inArray("auto",[l,c])>-1,u={},h={};d?(h=a.position(),r=h.top,o=h.left):(r=parseFloat(l)||0,o=parseFloat(c)||0),lt.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(u.top=t.top-s.top+r),null!=t.left&&(u.left=t.left-s.left+o),"using"in t?t.using.call(e,u):a.css(u)}},lt.fn.extend({position:function(){if(this[0]){var e,t,n={top:0,left:0},i=this[0];return"fixed"===lt.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),lt.nodeName(e[0],"html")||(n=e.offset()),n.top+=lt.css(e[0],"borderTopWidth",!0),n.left+=lt.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-lt.css(i,"marginTop",!0),left:t.left-n.left-lt.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||X.documentElement;e&&!lt.nodeName(e,"html")&&"static"===lt.css(e,"position");)e=e.offsetParent;return e||X.documentElement})}}),lt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var i=/Y/.test(n);lt.fn[e]=function(r){return lt.access(this,function(e,r,o){var a=Y(e);return o===t?a?n in a?a[n]:a.document.documentElement[r]:e[r]:(a?a.scrollTo(i?lt(a).scrollLeft():o,i?o:lt(a).scrollTop()):e[r]=o,void 0)},e,r,arguments.length,null)}}),lt.each({Height:"height",Width:"width"},function(e,n){lt.each({padding:"inner"+e,content:n,"":"outer"+e},function(i,r){lt.fn[r]=function(r,o){var a=arguments.length&&(i||"boolean"!=typeof r),s=i||(r===!0||o===!0?"margin":"border");return lt.access(this,function(n,i,r){var o;return lt.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(o=n.documentElement,Math.max(n.body["scroll"+e],o["scroll"+e],n.body["offset"+e],o["offset"+e],o["client"+e])):r===t?lt.css(n,i,s):lt.style(n,i,r,s)},n,a?r:t,a,null)}})}),e.jQuery=e.$=lt,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return lt})}(window),function(e,t){e.rails!==t&&e.error("jquery-ujs has already been loaded!");var n;e.rails=n={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",buttonClickSelector:"button[data-remote]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(t){var n=e('meta[name="csrf-token"]').attr("content");n&&t.setRequestHeader("X-CSRF-Token",n)},fire:function(t,n,i){var r=e.Event(n);return t.trigger(r,i),r.result!==!1},confirm:function(e){return confirm(e)},ajax:function(t){return e.ajax(t)},href:function(e){return e.attr("href")},handleRemote:function(i){var r,o,a,s,l,c,d,u;if(n.fire(i,"ajax:before")){if(s=i.data("cross-domain"),l=s===t?null:s,c=i.data("with-credentials")||null,d=i.data("type")||e.ajaxSettings&&e.ajaxSettings.dataType,i.is("form")){r=i.attr("method"),o=i.attr("action"),a=i.serializeArray();var h=i.data("ujs:submit-button");h&&(a.push(h),i.data("ujs:submit-button",null))}else i.is(n.inputChangeSelector)?(r=i.data("method"),o=i.data("url"),a=i.serialize(),i.data("params")&&(a=a+"&"+i.data("params"))):i.is(n.buttonClickSelector)?(r=i.data("method")||"get",o=i.data("url"),a=i.serialize(),i.data("params")&&(a=a+"&"+i.data("params"))):(r=i.data("method"),o=n.href(i),a=i.data("params")||null);u={type:r||"GET",data:a,dataType:d,beforeSend:function(e,r){return r.dataType===t&&e.setRequestHeader("accept","*/*;q=0.5, "+r.accepts.script),n.fire(i,"ajax:beforeSend",[e,r])},success:function(e,t,n){i.trigger("ajax:success",[e,t,n])},complete:function(e,t){i.trigger("ajax:complete",[e,t])},error:function(e,t,n){i.trigger("ajax:error",[e,t,n])},crossDomain:l},c&&(u.xhrFields={withCredentials:c}),o&&(u.url=o);var p=n.ajax(u);return i.trigger("ajax:send",p),p}return!1},handleMethod:function(i){var r=n.href(i),o=i.data("method"),a=i.attr("target"),s=e("meta[name=csrf-token]").attr("content"),l=e("meta[name=csrf-param]").attr("content"),c=e('<form method="post" action="'+r+'"></form>'),d='<input name="_method" value="'+o+'" type="hidden" />';l!==t&&s!==t&&(d+='<input name="'+l+'" value="'+s+'" type="hidden" />'),a&&c.attr("target",a),c.hide().append(d).appendTo("body"),c.submit()},disableFormElements:function(t){t.find(n.disableSelector).each(function(){var t=e(this),n=t.is("button")?"html":"val";t.data("ujs:enable-with",t[n]()),t[n](t.data("disable-with")),t.prop("disabled",!0)})},enableFormElements:function(t){t.find(n.enableSelector).each(function(){var t=e(this),n=t.is("button")?"html":"val";t.data("ujs:enable-with")&&t[n](t.data("ujs:enable-with")),t.prop("disabled",!1)})},allowAction:function(e){var t,i=e.data("confirm"),r=!1;return i?(n.fire(e,"confirm")&&(r=n.confirm(i),t=n.fire(e,"confirm:complete",[r])),r&&t):!0},blankInputs:function(t,n,i){var r,o,a=e(),s=n||"input,textarea",l=t.find(s);return l.each(function(){if(r=e(this),o=r.is("input[type=checkbox],input[type=radio]")?r.is(":checked"):r.val(),!o==!i){if(r.is("input[type=radio]")&&l.filter('input[type=radio]:checked[name="'+r.attr("name")+'"]').length)return!0;a=a.add(r)}}),a.length?a:!1},nonBlankInputs:function(e,t){return n.blankInputs(e,t,!0)},stopEverything:function(t){return e(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},disableElement:function(e){e.data("ujs:enable-with",e.html()),e.html(e.data("disable-with")),e.bind("click.railsDisable",function(e){return n.stopEverything(e)})},enableElement:function(e){e.data("ujs:enable-with")!==t&&(e.html(e.data("ujs:enable-with")),e.removeData("ujs:enable-with")),e.unbind("click.railsDisable")}},n.fire(e(document),"rails:attachBindings")&&(e.ajaxPrefilter(function(e,t,i){e.crossDomain||n.CSRFProtection(i)}),e(document).delegate(n.linkDisableSelector,"ajax:complete",function(){n.enableElement(e(this))}),e(document).delegate(n.linkClickSelector,"click.rails",function(i){var r=e(this),o=r.data("method"),a=r.data("params");if(!n.allowAction(r))return n.stopEverything(i);if(r.is(n.linkDisableSelector)&&n.disableElement(r),r.data("remote")!==t){if(!(!i.metaKey&&!i.ctrlKey||o&&"GET"!==o||a))return!0;var s=n.handleRemote(r);return s===!1?n.enableElement(r):s.error(function(){n.enableElement(r)}),!1}return r.data("method")?(n.handleMethod(r),!1):void 0}),e(document).delegate(n.buttonClickSelector,"click.rails",function(t){var i=e(this);return n.allowAction(i)?(n.handleRemote(i),!1):n.stopEverything(t)}),e(document).delegate(n.inputChangeSelector,"change.rails",function(t){var i=e(this);return n.allowAction(i)?(n.handleRemote(i),!1):n.stopEverything(t)}),e(document).delegate(n.formSubmitSelector,"submit.rails",function(i){var r=e(this),o=r.data("remote")!==t,a=n.blankInputs(r,n.requiredInputSelector),s=n.nonBlankInputs(r,n.fileInputSelector);if(!n.allowAction(r))return n.stopEverything(i);if(a&&r.attr("novalidate")==t&&n.fire(r,"ajax:aborted:required",[a]))return n.stopEverything(i);if(o){if(s){setTimeout(function(){n.disableFormElements(r)},13);var l=n.fire(r,"ajax:aborted:file",[s]);return l||setTimeout(function(){n.enableFormElements(r)},13),l}return n.handleRemote(r),!1}setTimeout(function(){n.disableFormElements(r)},13)}),e(document).delegate(n.formInputClickSelector,"click.rails",function(t){var i=e(this);if(!n.allowAction(i))return n.stopEverything(t);var r=i.attr("name"),o=r?{name:r,value:i.val()}:null;i.closest("form").data("ujs:submit-button",o)}),e(document).delegate(n.formSubmitSelector,"ajax:beforeSend.rails",function(t){this==t.target&&n.disableFormElements(e(this))}),e(document).delegate(n.formSubmitSelector,"ajax:complete.rails",function(t){this==t.target&&n.enableFormElements(e(this))}),e(function(){var t=e("meta[name=csrf-token]").attr("content"),n=e("meta[name=csrf-param]").attr("content");e('form input[name="'+n+'"]').val(t)}))}(jQuery),/*!
 * jQuery UI Widget 1.10.3
 * http://jqueryui.com
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/jQuery.widget/
 */
function(e,t){var n=0,i=Array.prototype.slice,r=e.cleanData;e.cleanData=function(t){for(var n,i=0;null!=(n=t[i]);i++)try{e(n).triggerHandler("remove")}catch(o){}r(t)},e.widget=function(t,n,i){var r,o,a,s,l={},c=t.split(".")[0];t=t.split(".")[1],r=c+"-"+t,i||(i=n,n=e.Widget),e.expr[":"][r.toLowerCase()]=function(t){return!!e.data(t,r)},e[c]=e[c]||{},o=e[c][t],a=e[c][t]=function(e,t){return this._createWidget?(arguments.length&&this._createWidget(e,t),void 0):new a(e,t)},e.extend(a,o,{version:i.version,_proto:e.extend({},i),_childConstructors:[]}),s=new n,s.options=e.widget.extend({},s.options),e.each(i,function(t,i){return e.isFunction(i)?(l[t]=function(){var e=function(){return n.prototype[t].apply(this,arguments)},r=function(e){return n.prototype[t].apply(this,e)};return function(){var t,n=this._super,o=this._superApply;return this._super=e,this._superApply=r,t=i.apply(this,arguments),this._super=n,this._superApply=o,t}}(),void 0):(l[t]=i,void 0)}),a.prototype=e.widget.extend(s,{widgetEventPrefix:o?s.widgetEventPrefix:t},l,{constructor:a,namespace:c,widgetName:t,widgetFullName:r}),o?(e.each(o._childConstructors,function(t,n){var i=n.prototype;e.widget(i.namespace+"."+i.widgetName,a,n._proto)}),delete o._childConstructors):n._childConstructors.push(a),e.widget.bridge(t,a)},e.widget.extend=function(n){for(var r,o,a=i.call(arguments,1),s=0,l=a.length;l>s;s++)for(r in a[s])o=a[s][r],a[s].hasOwnProperty(r)&&o!==t&&(n[r]=e.isPlainObject(o)?e.isPlainObject(n[r])?e.widget.extend({},n[r],o):e.widget.extend({},o):o);return n},e.widget.bridge=function(n,r){var o=r.prototype.widgetFullName||n;e.fn[n]=function(a){var s="string"==typeof a,l=i.call(arguments,1),c=this;return a=!s&&l.length?e.widget.extend.apply(null,[a].concat(l)):a,s?this.each(function(){var i,r=e.data(this,o);return r?e.isFunction(r[a])&&"_"!==a.charAt(0)?(i=r[a].apply(r,l),i!==r&&i!==t?(c=i&&i.jquery?c.pushStack(i.get()):i,!1):void 0):e.error("no such method '"+a+"' for "+n+" widget instance"):e.error("cannot call methods on "+n+" prior to initialization; "+"attempted to call method '"+a+"'")}):this.each(function(){var t=e.data(this,o);t?t.option(a||{})._init():e.data(this,o,new r(a,this))}),c}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),i!==this&&(e.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(n,i){var r,o,a,s=n;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof n)if(s={},r=n.split("."),n=r.shift(),r.length){for(o=s[n]=e.widget.extend({},this.options[n]),a=0;a<r.length-1;a++)o[r[a]]=o[r[a]]||{},o=o[r[a]];if(n=r.pop(),i===t)return o[n]===t?null:o[n];o[n]=i}else{if(i===t)return this.options[n]===t?null:this.options[n];s[n]=i}return this._setOptions(s),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(t,n,i){var r,o=this;"boolean"!=typeof t&&(i=n,n=t,t=!1),i?(n=r=e(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,r=this.widget()),e.each(i,function(i,a){function s(){return t||o.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof a?o[a]:a).apply(o,arguments):void 0}"string"!=typeof a&&(s.guid=a.guid=a.guid||s.guid||e.guid++);var l=i.match(/^(\w+)\s*(.*)$/),c=l[1]+o.eventNamespace,d=l[2];d?r.delegate(d,c,s):n.bind(c,s)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function n(){return("string"==typeof e?i[e]:e).apply(i,arguments)}var i=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,i){var r,o,a=this.options[t];if(i=i||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(r in o)r in n||(n[r]=o[r]);return this.element.trigger(n,i),!(e.isFunction(a)&&a.apply(this.element[0],[n].concat(i))===!1||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(i,r,o){"string"==typeof r&&(r={effect:r});var a,s=r?r===!0||"number"==typeof r?n:r.effect||n:t;r=r||{},"number"==typeof r&&(r={duration:r}),a=!e.isEmptyObject(r),r.complete=o,r.delay&&i.delay(r.delay),a&&e.effects&&e.effects.effect[s]?i[t](r):s!==t&&i[s]?i[s](r.duration,r.easing,o):i.queue(function(n){e(this)[t](),o&&o.call(i[0]),n()})}})}(jQuery),/*!
 * jQuery UI Core 1.10.3
 * http://jqueryui.com
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */
function(e,t){function n(t,n){var r,o,a,s=t.nodeName.toLowerCase();return"area"===s?(r=t.parentNode,o=r.name,t.href&&o&&"map"===r.nodeName.toLowerCase()?(a=e("img[usemap=#"+o+"]")[0],!!a&&i(a)):!1):(/input|select|textarea|button|object/.test(s)?!t.disabled:"a"===s?t.href||n:n)&&i(t)}function i(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}var r=0,o=/^ui-id-\d+$/;e.ui=e.ui||{},e.extend(e.ui,{version:"1.10.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({focus:function(t){return function(n,i){return"number"==typeof n?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),i&&i.call(t)},n)}):t.apply(this,arguments)}}(e.fn.focus),scrollParent:function(){var t;return t=e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(n){if(n!==t)return this.css("zIndex",n);if(this.length)for(var i,r,o=e(this[0]);o.length&&o[0]!==document;){if(i=o.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(r=parseInt(o.css("zIndex"),10),!isNaN(r)&&0!==r))return r;o=o.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++r)})},removeUniqueId:function(){return this.each(function(){o.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,i){return!!e.data(t,i[3])},focusable:function(t){return n(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var i=e.attr(t,"tabindex"),r=isNaN(i);return(r||i>=0)&&n(t,!r)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(n,i){function r(t,n,i,r){return e.each(o,function(){n-=parseFloat(e.css(t,"padding"+this))||0,i&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0),r&&(n-=parseFloat(e.css(t,"margin"+this))||0)}),n}var o="Width"===i?["Left","Right"]:["Top","Bottom"],a=i.toLowerCase(),s={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+i]=function(n){return n===t?s["inner"+i].call(this):this.each(function(){e(this).css(a,r(this,n)+"px")})},e.fn["outer"+i]=function(t,n){return"number"!=typeof t?s["outer"+i].call(this,t):this.each(function(){e(this).css(a,r(this,t,!0,n)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(n){return arguments.length?t.call(this,e.camelCase(n)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.support.selectstart="onselectstart"in document.createElement("div"),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.extend(e.ui,{plugin:{add:function(t,n,i){var r,o=e.ui[t].prototype;for(r in i)o.plugins[r]=o.plugins[r]||[],o.plugins[r].push([n,i[r]])},call:function(e,t,n){var i,r=e.plugins[t];if(r&&e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType)for(i=0;i<r.length;i++)e.options[r[i][0]]&&r[i][1].apply(e.element,n)}},hasScroll:function(t,n){if("hidden"===e(t).css("overflow"))return!1;var i=n&&"left"===n?"scrollLeft":"scrollTop",r=!1;return t[i]>0?!0:(t[i]=1,r=t[i]>0,t[i]=0,r)}})}(jQuery),/*!
 * jQuery UI Mouse 1.10.3
 * http://jqueryui.com
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/mouse/
 *
 * Depends:
 *	jquery.ui.widget.js
 */
function(e){var t=!1;e(document).mouseup(function(){t=!1}),e.widget("ui.mouse",{version:"1.10.3",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(n){return!0===e.data(n.target,t.widgetName+".preventClickEvent")?(e.removeData(n.target,t.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(n){if(!t){this._mouseStarted&&this._mouseUp(n),this._mouseDownEvent=n;var i=this,r=1===n.which,o="string"==typeof this.options.cancel&&n.target.nodeName?e(n.target).closest(this.options.cancel).length:!1;return r&&!o&&this._mouseCapture(n)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(n)&&this._mouseDelayMet(n)&&(this._mouseStarted=this._mouseStart(n)!==!1,!this._mouseStarted)?(n.preventDefault(),!0):(!0===e.data(n.target,this.widgetName+".preventClickEvent")&&e.removeData(n.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return i._mouseMove(e)},this._mouseUpDelegate=function(e){return i._mouseUp(e)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),n.preventDefault(),t=!0,!0)):!0}},_mouseMove:function(t){return e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button?this._mouseUp(t):this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),/*!
 * jQuery UI Slider 1.10.3
 * http://jqueryui.com
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/slider/
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
function(e){var t=5;e.widget("ui.slider",e.ui.mouse,{version:"1.10.3",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget"+" ui-widget-content"+" ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,n,i=this.options,r=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),o="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",a=[];for(n=i.values&&i.values.length||1,r.length>n&&(r.slice(n).remove(),r=r.slice(0,n)),t=r.length;n>t;t++)a.push(o);this.handles=r.add(e(a.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(t){e(this).data("ui-slider-handle-index",t)})},_createRange:function(){var t=this.options,n="";t.range?(t.range===!0&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:e.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=e("<div></div>").appendTo(this.element),n="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(n+("min"===t.range||"max"===t.range?" ui-slider-range-"+t.range:""))):this.range=e([])},_setupEvents:function(){var e=this.handles.add(this.range).filter("a");this._off(e),this._on(e,this._handleEvents),this._hoverable(e),this._focusable(e)},_destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(t){var n,i,r,o,a,s,l,c,d=this,u=this.options;return u.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),n={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(n),r=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var n=Math.abs(i-d.values(t));(r>n||r===n&&(t===d._lastChangedValue||d.values(t)===u.min))&&(r=n,o=e(this),a=t)}),s=this._start(t,a),s===!1?!1:(this._mouseSliding=!0,this._handleIndex=a,o.addClass("ui-state-active").focus(),l=o.offset(),c=!e(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=c?{left:0,top:0}:{left:t.pageX-l.left-o.width()/2,top:t.pageY-l.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,a,i),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,n),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,n,i,r,o;return"horizontal"===this.orientation?(t=this.elementSize.width,n=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,n=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),i=n/t,i>1&&(i=1),0>i&&(i=0),"vertical"===this.orientation&&(i=1-i),r=this._valueMax()-this._valueMin(),o=this._valueMin()+i*r,this._trimAlignValue(o)},_start:function(e,t){var n={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._trigger("start",e,n)},_slide:function(e,t,n){var i,r,o;this.options.values&&this.options.values.length?(i=this.values(t?0:1),2===this.options.values.length&&this.options.range===!0&&(0===t&&n>i||1===t&&i>n)&&(n=i),n!==this.values(t)&&(r=this.values(),r[t]=n,o=this._trigger("slide",e,{handle:this.handles[t],value:n,values:r}),i=this.values(t?0:1),o!==!1&&this.values(t,n,!0))):n!==this.value()&&(o=this._trigger("slide",e,{handle:this.handles[t],value:n}),o!==!1&&this.value(n))},_stop:function(e,t){var n={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._trigger("stop",e,n)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var n={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._lastChangedValue=t,this._trigger("change",e,n)}},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),this._change(null,0),void 0):this._value()},values:function(t,n){var i,r,o;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(n),this._refreshValue(),this._change(null,t),void 0;if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(i=this.options.values,r=arguments[0],o=0;o<i.length;o+=1)i[o]=this._trimAlignValue(r[o]),this._change(null,o);this._refreshValue()},_setOption:function(t,n){var i,r=0;switch("range"===t&&this.options.range===!0&&("min"===n?(this.options.value=this._values(0),this.options.values=null):"max"===n&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),e.isArray(this.options.values)&&(r=this.options.values.length),e.Widget.prototype._setOption.apply(this,arguments),t){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),i=0;r>i;i+=1)this._change(null,i);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,n,i;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);if(this.options.values&&this.options.values.length){for(n=this.options.values.slice(),i=0;i<n.length;i+=1)n[i]=this._trimAlignValue(n[i]);return n}return[]},_trimAlignValue:function(e){if(e<=this._valueMin())return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,n=(e-this._valueMin())%t,i=e-n;return 2*Math.abs(n)>=t&&(i+=n>0?t:-t),parseFloat(i.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var t,n,i,r,o,a=this.options.range,s=this.options,l=this,c=this._animateOff?!1:s.animate,d={};this.options.values&&this.options.values.length?this.handles.each(function(i){n=100*((l.values(i)-l._valueMin())/(l._valueMax()-l._valueMin())),d["horizontal"===l.orientation?"left":"bottom"]=n+"%",e(this).stop(1,1)[c?"animate":"css"](d,s.animate),l.options.range===!0&&("horizontal"===l.orientation?(0===i&&l.range.stop(1,1)[c?"animate":"css"]({left:n+"%"},s.animate),1===i&&l.range[c?"animate":"css"]({width:n-t+"%"},{queue:!1,duration:s.animate})):(0===i&&l.range.stop(1,1)[c?"animate":"css"]({bottom:n+"%"},s.animate),1===i&&l.range[c?"animate":"css"]({height:n-t+"%"},{queue:!1,duration:s.animate}))),t=n}):(i=this.value(),r=this._valueMin(),o=this._valueMax(),n=o!==r?100*((i-r)/(o-r)):0,d["horizontal"===this.orientation?"left":"bottom"]=n+"%",this.handle.stop(1,1)[c?"animate":"css"](d,s.animate),"min"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:n+"%"},s.animate),"max"===a&&"horizontal"===this.orientation&&this.range[c?"animate":"css"]({width:100-n+"%"},{queue:!1,duration:s.animate}),"min"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:n+"%"},s.animate),"max"===a&&"vertical"===this.orientation&&this.range[c?"animate":"css"]({height:100-n+"%"},{queue:!1,duration:s.animate}))},_handleEvents:{keydown:function(n){var i,r,o,a,s=e(n.target).data("ui-slider-handle-index");switch(n.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(n.preventDefault(),!this._keySliding&&(this._keySliding=!0,e(n.target).addClass("ui-state-active"),i=this._start(n,s),i===!1))return}switch(a=this.options.step,r=o=this.options.values&&this.options.values.length?this.values(s):this.value(),n.keyCode){case e.ui.keyCode.HOME:o=this._valueMin();break;case e.ui.keyCode.END:o=this._valueMax();break;case e.ui.keyCode.PAGE_UP:o=this._trimAlignValue(r+(this._valueMax()-this._valueMin())/t);break;case e.ui.keyCode.PAGE_DOWN:o=this._trimAlignValue(r-(this._valueMax()-this._valueMin())/t);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(r===this._valueMax())return;o=this._trimAlignValue(r+a);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(r===this._valueMin())return;o=this._trimAlignValue(r-a)}this._slide(n,s,o)},click:function(e){e.preventDefault()},keyup:function(t){var n=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,n),this._change(t,n),e(t.target).removeClass("ui-state-active"))}}})}(jQuery),/*!
 * jQuery UI Datepicker 1.10.3
 * http://jqueryui.com
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/datepicker/
 *
 * Depends:
 *	jquery.ui.core.js
 */
function(e,t){function n(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.dpDiv=i(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function i(t){var n="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(n,"mouseout",function(){e(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).removeClass("ui-datepicker-next-hover")}).delegate(n,"mouseover",function(){e.datepicker._isDisabledDatepicker(o.inline?t.parent()[0]:o.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).addClass("ui-datepicker-next-hover"))})}function r(t,n){e.extend(t,n);for(var i in n)null==n[i]&&(t[i]=n[i]);return t}e.extend(e.ui,{datepicker:{version:"1.10.3"}});var o,a="datepicker";e.extend(n.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return r(this._defaults,e||{}),this},_attachDatepicker:function(t,n){var i,r,o;i=t.nodeName.toLowerCase(),r="div"===i||"span"===i,t.id||(this.uuid+=1,t.id="dp"+this.uuid),o=this._newInst(e(t),r),o.settings=e.extend({},n||{}),"input"===i?this._connectDatepicker(t,o):r&&this._inlineDatepicker(t,o)},_newInst:function(t,n){var r=t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:r,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:n,dpDiv:n?i(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,n){var i=e(t);n.append=e([]),n.trigger=e([]),i.hasClass(this.markerClassName)||(this._attachments(i,n),i.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(n),e.data(t,a,n),n.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,n){var i,r,o,a=this._get(n,"appendText"),s=this._get(n,"isRTL");n.append&&n.append.remove(),a&&(n.append=e("<span class='"+this._appendClass+"'>"+a+"</span>"),t[s?"before":"after"](n.append)),t.unbind("focus",this._showDatepicker),n.trigger&&n.trigger.remove(),i=this._get(n,"showOn"),("focus"===i||"both"===i)&&t.focus(this._showDatepicker),("button"===i||"both"===i)&&(r=this._get(n,"buttonText"),o=this._get(n,"buttonImage"),n.trigger=e(this._get(n,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:o,alt:r,title:r}):e("<button type='button'></button>").addClass(this._triggerClass).html(o?e("<img/>").attr({src:o,alt:r,title:r}):r)),t[s?"before":"after"](n.trigger),n.trigger.click(function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,n,i,r,o=new Date(2009,11,20),a=this._get(e,"dateFormat");a.match(/[DM]/)&&(t=function(e){for(n=0,i=0,r=0;r<e.length;r++)e[r].length>n&&(n=e[r].length,i=r);return i},o.setMonth(t(this._get(e,a.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(t(this._get(e,a.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),e.input.attr("size",this._formatDate(e,o).length)}},_inlineDatepicker:function(t,n){var i=e(t);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(n.dpDiv),e.data(t,a,n),this._setDate(n,this._getDefaultDate(n),!0),this._updateDatepicker(n),this._updateAlternate(n),n.settings.disabled&&this._disableDatepicker(t),n.dpDiv.css("display","block"))},_dialogDatepicker:function(t,n,i,o,s){var l,c,d,u,h,p=this._dialogInst;return p||(this.uuid+=1,l="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+l+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),e("body").append(this._dialogInput),p=this._dialogInst=this._newInst(this._dialogInput,!1),p.settings={},e.data(this._dialogInput[0],a,p)),r(p.settings,o||{}),n=n&&n.constructor===Date?this._formatDate(p,n):n,this._dialogInput.val(n),this._pos=s?s.length?s:[s.pageX,s.pageY]:null,this._pos||(c=document.documentElement.clientWidth,d=document.documentElement.clientHeight,u=document.documentElement.scrollLeft||document.body.scrollLeft,h=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[c/2-100+u,d/2-150+h]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),p.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],a,p),this},_destroyDatepicker:function(t){var n,i=e(t),r=e.data(t,a);i.hasClass(this.markerClassName)&&(n=t.nodeName.toLowerCase(),e.removeData(t,a),"input"===n?(r.append.remove(),r.trigger.remove(),i.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===n||"span"===n)&&i.removeClass(this.markerClassName).empty())},_enableDatepicker:function(t){var n,i,r=e(t),o=e.data(t,a);r.hasClass(this.markerClassName)&&(n=t.nodeName.toLowerCase(),"input"===n?(t.disabled=!1,o.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===n||"span"===n)&&(i=r.children("."+this._inlineClass),i.children().removeClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var n,i,r=e(t),o=e.data(t,a);r.hasClass(this.markerClassName)&&(n=t.nodeName.toLowerCase(),"input"===n?(t.disabled=!0,o.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===n||"span"===n)&&(i=r.children("."+this._inlineClass),i.children().addClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,a)}catch(n){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(n,i,o){var a,s,l,c,d=this._getInst(n);return 2===arguments.length&&"string"==typeof i?"defaults"===i?e.extend({},e.datepicker._defaults):d?"all"===i?e.extend({},d.settings):this._get(d,i):null:(a=i||{},"string"==typeof i&&(a={},a[i]=o),d&&(this._curInst===d&&this._hideDatepicker(),s=this._getDateDatepicker(n,!0),l=this._getMinMaxDate(d,"min"),c=this._getMinMaxDate(d,"max"),r(d.settings,a),null!==l&&a.dateFormat!==t&&a.minDate===t&&(d.settings.minDate=this._formatDate(d,l)),null!==c&&a.dateFormat!==t&&a.maxDate===t&&(d.settings.maxDate=this._formatDate(d,c)),"disabled"in a&&(a.disabled?this._disableDatepicker(n):this._enableDatepicker(n)),this._attachments(e(n),d),this._autoSize(d),this._setDate(d,s),this._updateAlternate(d),this._updateDatepicker(d)),void 0)},_changeDatepicker:function(e,t,n){this._optionDatepicker(e,t,n)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var n=this._getInst(e);n&&(this._setDate(n,t),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(e,t){var n=this._getInst(e);return n&&!n.inline&&this._setDateFromField(n,t),n?this._getDate(n):null},_doKeyDown:function(t){var n,i,r,o=e.datepicker._getInst(t.target),a=!0,s=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),a=!1;break;case 13:return r=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",o.dpDiv),r[0]&&e.datepicker._selectDay(t.target,o.selectedMonth,o.selectedYear,r[0]),n=e.datepicker._get(o,"onSelect"),n?(i=e.datepicker._formatDate(o),n.apply(o.input?o.input[0]:null,[i,o])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(o,"stepBigMonths"):-e.datepicker._get(o,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(o,"stepBigMonths"):+e.datepicker._get(o,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),a=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),a=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,s?1:-1,"D"),a=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(o,"stepBigMonths"):-e.datepicker._get(o,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D"),a=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,s?-1:1,"D"),a=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(o,"stepBigMonths"):+e.datepicker._get(o,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D"),a=t.ctrlKey||t.metaKey;break;default:a=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):a=!1;a&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var n,i,r=e.datepicker._getInst(t.target);return e.datepicker._get(r,"constrainInput")?(n=e.datepicker._possibleChars(e.datepicker._get(r,"dateFormat")),i=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||" ">i||!n||n.indexOf(i)>-1):void 0},_doKeyUp:function(t){var n,i=e.datepicker._getInst(t.target);if(i.input.val()!==i.lastVal)try{n=e.datepicker.parseDate(e.datepicker._get(i,"dateFormat"),i.input?i.input.val():null,e.datepicker._getFormatConfig(i)),n&&(e.datepicker._setDateFromField(i),e.datepicker._updateAlternate(i),e.datepicker._updateDatepicker(i))}catch(r){}return!0},_showDatepicker:function(t){if(t=t.target||t,"input"!==t.nodeName.toLowerCase()&&(t=e("input",t.parentNode)[0]),!e.datepicker._isDisabledDatepicker(t)&&e.datepicker._lastInput!==t){var n,i,o,a,s,l,c;n=e.datepicker._getInst(t),e.datepicker._curInst&&e.datepicker._curInst!==n&&(e.datepicker._curInst.dpDiv.stop(!0,!0),n&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),i=e.datepicker._get(n,"beforeShow"),o=i?i.apply(t,[t,n]):{},o!==!1&&(r(n.settings,o),n.lastVal=null,e.datepicker._lastInput=t,e.datepicker._setDateFromField(n),e.datepicker._inDialog&&(t.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(t),e.datepicker._pos[1]+=t.offsetHeight),a=!1,e(t).parents().each(function(){return a|="fixed"===e(this).css("position"),!a}),s={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,n.dpDiv.empty(),n.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(n),s=e.datepicker._checkOffset(n,s,a),n.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":a?"fixed":"absolute",display:"none",left:s.left+"px",top:s.top+"px"}),n.inline||(l=e.datepicker._get(n,"showAnim"),c=e.datepicker._get(n,"duration"),n.dpDiv.zIndex(e(t).zIndex()+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[l]?n.dpDiv.show(l,e.datepicker._get(n,"showOptions"),c):n.dpDiv[l||"show"](l?c:null),e.datepicker._shouldFocusInput(n)&&n.input.focus(),e.datepicker._curInst=n))}},_updateDatepicker:function(t){this.maxRows=4,o=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t),t.dpDiv.find("."+this._dayOverClass+" a").mouseover();var n,i=this._getNumberOfMonths(t),r=i[1],a=17;t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),r>1&&t.dpDiv.addClass("ui-datepicker-multi-"+r).css("width",a*r+"em"),t.dpDiv[(1!==i[0]||1!==i[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.focus(),t.yearshtml&&(n=t.yearshtml,setTimeout(function(){n===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),n=t.yearshtml=null},0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,n,i){var r=t.dpDiv.outerWidth(),o=t.dpDiv.outerHeight(),a=t.input?t.input.outerWidth():0,s=t.input?t.input.outerHeight():0,l=document.documentElement.clientWidth+(i?0:e(document).scrollLeft()),c=document.documentElement.clientHeight+(i?0:e(document).scrollTop());return n.left-=this._get(t,"isRTL")?r-a:0,n.left-=i&&n.left===t.input.offset().left?e(document).scrollLeft():0,n.top-=i&&n.top===t.input.offset().top+s?e(document).scrollTop():0,n.left-=Math.min(n.left,n.left+r>l&&l>r?Math.abs(n.left+r-l):0),n.top-=Math.min(n.top,n.top+o>c&&c>o?Math.abs(o+s):0),n},_findPos:function(t){for(var n,i=this._getInst(t),r=this._get(i,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[r?"previousSibling":"nextSibling"];return n=e(t).offset(),[n.left,n.top]},_hideDatepicker:function(t){var n,i,r,o,s=this._curInst;!s||t&&s!==e.data(t,a)||this._datepickerShowing&&(n=this._get(s,"showAnim"),i=this._get(s,"duration"),r=function(){e.datepicker._tidyDialog(s)},e.effects&&(e.effects.effect[n]||e.effects[n])?s.dpDiv.hide(n,e.datepicker._get(s,"showOptions"),i,r):s.dpDiv["slideDown"===n?"slideUp":"fadeIn"===n?"fadeOut":"hide"](n?i:null,r),n||r(),this._datepickerShowing=!1,o=this._get(s,"onClose"),o&&o.apply(s.input?s.input[0]:null,[s.input?s.input.val():"",s]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(e.datepicker._curInst){var n=e(t.target),i=e.datepicker._getInst(n[0]);(n[0].id!==e.datepicker._mainDivId&&0===n.parents("#"+e.datepicker._mainDivId).length&&!n.hasClass(e.datepicker.markerClassName)&&!n.closest("."+e.datepicker._triggerClass).length&&e.datepicker._datepickerShowing&&(!e.datepicker._inDialog||!e.blockUI)||n.hasClass(e.datepicker.markerClassName)&&e.datepicker._curInst!==i)&&e.datepicker._hideDatepicker()}},_adjustDate:function(t,n,i){var r=e(t),o=this._getInst(r[0]);this._isDisabledDatepicker(r[0])||(this._adjustInstDate(o,n+("M"===i?this._get(o,"showCurrentAtPos"):0),i),this._updateDatepicker(o))},_gotoToday:function(t){var n,i=e(t),r=this._getInst(i[0]);this._get(r,"gotoCurrent")&&r.currentDay?(r.selectedDay=r.currentDay,r.drawMonth=r.selectedMonth=r.currentMonth,r.drawYear=r.selectedYear=r.currentYear):(n=new Date,r.selectedDay=n.getDate(),r.drawMonth=r.selectedMonth=n.getMonth(),r.drawYear=r.selectedYear=n.getFullYear()),this._notifyChange(r),this._adjustDate(i)},_selectMonthYear:function(t,n,i){var r=e(t),o=this._getInst(r[0]);o["selected"+("M"===i?"Month":"Year")]=o["draw"+("M"===i?"Month":"Year")]=parseInt(n.options[n.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(r)},_selectDay:function(t,n,i,r){var o,a=e(t);e(r).hasClass(this._unselectableClass)||this._isDisabledDatepicker(a[0])||(o=this._getInst(a[0]),o.selectedDay=o.currentDay=e("a",r).html(),o.selectedMonth=o.currentMonth=n,o.selectedYear=o.currentYear=i,this._selectDate(t,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(t){var n=e(t);this._selectDate(n,"")},_selectDate:function(t,n){var i,r=e(t),o=this._getInst(r[0]);n=null!=n?n:this._formatDate(o),o.input&&o.input.val(n),this._updateAlternate(o),i=this._get(o,"onSelect"),i?i.apply(o.input?o.input[0]:null,[n,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!=typeof o.input[0]&&o.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var n,i,r,o=this._get(t,"altField");o&&(n=this._get(t,"altFormat")||this._get(t,"dateFormat"),i=this._getDate(t),r=this.formatDate(n,i,this._getFormatConfig(t)),e(o).each(function(){e(this).val(r)}))},noWeekends:function(e){var t=e.getDay();return[t>0&&6>t,""]},iso8601Week:function(e){var t,n=new Date(e.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),t=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((t-n)/864e5)/7)+1},parseDate:function(t,n,i){if(null==t||null==n)throw"Invalid arguments";if(n="object"==typeof n?n.toString():n+"",""===n)return null;var r,o,a,s,l=0,c=(i?i.shortYearCutoff:null)||this._defaults.shortYearCutoff,d="string"!=typeof c?c:(new Date).getFullYear()%100+parseInt(c,10),u=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,h=(i?i.dayNames:null)||this._defaults.dayNames,p=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,f=(i?i.monthNames:null)||this._defaults.monthNames,m=-1,g=-1,v=-1,y=-1,b=!1,x=function(e){var n=r+1<t.length&&t.charAt(r+1)===e;return n&&r++,n},k=function(e){var t=x(e),i="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,r=new RegExp("^\\d{1,"+i+"}"),o=n.substring(l).match(r);if(!o)throw"Missing number at position "+l;return l+=o[0].length,parseInt(o[0],10)},_=function(t,i,r){var o=-1,a=e.map(x(t)?r:i,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(e.each(a,function(e,t){var i=t[1];return n.substr(l,i.length).toLowerCase()===i.toLowerCase()?(o=t[0],l+=i.length,!1):void 0}),-1!==o)return o+1;throw"Unknown name at position "+l},w=function(){if(n.charAt(l)!==t.charAt(r))throw"Unexpected literal at position "+l;l++};for(r=0;r<t.length;r++)if(b)"'"!==t.charAt(r)||x("'")?w():b=!1;else switch(t.charAt(r)){case"d":v=k("d");break;case"D":_("D",u,h);break;case"o":y=k("o");break;case"m":g=k("m");break;case"M":g=_("M",p,f);break;case"y":m=k("y");break;case"@":s=new Date(k("@")),m=s.getFullYear(),g=s.getMonth()+1,v=s.getDate();break;case"!":s=new Date((k("!")-this._ticksTo1970)/1e4),m=s.getFullYear(),g=s.getMonth()+1,v=s.getDate();break;case"'":x("'")?w():b=!0;break;default:w()}if(l<n.length&&(a=n.substr(l),!/^\s+/.test(a)))throw"Extra/unparsed characters found in date: "+a;if(-1===m?m=(new Date).getFullYear():100>m&&(m+=(new Date).getFullYear()-(new Date).getFullYear()%100+(d>=m?0:-100)),y>-1)for(g=1,v=y;;){if(o=this._getDaysInMonth(m,g-1),o>=v)break;g++,v-=o}if(s=this._daylightSavingAdjust(new Date(m,g-1,v)),s.getFullYear()!==m||s.getMonth()+1!==g||s.getDate()!==v)throw"Invalid date";return s},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:1e7*60*60*24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(e,t,n){if(!t)return"";var i,r=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,o=(n?n.dayNames:null)||this._defaults.dayNames,a=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,s=(n?n.monthNames:null)||this._defaults.monthNames,l=function(t){var n=i+1<e.length&&e.charAt(i+1)===t;return n&&i++,n},c=function(e,t,n){var i=""+t;if(l(e))for(;i.length<n;)i="0"+i;return i},d=function(e,t,n,i){return l(e)?i[t]:n[t]},u="",h=!1;if(t)for(i=0;i<e.length;i++)if(h)"'"!==e.charAt(i)||l("'")?u+=e.charAt(i):h=!1;else switch(e.charAt(i)){case"d":u+=c("d",t.getDate(),2);break;case"D":u+=d("D",t.getDay(),r,o);break;case"o":u+=c("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":u+=c("m",t.getMonth()+1,2);break;case"M":u+=d("M",t.getMonth(),a,s);break;case"y":u+=l("y")?t.getFullYear():(t.getYear()%100<10?"0":"")+t.getYear()%100;break;case"@":u+=t.getTime();break;case"!":u+=1e4*t.getTime()+this._ticksTo1970;break;case"'":l("'")?u+="'":h=!0;break;default:u+=e.charAt(i)}return u},_possibleChars:function(e){var t,n="",i=!1,r=function(n){var i=t+1<e.length&&e.charAt(t+1)===n;return i&&t++,i};for(t=0;t<e.length;t++)if(i)"'"!==e.charAt(t)||r("'")?n+=e.charAt(t):i=!1;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":n+="0123456789";break;case"D":case"M":return null;case"'":r("'")?n+="'":i=!0;break;default:n+=e.charAt(t)}return n},_get:function(e,n){return e.settings[n]!==t?e.settings[n]:this._defaults[n]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var n=this._get(e,"dateFormat"),i=e.lastVal=e.input?e.input.val():null,r=this._getDefaultDate(e),o=r,a=this._getFormatConfig(e);try{o=this.parseDate(n,i,a)||r}catch(s){i=t?"":i}e.selectedDay=o.getDate(),e.drawMonth=e.selectedMonth=o.getMonth(),e.drawYear=e.selectedYear=o.getFullYear(),e.currentDay=i?o.getDate():0,e.currentMonth=i?o.getMonth():0,e.currentYear=i?o.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,n,i){var r=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},o=function(n){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),n,e.datepicker._getFormatConfig(t))}catch(i){}for(var r=(n.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,o=r.getFullYear(),a=r.getMonth(),s=r.getDate(),l=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,c=l.exec(n);c;){switch(c[2]||"d"){case"d":case"D":s+=parseInt(c[1],10);break;case"w":case"W":s+=7*parseInt(c[1],10);break;case"m":case"M":a+=parseInt(c[1],10),s=Math.min(s,e.datepicker._getDaysInMonth(o,a));break;case"y":case"Y":o+=parseInt(c[1],10),s=Math.min(s,e.datepicker._getDaysInMonth(o,a))}c=l.exec(n)}return new Date(o,a,s)},a=null==n||""===n?i:"string"==typeof n?o(n):"number"==typeof n?isNaN(n)?i:r(n):new Date(n.getTime());return a=a&&"Invalid Date"===a.toString()?i:a,a&&(a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)),this._daylightSavingAdjust(a)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,n){var i=!t,r=e.selectedMonth,o=e.selectedYear,a=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=a.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=a.getMonth(),e.drawYear=e.selectedYear=e.currentYear=a.getFullYear(),r===e.selectedMonth&&o===e.selectedYear||n||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(i?"":this._formatDate(e))},_getDate:function(e){var t=!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_attachHandlers:function(t){var n=this._get(t,"stepMonths"),i="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){e.datepicker._adjustDate(i,-n,"M")},next:function(){e.datepicker._adjustDate(i,+n,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(i)},selectDay:function(){return e.datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return e.datepicker._selectMonthYear(i,this,"Y"),!1}};e(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,n,i,r,o,a,s,l,c,d,u,h,p,f,m,g,v,y,b,x,k,_,w,C,T,S,M,D,A,E,N,L,P,F,I,R,B,O,H,z=new Date,j=this._daylightSavingAdjust(new Date(z.getFullYear(),z.getMonth(),z.getDate())),$=this._get(e,"isRTL"),W=this._get(e,"showButtonPanel"),Y=this._get(e,"hideIfNoPrevNext"),V=this._get(e,"navigationAsDateFormat"),q=this._getNumberOfMonths(e),U=this._get(e,"showCurrentAtPos"),X=this._get(e,"stepMonths"),G=1!==q[0]||1!==q[1],K=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),Q=this._getMinMaxDate(e,"min"),Z=this._getMinMaxDate(e,"max"),J=e.drawMonth-U,et=e.drawYear;if(0>J&&(J+=12,et--),Z)for(t=this._daylightSavingAdjust(new Date(Z.getFullYear(),Z.getMonth()-q[0]*q[1]+1,Z.getDate())),t=Q&&Q>t?Q:t;this._daylightSavingAdjust(new Date(et,J,1))>t;)J--,0>J&&(J=11,et--);for(e.drawMonth=J,e.drawYear=et,n=this._get(e,"prevText"),n=V?this.formatDate(n,this._daylightSavingAdjust(new Date(et,J-X,1)),this._getFormatConfig(e)):n,i=this._canAdjustMonth(e,-1,et,J)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+($?"e":"w")+"'>"+n+"</span></a>":Y?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+($?"e":"w")+"'>"+n+"</span></a>",r=this._get(e,"nextText"),r=V?this.formatDate(r,this._daylightSavingAdjust(new Date(et,J+X,1)),this._getFormatConfig(e)):r,o=this._canAdjustMonth(e,1,et,J)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+($?"w":"e")+"'>"+r+"</span></a>":Y?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+($?"w":"e")+"'>"+r+"</span></a>",a=this._get(e,"currentText"),s=this._get(e,"gotoCurrent")&&e.currentDay?K:j,a=V?this.formatDate(a,s,this._getFormatConfig(e)):a,l=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",c=W?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+($?l:"")+(this._isInRange(e,s)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+a+"</button>":"")+($?"":l)+"</div>":"",d=parseInt(this._get(e,"firstDay"),10),d=isNaN(d)?0:d,u=this._get(e,"showWeek"),h=this._get(e,"dayNames"),p=this._get(e,"dayNamesMin"),f=this._get(e,"monthNames"),m=this._get(e,"monthNamesShort"),g=this._get(e,"beforeShowDay"),v=this._get(e,"showOtherMonths"),y=this._get(e,"selectOtherMonths"),b=this._getDefaultDate(e),x="",_=0;_<q[0];_++){for(w="",this.maxRows=4,C=0;C<q[1];C++){if(T=this._daylightSavingAdjust(new Date(et,J,e.selectedDay)),S=" ui-corner-all",M="",G){if(M+="<div class='ui-datepicker-group",q[1]>1)switch(C){case 0:M+=" ui-datepicker-group-first",S=" ui-corner-"+($?"right":"left");break;case q[1]-1:M+=" ui-datepicker-group-last",S=" ui-corner-"+($?"left":"right");break;default:M+=" ui-datepicker-group-middle",S=""}M+="'>"}for(M+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+S+"'>"+(/all|left/.test(S)&&0===_?$?o:i:"")+(/all|right/.test(S)&&0===_?$?i:o:"")+this._generateMonthYearHeader(e,J,et,Q,Z,_>0||C>0,f,m)+"</div><table class='ui-datepicker-calendar'><thead>"+"<tr>",D=u?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",k=0;7>k;k++)A=(k+d)%7,D+="<th"+((k+d+6)%7>=5?" class='ui-datepicker-week-end'":"")+">"+"<span title='"+h[A]+"'>"+p[A]+"</span></th>";for(M+=D+"</tr></thead><tbody>",E=this._getDaysInMonth(et,J),et===e.selectedYear&&J===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,E)),N=(this._getFirstDayOfMonth(et,J)-d+7)%7,L=Math.ceil((N+E)/7),P=G?this.maxRows>L?this.maxRows:L:L,this.maxRows=P,F=this._daylightSavingAdjust(new Date(et,J,1-N)),I=0;P>I;I++){for(M+="<tr>",R=u?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(F)+"</td>":"",k=0;7>k;k++)B=g?g.apply(e.input?e.input[0]:null,[F]):[!0,""],O=F.getMonth()!==J,H=O&&!y||!B[0]||Q&&Q>F||Z&&F>Z,R+="<td class='"+((k+d+6)%7>=5?" ui-datepicker-week-end":"")+(O?" ui-datepicker-other-month":"")+(F.getTime()===T.getTime()&&J===e.selectedMonth&&e._keyEvent||b.getTime()===F.getTime()&&b.getTime()===T.getTime()?" "+this._dayOverClass:"")+(H?" "+this._unselectableClass+" ui-state-disabled":"")+(O&&!v?"":" "+B[1]+(F.getTime()===K.getTime()?" "+this._currentClass:"")+(F.getTime()===j.getTime()?" ui-datepicker-today":""))+"'"+(O&&!v||!B[2]?"":" title='"+B[2].replace(/'/g,"&#39;")+"'")+(H?"":" data-handler='selectDay' data-event='click' data-month='"+F.getMonth()+"' data-year='"+F.getFullYear()+"'")+">"+(O&&!v?"&#xa0;":H?"<span class='ui-state-default'>"+F.getDate()+"</span>":"<a class='ui-state-default"+(F.getTime()===j.getTime()?" ui-state-highlight":"")+(F.getTime()===K.getTime()?" ui-state-active":"")+(O?" ui-priority-secondary":"")+"' href='#'>"+F.getDate()+"</a>")+"</td>",F.setDate(F.getDate()+1),F=this._daylightSavingAdjust(F);M+=R+"</tr>"}J++,J>11&&(J=0,et++),M+="</tbody></table>"+(G?"</div>"+(q[0]>0&&C===q[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),w+=M}x+=w}return x+=c,e._keyEvent=!1,x},_generateMonthYearHeader:function(e,t,n,i,r,o,a,s){var l,c,d,u,h,p,f,m,g=this._get(e,"changeMonth"),v=this._get(e,"changeYear"),y=this._get(e,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",x="";if(o||!g)x+="<span class='ui-datepicker-month'>"+a[t]+"</span>";else{for(l=i&&i.getFullYear()===n,c=r&&r.getFullYear()===n,x+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",d=0;12>d;d++)(!l||d>=i.getMonth())&&(!c||d<=r.getMonth())&&(x+="<option value='"+d+"'"+(d===t?" selected='selected'":"")+">"+s[d]+"</option>");x+="</select>"}if(y||(b+=x+(!o&&g&&v?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",o||!v)b+="<span class='ui-datepicker-year'>"+n+"</span>";else{for(u=this._get(e,"yearRange").split(":"),h=(new Date).getFullYear(),p=function(e){var t=e.match(/c[+\-].*/)?n+parseInt(e.substring(1),10):e.match(/[+\-].*/)?h+parseInt(e,10):parseInt(e,10);return isNaN(t)?h:t},f=p(u[0]),m=Math.max(f,p(u[1]||"")),f=i?Math.max(f,i.getFullYear()):f,m=r?Math.min(m,r.getFullYear()):m,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";m>=f;f++)e.yearshtml+="<option value='"+f+"'"+(f===n?" selected='selected'":"")+">"+f+"</option>";e.yearshtml+="</select>",b+=e.yearshtml,e.yearshtml=null}return b+=this._get(e,"yearSuffix"),y&&(b+=(!o&&g&&v?"":"&#xa0;")+x),b+="</div>"},_adjustInstDate:function(e,t,n){var i=e.drawYear+("Y"===n?t:0),r=e.drawMonth+("M"===n?t:0),o=Math.min(e.selectedDay,this._getDaysInMonth(i,r))+("D"===n?t:0),a=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(i,r,o)));e.selectedDay=a.getDate(),e.drawMonth=e.selectedMonth=a.getMonth(),e.drawYear=e.selectedYear=a.getFullYear(),("M"===n||"Y"===n)&&this._notifyChange(e)
},_restrictMinMax:function(e,t){var n=this._getMinMaxDate(e,"min"),i=this._getMinMaxDate(e,"max"),r=n&&n>t?n:t;return i&&r>i?i:r},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,n,i){var r=this._getNumberOfMonths(e),o=this._daylightSavingAdjust(new Date(n,i+(0>t?t:r[0]*r[1]),1));return 0>t&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(e,o)},_isInRange:function(e,t){var n,i,r=this._getMinMaxDate(e,"min"),o=this._getMinMaxDate(e,"max"),a=null,s=null,l=this._get(e,"yearRange");return l&&(n=l.split(":"),i=(new Date).getFullYear(),a=parseInt(n[0],10),s=parseInt(n[1],10),n[0].match(/[+\-].*/)&&(a+=i),n[1].match(/[+\-].*/)&&(s+=i)),(!r||t.getTime()>=r.getTime())&&(!o||t.getTime()<=o.getTime())&&(!a||t.getFullYear()>=a)&&(!s||t.getFullYear()<=s)},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,n,i){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var r=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(i,n,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),r,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).mousedown(e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e.datepicker.dpDiv);var n=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(n)):this.each(function(){"string"==typeof t?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(n)):e.datepicker._attachDatepicker(this,t)}):e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(n))},e.datepicker=new n,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="1.10.3"}(jQuery),/*
* jQuery timepicker addon
* By: Trent Richardson [http://trentrichardson.com]
* Version 1.0.0
* Last Modified: 02/05/2012
*
* Copyright 2012 Trent Richardson
* Dual licensed under the MIT and GPL licenses.
* http://trentrichardson.com/Impromptu/GPL-LICENSE.txt
* http://trentrichardson.com/Impromptu/MIT-LICENSE.txt
*
* HERES THE CSS:
* .ui-timepicker-div .ui-widget-header { margin-bottom: 8px; }
* .ui-timepicker-div dl { text-align: left; }
* .ui-timepicker-div dl dt { height: 25px; margin-bottom: -25px; }
* .ui-timepicker-div dl dd { margin: 0 10px 10px 65px; }
* .ui-timepicker-div td { font-size: 90%; }
* .ui-tpicker-grid-label { background: none; border: none; margin: 0; padding: 0; }
*/
function($){function Timepicker(){this.regional=[],this.regional[""]={currentText:"Now",closeText:"Done",ampm:!1,amNames:["AM","A"],pmNames:["PM","P"],timeFormat:"hh:mm tt",timeSuffix:"",timeOnlyTitle:"Choose Time",timeText:"Time",hourText:"Hour",minuteText:"Minute",secondText:"Second",millisecText:"Millisecond",timezoneText:"Time Zone"},this._defaults={showButtonPanel:!0,timeOnly:!1,showHour:!0,showMinute:!0,showSecond:!1,showMillisec:!1,showTimezone:!1,showTime:!0,stepHour:1,stepMinute:1,stepSecond:1,stepMillisec:1,hour:0,minute:0,second:0,millisec:0,timezone:"+0000",hourMin:0,minuteMin:0,secondMin:0,millisecMin:0,hourMax:23,minuteMax:59,secondMax:59,millisecMax:999,minDateTime:null,maxDateTime:null,onSelect:null,hourGrid:0,minuteGrid:0,secondGrid:0,millisecGrid:0,alwaysSetTime:!0,separator:" ",altFieldTimeOnly:!0,showTimepicker:!0,timezoneIso8609:!1,timezoneList:null,addSliderAccess:!1,sliderAccessArgs:null},$.extend(this._defaults,this.regional[""])}function extendRemove(e,t){$.extend(e,t);for(var n in t)(null===t[n]||void 0===t[n])&&(e[n]=t[n]);return e}$.ui.timepicker=$.ui.timepicker||{},$.ui.timepicker.version||($.extend($.ui,{timepicker:{version:"1.0.0"}}),$.extend(Timepicker.prototype,{$input:null,$altInput:null,$timeObj:null,inst:null,hour_slider:null,minute_slider:null,second_slider:null,millisec_slider:null,timezone_select:null,hour:0,minute:0,second:0,millisec:0,timezone:"+0000",hourMinOriginal:null,minuteMinOriginal:null,secondMinOriginal:null,millisecMinOriginal:null,hourMaxOriginal:null,minuteMaxOriginal:null,secondMaxOriginal:null,millisecMaxOriginal:null,ampm:"",formattedDate:"",formattedTime:"",formattedDateTime:"",timezoneList:null,setDefaults:function(e){return extendRemove(this._defaults,e||{}),this},_newInst:function($input,o){var tp_inst=new Timepicker,inlineSettings={};for(var attrName in this._defaults){var attrValue=$input.attr("time:"+attrName);if(attrValue)try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}}if(tp_inst._defaults=$.extend({},this._defaults,inlineSettings,o,{beforeShow:function(e,t){return $.isFunction(o.beforeShow)?o.beforeShow(e,t,tp_inst):void 0},onChangeMonthYear:function(e,t,n){tp_inst._updateDateTime(n),$.isFunction(o.onChangeMonthYear)&&o.onChangeMonthYear.call($input[0],e,t,n,tp_inst)},onClose:function(e,t){tp_inst.timeDefined===!0&&""!=$input.val()&&tp_inst._updateDateTime(t),$.isFunction(o.onClose)&&o.onClose.call($input[0],e,t,tp_inst)},timepicker:tp_inst}),tp_inst.amNames=$.map(tp_inst._defaults.amNames,function(e){return e.toUpperCase()}),tp_inst.pmNames=$.map(tp_inst._defaults.pmNames,function(e){return e.toUpperCase()}),null===tp_inst._defaults.timezoneList){for(var timezoneList=[],i=-11;12>=i;i++)timezoneList.push((i>=0?"+":"-")+("0"+Math.abs(i).toString()).slice(-2)+"00");tp_inst._defaults.timezoneIso8609&&(timezoneList=$.map(timezoneList,function(e){return"+0000"==e?"Z":e.substring(0,3)+":"+e.substring(3)})),tp_inst._defaults.timezoneList=timezoneList}return tp_inst.hour=tp_inst._defaults.hour,tp_inst.minute=tp_inst._defaults.minute,tp_inst.second=tp_inst._defaults.second,tp_inst.millisec=tp_inst._defaults.millisec,tp_inst.ampm="",tp_inst.$input=$input,o.altField&&(tp_inst.$altInput=$(o.altField).css({cursor:"pointer"}).focus(function(){$input.trigger("focus")})),(0==tp_inst._defaults.minDate||0==tp_inst._defaults.minDateTime)&&(tp_inst._defaults.minDate=new Date),(0==tp_inst._defaults.maxDate||0==tp_inst._defaults.maxDateTime)&&(tp_inst._defaults.maxDate=new Date),void 0!==tp_inst._defaults.minDate&&tp_inst._defaults.minDate instanceof Date&&(tp_inst._defaults.minDateTime=new Date(tp_inst._defaults.minDate.getTime())),void 0!==tp_inst._defaults.minDateTime&&tp_inst._defaults.minDateTime instanceof Date&&(tp_inst._defaults.minDate=new Date(tp_inst._defaults.minDateTime.getTime())),void 0!==tp_inst._defaults.maxDate&&tp_inst._defaults.maxDate instanceof Date&&(tp_inst._defaults.maxDateTime=new Date(tp_inst._defaults.maxDate.getTime())),void 0!==tp_inst._defaults.maxDateTime&&tp_inst._defaults.maxDateTime instanceof Date&&(tp_inst._defaults.maxDate=new Date(tp_inst._defaults.maxDateTime.getTime())),tp_inst},_addTimePicker:function(e){var t=this.$altInput&&this._defaults.altFieldTimeOnly?this.$input.val()+" "+this.$altInput.val():this.$input.val();this.timeDefined=this._parseTime(t),this._limitMinMaxDateTime(e,!1),this._injectTimePicker()},_parseTime:function(e,t){var n,i=this._defaults.timeFormat.toString().replace(/h{1,2}/gi,"(\\d?\\d)").replace(/m{1,2}/gi,"(\\d?\\d)").replace(/s{1,2}/gi,"(\\d?\\d)").replace(/l{1}/gi,"(\\d?\\d?\\d)").replace(/t{1,2}/gi,this._getPatternAmpm()).replace(/z{1}/gi,"(z|[-+]\\d\\d:?\\d\\d)?").replace(/\s/g,"\\s?")+this._defaults.timeSuffix+"$",r=this._getFormatPositions(),o="";if(this.inst||(this.inst=$.datepicker._getInst(this.$input[0])),t||!this._defaults.timeOnly){var a=$.datepicker._get(this.inst,"dateFormat"),s=new RegExp("[.*+?|()\\[\\]{}\\\\]","g");i="^.{"+a.length+",}?"+this._defaults.separator.replace(s,"\\$&")+i}if(n=e.match(new RegExp(i,"i"))){if(-1!==r.t&&(void 0===n[r.t]||0===n[r.t].length?(o="",this.ampm=""):(o=-1!==$.inArray(n[r.t].toUpperCase(),this.amNames)?"AM":"PM",this.ampm=this._defaults["AM"==o?"amNames":"pmNames"][0])),-1!==r.h&&(this.hour="AM"==o&&"12"==n[r.h]?0:"PM"==o&&"12"!=n[r.h]?(parseFloat(n[r.h])+12).toFixed(0):Number(n[r.h])),-1!==r.m&&(this.minute=Number(n[r.m])),-1!==r.s&&(this.second=Number(n[r.s])),-1!==r.l&&(this.millisec=Number(n[r.l])),-1!==r.z&&void 0!==n[r.z]){var l=n[r.z].toUpperCase();switch(l.length){case 1:l=this._defaults.timezoneIso8609?"Z":"+0000";break;case 5:this._defaults.timezoneIso8609&&(l="0000"==l.substring(1)?"Z":l.substring(0,3)+":"+l.substring(3));break;case 6:this._defaults.timezoneIso8609?"00:00"==l.substring(1)&&(l="Z"):l="Z"==l||"00:00"==l.substring(1)?"+0000":l.replace(/:/,"")}this.timezone=l}return!0}return!1},_getPatternAmpm:function(){var e=[],t=this._defaults;return t.amNames&&$.merge(e,t.amNames),t.pmNames&&$.merge(e,t.pmNames),e=$.map(e,function(e){return e.replace(/[.*+?|()\[\]{}\\]/g,"\\$&")}),"("+e.join("|")+")?"},_getFormatPositions:function(){var e=this._defaults.timeFormat.toLowerCase().match(/(h{1,2}|m{1,2}|s{1,2}|l{1}|t{1,2}|z)/g),t={h:-1,m:-1,s:-1,l:-1,t:-1,z:-1};if(e)for(var n=0;n<e.length;n++)-1==t[e[n].toString().charAt(0)]&&(t[e[n].toString().charAt(0)]=n+1);return t},_injectTimePicker:function(){var e=this.inst.dpDiv,t=this._defaults,n=this,i=parseInt(t.hourMax-(t.hourMax-t.hourMin)%t.stepHour,10),r=parseInt(t.minuteMax-(t.minuteMax-t.minuteMin)%t.stepMinute,10),o=parseInt(t.secondMax-(t.secondMax-t.secondMin)%t.stepSecond,10),a=parseInt(t.millisecMax-(t.millisecMax-t.millisecMin)%t.stepMillisec,10),s=this.inst.id.toString().replace(/([^A-Za-z0-9_])/g,"");if(0===e.find("div#ui-timepicker-div-"+s).length&&t.showTimepicker){var l=' style="display:none;"',c='<div class="ui-timepicker-div" id="ui-timepicker-div-'+s+'"><dl>'+'<dt class="ui_tpicker_time_label" id="ui_tpicker_time_label_'+s+'"'+(t.showTime?"":l)+">"+t.timeText+"</dt>"+'<dd class="ui_tpicker_time" id="ui_tpicker_time_'+s+'"'+(t.showTime?"":l)+"></dd>"+'<dt class="ui_tpicker_hour_label" id="ui_tpicker_hour_label_'+s+'"'+(t.showHour?"":l)+">"+t.hourText+"</dt>",d=0,u=0,h=0,p=0,f=null;if(c+='<dd class="ui_tpicker_hour"><div id="ui_tpicker_hour_'+s+'"'+(t.showHour?"":l)+"></div>",t.showHour&&t.hourGrid>0){c+='<div style="padding-left: 1px"><table class="ui-tpicker-grid-label"><tr>';for(var m=t.hourMin;i>=m;m+=parseInt(t.hourGrid,10)){d++;var g=t.ampm&&m>12?m-12:m;10>g&&(g="0"+g),t.ampm&&(0==m?g="12a":g+=12>m?"a":"p"),c+="<td>"+g+"</td>"}c+="</tr></table></div>"}if(c+="</dd>",c+='<dt class="ui_tpicker_minute_label" id="ui_tpicker_minute_label_'+s+'"'+(t.showMinute?"":l)+">"+t.minuteText+"</dt>"+'<dd class="ui_tpicker_minute"><div id="ui_tpicker_minute_'+s+'"'+(t.showMinute?"":l)+"></div>",t.showMinute&&t.minuteGrid>0){c+='<div style="padding-left: 1px"><table class="ui-tpicker-grid-label"><tr>';for(var v=t.minuteMin;r>=v;v+=parseInt(t.minuteGrid,10))u++,c+="<td>"+(10>v?"0":"")+v+"</td>";c+="</tr></table></div>"}if(c+="</dd>",c+='<dt class="ui_tpicker_second_label" id="ui_tpicker_second_label_'+s+'"'+(t.showSecond?"":l)+">"+t.secondText+"</dt>"+'<dd class="ui_tpicker_second"><div id="ui_tpicker_second_'+s+'"'+(t.showSecond?"":l)+"></div>",t.showSecond&&t.secondGrid>0){c+='<div style="padding-left: 1px"><table><tr>';for(var y=t.secondMin;o>=y;y+=parseInt(t.secondGrid,10))h++,c+="<td>"+(10>y?"0":"")+y+"</td>";c+="</tr></table></div>"}if(c+="</dd>",c+='<dt class="ui_tpicker_millisec_label" id="ui_tpicker_millisec_label_'+s+'"'+(t.showMillisec?"":l)+">"+t.millisecText+"</dt>"+'<dd class="ui_tpicker_millisec"><div id="ui_tpicker_millisec_'+s+'"'+(t.showMillisec?"":l)+"></div>",t.showMillisec&&t.millisecGrid>0){c+='<div style="padding-left: 1px"><table><tr>';for(var b=t.millisecMin;a>=b;b+=parseInt(t.millisecGrid,10))p++,c+="<td>"+(10>b?"0":"")+b+"</td>";c+="</tr></table></div>"}c+="</dd>",c+='<dt class="ui_tpicker_timezone_label" id="ui_tpicker_timezone_label_'+s+'"'+(t.showTimezone?"":l)+">"+t.timezoneText+"</dt>",c+='<dd class="ui_tpicker_timezone" id="ui_tpicker_timezone_'+s+'"'+(t.showTimezone?"":l)+"></dd>",c+="</dl></div>",$tp=$(c),t.timeOnly===!0&&($tp.prepend('<div class="ui-widget-header ui-helper-clearfix ui-corner-all"><div class="ui-datepicker-title">'+t.timeOnlyTitle+"</div>"+"</div>"),e.find(".ui-datepicker-header, .ui-datepicker-calendar").hide()),this.hour_slider=$tp.find("#ui_tpicker_hour_"+s).slider({orientation:"horizontal",value:this.hour,min:t.hourMin,max:i,step:t.stepHour,slide:function(e,t){n.hour_slider.slider("option","value",t.value),n._onTimeChange()}}),this.minute_slider=$tp.find("#ui_tpicker_minute_"+s).slider({orientation:"horizontal",value:this.minute,min:t.minuteMin,max:r,step:t.stepMinute,slide:function(e,t){n.minute_slider.slider("option","value",t.value),n._onTimeChange()}}),this.second_slider=$tp.find("#ui_tpicker_second_"+s).slider({orientation:"horizontal",value:this.second,min:t.secondMin,max:o,step:t.stepSecond,slide:function(e,t){n.second_slider.slider("option","value",t.value),n._onTimeChange()}}),this.millisec_slider=$tp.find("#ui_tpicker_millisec_"+s).slider({orientation:"horizontal",value:this.millisec,min:t.millisecMin,max:a,step:t.stepMillisec,slide:function(e,t){n.millisec_slider.slider("option","value",t.value),n._onTimeChange()}}),this.timezone_select=$tp.find("#ui_tpicker_timezone_"+s).append("<select></select>").find("select"),$.fn.append.apply(this.timezone_select,$.map(t.timezoneList,function(e){return $("<option />").val("object"==typeof e?e.value:e).text("object"==typeof e?e.label:e)})),this.timezone_select.val("undefined"!=typeof this.timezone&&null!=this.timezone&&""!=this.timezone?this.timezone:t.timezone),this.timezone_select.change(function(){n._onTimeChange()}),t.showHour&&t.hourGrid>0&&(f=100*d*t.hourGrid/(i-t.hourMin),$tp.find(".ui_tpicker_hour table").css({width:f+"%",marginLeft:f/(-2*d)+"%",borderCollapse:"collapse"}).find("td").each(function(){$(this).click(function(){var e=$(this).html();if(t.ampm){var i=e.substring(2).toLowerCase(),r=parseInt(e.substring(0,2),10);e="a"==i?12==r?0:r:12==r?12:r+12}n.hour_slider.slider("option","value",e),n._onTimeChange(),n._onSelectHandler()}).css({cursor:"pointer",width:100/d+"%",textAlign:"center",overflow:"hidden"})})),t.showMinute&&t.minuteGrid>0&&(f=100*u*t.minuteGrid/(r-t.minuteMin),$tp.find(".ui_tpicker_minute table").css({width:f+"%",marginLeft:f/(-2*u)+"%",borderCollapse:"collapse"}).find("td").each(function(){$(this).click(function(){n.minute_slider.slider("option","value",$(this).html()),n._onTimeChange(),n._onSelectHandler()}).css({cursor:"pointer",width:100/u+"%",textAlign:"center",overflow:"hidden"})})),t.showSecond&&t.secondGrid>0&&$tp.find(".ui_tpicker_second table").css({width:f+"%",marginLeft:f/(-2*h)+"%",borderCollapse:"collapse"}).find("td").each(function(){$(this).click(function(){n.second_slider.slider("option","value",$(this).html()),n._onTimeChange(),n._onSelectHandler()}).css({cursor:"pointer",width:100/h+"%",textAlign:"center",overflow:"hidden"})}),t.showMillisec&&t.millisecGrid>0&&$tp.find(".ui_tpicker_millisec table").css({width:f+"%",marginLeft:f/(-2*p)+"%",borderCollapse:"collapse"}).find("td").each(function(){$(this).click(function(){n.millisec_slider.slider("option","value",$(this).html()),n._onTimeChange(),n._onSelectHandler()}).css({cursor:"pointer",width:100/p+"%",textAlign:"center",overflow:"hidden"})});var x=e.find(".ui-datepicker-buttonpane");if(x.length?x.before($tp):e.append($tp),this.$timeObj=$tp.find("#ui_tpicker_time_"+s),null!==this.inst){var k=this.timeDefined;this._onTimeChange(),this.timeDefined=k}var _=function(){n._onSelectHandler()};if(this.hour_slider.bind("slidestop",_),this.minute_slider.bind("slidestop",_),this.second_slider.bind("slidestop",_),this.millisec_slider.bind("slidestop",_),this._defaults.addSliderAccess){var w=this._defaults.sliderAccessArgs;setTimeout(function(){if(0==$tp.find(".ui-slider-access").length){$tp.find(".ui-slider:visible").sliderAccess(w);var e=$tp.find(".ui-slider-access:eq(0)").outerWidth(!0);e&&$tp.find("table:visible").each(function(){var t=$(this),n=t.outerWidth(),i=t.css("marginLeft").toString().replace("%",""),r=n-e,o=i*r/n+"%";t.css({width:r,marginLeft:o})})}},0)}}},_limitMinMaxDateTime:function(e,t){var n=this._defaults,i=new Date(e.selectedYear,e.selectedMonth,e.selectedDay);if(this._defaults.showTimepicker){if(null!==$.datepicker._get(e,"minDateTime")&&void 0!==$.datepicker._get(e,"minDateTime")&&i){var r=$.datepicker._get(e,"minDateTime"),o=new Date(r.getFullYear(),r.getMonth(),r.getDate(),0,0,0,0);(null===this.hourMinOriginal||null===this.minuteMinOriginal||null===this.secondMinOriginal||null===this.millisecMinOriginal)&&(this.hourMinOriginal=n.hourMin,this.minuteMinOriginal=n.minuteMin,this.secondMinOriginal=n.secondMin,this.millisecMinOriginal=n.millisecMin),e.settings.timeOnly||o.getTime()==i.getTime()?(this._defaults.hourMin=r.getHours(),this.hour<=this._defaults.hourMin?(this.hour=this._defaults.hourMin,this._defaults.minuteMin=r.getMinutes(),this.minute<=this._defaults.minuteMin?(this.minute=this._defaults.minuteMin,this._defaults.secondMin=r.getSeconds()):this.second<=this._defaults.secondMin?(this.second=this._defaults.secondMin,this._defaults.millisecMin=r.getMilliseconds()):(this.millisec<this._defaults.millisecMin&&(this.millisec=this._defaults.millisecMin),this._defaults.millisecMin=this.millisecMinOriginal)):(this._defaults.minuteMin=this.minuteMinOriginal,this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal)):(this._defaults.hourMin=this.hourMinOriginal,this._defaults.minuteMin=this.minuteMinOriginal,this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal)}if(null!==$.datepicker._get(e,"maxDateTime")&&void 0!==$.datepicker._get(e,"maxDateTime")&&i){var a=$.datepicker._get(e,"maxDateTime"),s=new Date(a.getFullYear(),a.getMonth(),a.getDate(),0,0,0,0);(null===this.hourMaxOriginal||null===this.minuteMaxOriginal||null===this.secondMaxOriginal)&&(this.hourMaxOriginal=n.hourMax,this.minuteMaxOriginal=n.minuteMax,this.secondMaxOriginal=n.secondMax,this.millisecMaxOriginal=n.millisecMax),e.settings.timeOnly||s.getTime()==i.getTime()?(this._defaults.hourMax=a.getHours(),this.hour>=this._defaults.hourMax?(this.hour=this._defaults.hourMax,this._defaults.minuteMax=a.getMinutes(),this.minute>=this._defaults.minuteMax?(this.minute=this._defaults.minuteMax,this._defaults.secondMax=a.getSeconds()):this.second>=this._defaults.secondMax?(this.second=this._defaults.secondMax,this._defaults.millisecMax=a.getMilliseconds()):(this.millisec>this._defaults.millisecMax&&(this.millisec=this._defaults.millisecMax),this._defaults.millisecMax=this.millisecMaxOriginal)):(this._defaults.minuteMax=this.minuteMaxOriginal,this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal)):(this._defaults.hourMax=this.hourMaxOriginal,this._defaults.minuteMax=this.minuteMaxOriginal,this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal)}if(void 0!==t&&t===!0){var l=parseInt(this._defaults.hourMax-(this._defaults.hourMax-this._defaults.hourMin)%this._defaults.stepHour,10),c=parseInt(this._defaults.minuteMax-(this._defaults.minuteMax-this._defaults.minuteMin)%this._defaults.stepMinute,10),d=parseInt(this._defaults.secondMax-(this._defaults.secondMax-this._defaults.secondMin)%this._defaults.stepSecond,10),u=parseInt(this._defaults.millisecMax-(this._defaults.millisecMax-this._defaults.millisecMin)%this._defaults.stepMillisec,10);this.hour_slider&&this.hour_slider.slider("option",{min:this._defaults.hourMin,max:l}).slider("value",this.hour),this.minute_slider&&this.minute_slider.slider("option",{min:this._defaults.minuteMin,max:c}).slider("value",this.minute),this.second_slider&&this.second_slider.slider("option",{min:this._defaults.secondMin,max:d}).slider("value",this.second),this.millisec_slider&&this.millisec_slider.slider("option",{min:this._defaults.millisecMin,max:u}).slider("value",this.millisec)}}},_onTimeChange:function(){var e=this.hour_slider?this.hour_slider.slider("value"):!1,t=this.minute_slider?this.minute_slider.slider("value"):!1,n=this.second_slider?this.second_slider.slider("value"):!1,i=this.millisec_slider?this.millisec_slider.slider("value"):!1,r=this.timezone_select?this.timezone_select.val():!1,o=this._defaults;"object"==typeof e&&(e=!1),"object"==typeof t&&(t=!1),"object"==typeof n&&(n=!1),"object"==typeof i&&(i=!1),"object"==typeof r&&(r=!1),e!==!1&&(e=parseInt(e,10)),t!==!1&&(t=parseInt(t,10)),n!==!1&&(n=parseInt(n,10)),i!==!1&&(i=parseInt(i,10));var a=o[12>e?"amNames":"pmNames"][0],s=e!=this.hour||t!=this.minute||n!=this.second||i!=this.millisec||this.ampm.length>0&&12>e!=(-1!==$.inArray(this.ampm.toUpperCase(),this.amNames))||r!=this.timezone;s&&(e!==!1&&(this.hour=e),t!==!1&&(this.minute=t),n!==!1&&(this.second=n),i!==!1&&(this.millisec=i),r!==!1&&(this.timezone=r),this.inst||(this.inst=$.datepicker._getInst(this.$input[0])),this._limitMinMaxDateTime(this.inst,!0)),o.ampm&&(this.ampm=a),this.formattedTime=$.datepicker.formatTime(this._defaults.timeFormat,this,this._defaults),this.$timeObj&&this.$timeObj.text(this.formattedTime+o.timeSuffix),this.timeDefined=!0,s&&this._updateDateTime()},_onSelectHandler:function(){var e=this._defaults.onSelect,t=this.$input?this.$input[0]:null;e&&t&&e.apply(t,[this.formattedDateTime,this])},_formatTime:function(e,t){e=e||{hour:this.hour,minute:this.minute,second:this.second,millisec:this.millisec,ampm:this.ampm,timezone:this.timezone};var n=(t||this._defaults.timeFormat).toString();return n=$.datepicker.formatTime(n,e,this._defaults),arguments.length?n:(this.formattedTime=n,void 0)},_updateDateTime:function(e){e=this.inst||e;var t=$.datepicker._daylightSavingAdjust(new Date(e.selectedYear,e.selectedMonth,e.selectedDay)),n=$.datepicker._get(e,"dateFormat"),i=$.datepicker._getFormatConfig(e),r=null!==t&&this.timeDefined;this.formattedDate=$.datepicker.formatDate(n,null===t?new Date:t,i);var o=this.formattedDate;void 0!==e.lastVal&&e.lastVal.length>0&&0===this.$input.val().length||(this._defaults.timeOnly===!0?o=this.formattedTime:this._defaults.timeOnly!==!0&&(this._defaults.alwaysSetTime||r)&&(o+=this._defaults.separator+this.formattedTime+this._defaults.timeSuffix),this.formattedDateTime=o,this._defaults.showTimepicker?this.$altInput&&this._defaults.altFieldTimeOnly===!0?(this.$altInput.val(this.formattedTime),this.$input.val(this.formattedDate)):this.$altInput?(this.$altInput.val(o),this.$input.val(o)):this.$input.val(o):this.$input.val(this.formattedDate),this.$input.trigger("change"))}}),$.fn.extend({timepicker:function(e){e=e||{};var t=arguments;return"object"==typeof e&&(t[0]=$.extend(e,{timeOnly:!0})),$(this).each(function(){$.fn.datetimepicker.apply($(this),t)})},datetimepicker:function(e){return e=e||{},tmp_args=arguments,"string"==typeof e?"getDate"==e?$.fn.datepicker.apply($(this[0]),tmp_args):this.each(function(){var e=$(this);e.datepicker.apply(e,tmp_args)}):this.each(function(){var t=$(this);t.datepicker($.timepicker._newInst(t,e)._defaults)})}}),$.datepicker.formatTime=function(e,t,n){n=n||{},n=$.extend($.timepicker._defaults,n),t=$.extend({hour:0,minute:0,second:0,millisec:0,timezone:"+0000"},t);var i=e,r=n.amNames[0],o=parseInt(t.hour,10);return n.ampm&&(o>11&&(r=n.pmNames[0],o>12&&(o%=12)),0===o&&(o=12)),i=i.replace(/(?:hh?|mm?|ss?|[tT]{1,2}|[lz])/g,function(e){switch(e.toLowerCase()){case"hh":return("0"+o).slice(-2);case"h":return o;case"mm":return("0"+t.minute).slice(-2);case"m":return t.minute;case"ss":return("0"+t.second).slice(-2);case"s":return t.second;case"l":return("00"+t.millisec).slice(-3);case"z":return t.timezone;case"t":case"tt":return n.ampm?(1==e.length&&(r=r.charAt(0)),"T"==e.charAt(0)?r.toUpperCase():r.toLowerCase()):""}}),i=$.trim(i)},$.datepicker._base_selectDate=$.datepicker._selectDate,$.datepicker._selectDate=function(e,t){var n=this._getInst($(e)[0]),i=this._get(n,"timepicker");i?(i._limitMinMaxDateTime(n,!0),n.inline=n.stay_open=!0,this._base_selectDate(e,t),n.inline=n.stay_open=!1,this._notifyChange(n),this._updateDatepicker(n)):this._base_selectDate(e,t)},$.datepicker._base_updateDatepicker=$.datepicker._updateDatepicker,$.datepicker._updateDatepicker=function(e){var t=e.input[0];if(!($.datepicker._curInst&&$.datepicker._curInst!=e&&$.datepicker._datepickerShowing&&$.datepicker._lastInput!=t||"boolean"==typeof e.stay_open&&e.stay_open!==!1)){this._base_updateDatepicker(e);var n=this._get(e,"timepicker");n&&n._addTimePicker(e)}},$.datepicker._base_doKeyPress=$.datepicker._doKeyPress,$.datepicker._doKeyPress=function(e){var t=$.datepicker._getInst(e.target),n=$.datepicker._get(t,"timepicker");if(n&&$.datepicker._get(t,"constrainInput")){var i=n._defaults.ampm,r=$.datepicker._possibleChars($.datepicker._get(t,"dateFormat")),o=n._defaults.timeFormat.toString().replace(/[hms]/g,"").replace(/TT/g,i?"APM":"").replace(/Tt/g,i?"AaPpMm":"").replace(/tT/g,i?"AaPpMm":"").replace(/T/g,i?"AP":"").replace(/tt/g,i?"apm":"").replace(/t/g,i?"ap":"")+" "+n._defaults.separator+n._defaults.timeSuffix+(n._defaults.showTimezone?n._defaults.timezoneList.join(""):"")+n._defaults.amNames.join("")+n._defaults.pmNames.join("")+r,a=String.fromCharCode(void 0===e.charCode?e.keyCode:e.charCode);return e.ctrlKey||" ">a||!r||o.indexOf(a)>-1}return $.datepicker._base_doKeyPress(e)},$.datepicker._base_doKeyUp=$.datepicker._doKeyUp,$.datepicker._doKeyUp=function(e){var t=$.datepicker._getInst(e.target),n=$.datepicker._get(t,"timepicker");if(n&&n._defaults.timeOnly&&t.input.val()!=t.lastVal)try{$.datepicker._updateDatepicker(t)}catch(i){$.datepicker.log(i)}return $.datepicker._base_doKeyUp(e)},$.datepicker._base_gotoToday=$.datepicker._gotoToday,$.datepicker._gotoToday=function(e){var t=this._getInst($(e)[0]),n=t.dpDiv;this._base_gotoToday(e);var i=new Date,r=this._get(t,"timepicker");if(r&&r._defaults.showTimezone&&r.timezone_select){var o=i.getTimezoneOffset(),a=o>0?"-":"+";o=Math.abs(o);var s=o%60;o=a+("0"+(o-s)/60).slice(-2)+("0"+s).slice(-2),r._defaults.timezoneIso8609&&(o=o.substring(0,3)+":"+o.substring(3)),r.timezone_select.val(o)}this._setTime(t,i),$(".ui-datepicker-today",n).click()},$.datepicker._disableTimepickerDatepicker=function(e){var t=this._getInst(e),n=this._get(t,"timepicker");$(e).datepicker("getDate"),n&&(n._defaults.showTimepicker=!1,n._updateDateTime(t))},$.datepicker._enableTimepickerDatepicker=function(e){var t=this._getInst(e),n=this._get(t,"timepicker");$(e).datepicker("getDate"),n&&(n._defaults.showTimepicker=!0,n._addTimePicker(t),n._updateDateTime(t))},$.datepicker._setTime=function(e,t){var n=this._get(e,"timepicker");if(n){var i=n._defaults,r=t?t.getHours():i.hour,o=t?t.getMinutes():i.minute,a=t?t.getSeconds():i.second,s=t?t.getMilliseconds():i.millisec;(r<i.hourMin||r>i.hourMax||o<i.minuteMin||o>i.minuteMax||a<i.secondMin||a>i.secondMax||s<i.millisecMin||s>i.millisecMax)&&(r=i.hourMin,o=i.minuteMin,a=i.secondMin,s=i.millisecMin),n.hour=r,n.minute=o,n.second=a,n.millisec=s,n.hour_slider&&n.hour_slider.slider("value",r),n.minute_slider&&n.minute_slider.slider("value",o),n.second_slider&&n.second_slider.slider("value",a),n.millisec_slider&&n.millisec_slider.slider("value",s),n._onTimeChange(),n._updateDateTime(e)}},$.datepicker._setTimeDatepicker=function(e,t,n){var i=this._getInst(e),r=this._get(i,"timepicker");if(r){this._setDateFromField(i);var o;t&&("string"==typeof t?(r._parseTime(t,n),o=new Date,o.setHours(r.hour,r.minute,r.second,r.millisec)):o=new Date(t.getTime()),"Invalid Date"==o.toString()&&(o=void 0),this._setTime(i,o))}},$.datepicker._base_setDateDatepicker=$.datepicker._setDateDatepicker,$.datepicker._setDateDatepicker=function(e,t){var n=this._getInst(e),i=t instanceof Date?new Date(t.getTime()):t;this._updateDatepicker(n),this._base_setDateDatepicker.apply(this,arguments),this._setTimeDatepicker(e,i,!0)},$.datepicker._base_getDateDatepicker=$.datepicker._getDateDatepicker,$.datepicker._getDateDatepicker=function(e,t){var n=this._getInst(e),i=this._get(n,"timepicker");if(i){this._setDateFromField(n,t);var r=this._getDate(n);return r&&i._parseTime($(e).val(),i.timeOnly)&&r.setHours(i.hour,i.minute,i.second,i.millisec),r}return this._base_getDateDatepicker(e,t)},$.datepicker._base_parseDate=$.datepicker.parseDate,$.datepicker.parseDate=function(e,t,n){var i;try{i=this._base_parseDate(e,t,n)}catch(r){if(!(r.indexOf(":")>=0))throw r;i=this._base_parseDate(e,t.substring(0,t.length-(r.length-r.indexOf(":")-2)),n)}return i},$.datepicker._base_formatDate=$.datepicker._formatDate,$.datepicker._formatDate=function(e){var t=this._get(e,"timepicker");return t?(t._updateDateTime(e),t.$input.val()):this._base_formatDate(e)},$.datepicker._base_optionDatepicker=$.datepicker._optionDatepicker,$.datepicker._optionDatepicker=function(e,t,n){var i=this._getInst(e),r=this._get(i,"timepicker");if(r){var o=null,a=null,s=null;"string"==typeof t?"minDate"===t||"minDateTime"===t?o=n:"maxDate"===t||"maxDateTime"===t?a=n:"onSelect"===t&&(s=n):"object"==typeof t&&(t.minDate?o=t.minDate:t.minDateTime?o=t.minDateTime:t.maxDate?a=t.maxDate:t.maxDateTime&&(a=t.maxDateTime)),o?(o=0==o?new Date:new Date(o),r._defaults.minDate=o,r._defaults.minDateTime=o):a?(a=0==a?new Date:new Date(a),r._defaults.maxDate=a,r._defaults.maxDateTime=a):s&&(r._defaults.onSelect=s)}return void 0===n?this._base_optionDatepicker(e,t):this._base_optionDatepicker(e,t,n)},$.timepicker=new Timepicker,$.timepicker.version="1.0.0")}(jQuery),function(){window.AA={}}.call(this),function(){window.AA.CheckboxToggler=AA.CheckboxToggler=function(){function e(e,t){var n;this.options=e,this.container=t,n={},this.options=$.extend({},n,e),this._init(),this._bind()}return e.prototype._init=function(){if(!this.container)throw new Error("Container element not found");if(this.$container=$(this.container),!this.$container.find(".toggle_all").length)throw new Error('"toggle all" checkbox not found');return this.toggle_all_checkbox=this.$container.find(".toggle_all"),this.checkboxes=this.$container.find(":checkbox").not(this.toggle_all_checkbox)},e.prototype._bind=function(){var e=this;return this.checkboxes.change(function(t){return e._didChangeCheckbox(t.target)}),this.toggle_all_checkbox.change(function(){return e._didChangeToggleAllCheckbox()})},e.prototype._didChangeCheckbox=function(){switch(this.checkboxes.filter(":checked").length){case this.checkboxes.length-1:return this.toggle_all_checkbox.prop({checked:null});case this.checkboxes.length:return this.toggle_all_checkbox.prop({checked:!0})}},e.prototype._didChangeToggleAllCheckbox=function(){var e,t=this;return e=this.toggle_all_checkbox.prop("checked")?!0:null,this.checkboxes.each(function(n,i){return $(i).prop({checked:e}),t._didChangeCheckbox(i)})},e}(),jQuery(function(e){return e.widget.bridge("checkboxToggler",AA.CheckboxToggler)})}.call(this),function(){window.AA.DropdownMenu=AA.DropdownMenu=function(){function e(e,t){var n;this.options=e,this.element=t,this.$element=$(this.element),n={fadeInDuration:20,fadeOutDuration:100,onClickActionItemCallback:null},this.options=$.extend({},n,e),this.$menuButton=this.$element.find(".dropdown_menu_button"),this.$menuList=this.$element.find(".dropdown_menu_list_wrapper"),this.isOpen=!1,this._buildMenuList(),this._bind()}return e.prototype.open=function(){return this.isOpen=!0,this.$menuList.fadeIn(this.options.fadeInDuration),this._positionMenuList(),this._positionNipple(),this},e.prototype.close=function(){return this.isOpen=!1,this.$menuList.fadeOut(this.options.fadeOutDuration),this},e.prototype.destroy=function(){return this.$element.unbind(),this.$element=null,this},e.prototype.isDisabled=function(){return this.$menuButton.hasClass("disabled")},e.prototype.disable=function(){return this.$menuButton.addClass("disabled")},e.prototype.enable=function(){return this.$menuButton.removeClass("disabled")},e.prototype.option=function(e,t){return $.isPlainObject(e)?this.options=$.extend(!0,this.options,e):null!=e?this.options[e]:this.options[e]=t},e.prototype._buildMenuList=function(){return this.$menuList.prepend('<div class="dropdown_menu_nipple"></div>'),this.$menuList.hide()},e.prototype._bind=function(){var e=this;return $("body").bind("click",function(){return e.isOpen===!0?e.close():void 0}),this.$menuButton.bind("click",function(){return e.isDisabled()||(e.isOpen===!0?e.close():e.open()),!1})},e.prototype._positionMenuList=function(){var e,t,n;return e=this.$menuButton.position().left+this.$menuButton.outerWidth()/2,t=this.$menuList.outerWidth()/2,n=e-t,this.$menuList.css("left",n)},e.prototype._positionNipple=function(){var e,t,n,i,r;return n=this.$menuList.outerWidth()/2,t=this.$menuButton.position().top+this.$menuButton.outerHeight()+10,this.$menuList.css("top",t),e=this.$menuList.find(".dropdown_menu_nipple"),i=e.outerWidth()/2,r=n-i,e.css("left",r)},e}(),function(e){return e.widget.bridge("aaDropdownMenu",AA.DropdownMenu),e(function(){return e(".dropdown_menu").aaDropdownMenu()})}(jQuery)}.call(this),function(){window.AA.Popover=AA.Popover=function(){function e(e,t){var n;this.options=e,this.element=t,this.$element=$(this.element),n={fadeInDuration:20,fadeOutDuration:100,autoOpen:!0,pageWrapperElement:"#wrapper",onClickActionItemCallback:null},this.options=$.extend({},n,e),this.$popover=null,this.isOpen=!1,this.$popover=$(this.$element.attr("href")).length>0?$(this.$element.attr("href")):this.$element.next(".popover"),this._buildPopover(),this._bind()}return e.prototype.open=function(){return this.isOpen=!0,this.$popover.fadeIn(this.options.fadeInDuration),this._positionPopover(),this._positionNipple(),this},e.prototype.close=function(){return this.isOpen=!1,this.$popover.fadeOut(this.options.fadeOutDuration),this},e.prototype.destroy=function(){return this.$element.removeData("popover"),this.$element.unbind(),this.$element=null,this},e.prototype.option=function(){},e.prototype._buildPopover=function(){return this.$popover.prepend('<div class="popover_nipple"></div>'),this.$popover.hide(),this.$popover.addClass("popover")},e.prototype._bind=function(){var e=this;return $(this.options.pageWrapperElement).bind("click",function(){return e.isOpen===!0?e.close():void 0}),this.options.autoOpen===!0?this.$element.bind("click",function(){return e.isOpen===!0?e.close():e.open(),!1}):void 0},e.prototype._positionPopover=function(){var e,t,n;return e=this.$element.offset().left+this.$element.outerWidth()/2,t=this.$popover.outerWidth()/2,n=e-t,this.$popover.css("left",n)},e.prototype._positionNipple=function(){var e,t,n,i,r;return n=this.$popover.outerWidth()/2,t=this.$element.offset().top+this.$element.outerHeight()+10,this.$popover.css("top",t),e=this.$popover.find(".popover_nipple"),i=e.outerWidth()/2,r=n-i,e.css("left",r)},e}(),function(e){return e.widget.bridge("popover",AA.Popover)}(jQuery)}.call(this),function(){var e,t={}.hasOwnProperty,n=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e};window.AA.TableCheckboxToggler=AA.TableCheckboxToggler=function(t){function i(){return e=i.__super__.constructor.apply(this,arguments)}return n(i,t),i.prototype._init=function(){return i.__super__._init.apply(this,arguments)},i.prototype._bind=function(){var e=this;return i.__super__._bind.apply(this,arguments),this.$container.find("tbody td").click(function(t){return"checkbox"!==t.target.type?e._didClickCell(t.target):void 0})},i.prototype._didChangeCheckbox=function(e){var t;return i.__super__._didChangeCheckbox.apply(this,arguments),t=$(e).parents("tr"),e.checked?t.addClass("selected"):t.removeClass("selected")
},i.prototype._didClickCell=function(e){return $(e).parent("tr").find(":checkbox").click()},i}(AA.CheckboxToggler),jQuery(function(e){return e.widget.bridge("tableCheckboxToggler",AA.TableCheckboxToggler)})}.call(this),function(){$(function(){return $(document).on("focus",".datepicker:not(.hasDatepicker)",function(){return $(this).datepicker({dateFormat:"yy-mm-dd"})}),$(".clear_filters_btn").click(function(){return window.location.search=""}),$(".dropdown_button").popover(),$(".filter_form").submit(function(){return $(this).find(":input").filter(function(){return""===this.value}).prop("disabled",!0)}),$(".filter_form_field.select_and_search select").change(function(){return $(this).siblings("input").prop({name:"q["+this.value+"]"})})})}.call(this),function(){jQuery(function(e){return e(document).delegate("#batch_actions_selector li a","click.rails",function(){return e("#batch_action").val(e(this).attr("data-action")),e("#collection_selection").submit()}),e("#batch_actions_selector").length&&e(":checkbox.toggle_all").length?(e(".paginated_collection table.index_table").length?e(".paginated_collection table.index_table").tableCheckboxToggler():e(".paginated_collection").checkboxToggler(),e(".paginated_collection").find(":checkbox").bind("change",function(){return e(".paginated_collection").find(":checkbox").filter(":checked").length>0?e("#batch_actions_selector").aaDropdownMenu("enable"):e("#batch_actions_selector").aaDropdownMenu("disable")})):void 0})}.call(this),void 0===jQuery.migrateMute&&(jQuery.migrateMute=!0),function(e,t,n){function i(n){o[n]||(o[n]=!0,e.migrateWarnings.push(n),t.console&&console.warn&&!e.migrateMute&&(console.warn("JQMIGRATE: "+n),e.migrateTrace&&console.trace&&console.trace()))}function r(t,r,o,a){if(Object.defineProperty)try{return Object.defineProperty(t,r,{configurable:!0,enumerable:!0,get:function(){return i(a),o},set:function(e){i(a),o=e}}),n}catch(s){}e._definePropertyBroken=!0,t[r]=o}var o={};e.migrateWarnings=[],!e.migrateMute&&t.console&&console.log&&console.log("JQMIGRATE: Logging is active"),e.migrateTrace===n&&(e.migrateTrace=!0),e.migrateReset=function(){o={},e.migrateWarnings.length=0},"BackCompat"===document.compatMode&&i("jQuery is not compatible with Quirks Mode");var a=e("<input/>",{size:1}).attr("size")&&e.attrFn,s=e.attr,l=e.attrHooks.value&&e.attrHooks.value.get||function(){return null},c=e.attrHooks.value&&e.attrHooks.value.set||function(){return n},d=/^(?:input|button)$/i,u=/^[238]$/,h=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,p=/^(?:checked|selected)$/i;r(e,"attrFn",a||{},"jQuery.attrFn is deprecated"),e.attr=function(t,r,o,l){var c=r.toLowerCase(),f=t&&t.nodeType;return l&&(4>s.length&&i("jQuery.fn.attr( props, pass ) is deprecated"),t&&!u.test(f)&&(a?r in a:e.isFunction(e.fn[r])))?e(t)[r](o):("type"===r&&o!==n&&d.test(t.nodeName)&&t.parentNode&&i("Can't change the 'type' of an input or button in IE 6/7/8"),!e.attrHooks[c]&&h.test(c)&&(e.attrHooks[c]={get:function(t,i){var r,o=e.prop(t,i);return o===!0||"boolean"!=typeof o&&(r=t.getAttributeNode(i))&&r.nodeValue!==!1?i.toLowerCase():n},set:function(t,n,i){var r;return n===!1?e.removeAttr(t,i):(r=e.propFix[i]||i,r in t&&(t[r]=!0),t.setAttribute(i,i.toLowerCase())),i}},p.test(c)&&i("jQuery.fn.attr('"+c+"') may use property instead of attribute")),s.call(e,t,r,o))},e.attrHooks.value={get:function(e,t){var n=(e.nodeName||"").toLowerCase();return"button"===n?l.apply(this,arguments):("input"!==n&&"option"!==n&&i("jQuery.fn.attr('value') no longer gets properties"),t in e?e.value:null)},set:function(e,t){var r=(e.nodeName||"").toLowerCase();return"button"===r?c.apply(this,arguments):("input"!==r&&"option"!==r&&i("jQuery.fn.attr('value', val) no longer sets properties"),e.value=t,n)}};var f,m,g=e.fn.init,v=e.parseJSON,y=/^(?:[^<]*(<[\w\W]+>)[^>]*|#([\w\-]*))$/;e.fn.init=function(t,n,r){var o;return t&&"string"==typeof t&&!e.isPlainObject(n)&&(o=y.exec(t))&&o[1]&&("<"!==t.charAt(0)&&i("$(html) HTML strings must start with '<' character"),n&&n.context&&(n=n.context),e.parseHTML)?g.call(this,e.parseHTML(e.trim(t),n,!0),n,r):g.apply(this,arguments)},e.fn.init.prototype=e.fn,e.parseJSON=function(e){return e||null===e?v.apply(this,arguments):(i("jQuery.parseJSON requires a valid JSON string"),null)},e.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||0>e.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},e.browser||(f=e.uaMatch(navigator.userAgent),m={},f.browser&&(m[f.browser]=!0,m.version=f.version),m.chrome?m.webkit=!0:m.webkit&&(m.safari=!0),e.browser=m),r(e,"browser",e.browser,"jQuery.browser is deprecated"),e.sub=function(){function t(e,n){return new t.fn.init(e,n)}e.extend(!0,t,this),t.superclass=this,t.fn=t.prototype=this(),t.fn.constructor=t,t.sub=this.sub,t.fn.init=function(i,r){return r&&r instanceof e&&!(r instanceof t)&&(r=t(r)),e.fn.init.call(this,i,r,n)},t.fn.init.prototype=t.fn;var n=t(document);return i("jQuery.sub() is deprecated"),t},e.ajaxSetup({converters:{"text json":e.parseJSON}});var b=e.fn.data;e.fn.data=function(t){var r,o,a=this[0];return!a||"events"!==t||1!==arguments.length||(r=e.data(a,t),o=e._data(a,t),r!==n&&r!==o||o===n)?b.apply(this,arguments):(i("Use of jQuery.fn.data('events') is deprecated"),o)};var x=/\/(java|ecma)script/i,k=e.fn.andSelf||e.fn.addBack;e.fn.andSelf=function(){return i("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),k.apply(this,arguments)},e.clean||(e.clean=function(t,r,o,a){r=r||document,r=!r.nodeType&&r[0]||r,r=r.ownerDocument||r,i("jQuery.clean() is deprecated");var s,l,c,d,u=[];if(e.merge(u,e.buildFragment(t,r).childNodes),o)for(c=function(e){return!e.type||x.test(e.type)?a?a.push(e.parentNode?e.parentNode.removeChild(e):e):o.appendChild(e):n},s=0;null!=(l=u[s]);s++)e.nodeName(l,"script")&&c(l)||(o.appendChild(l),l.getElementsByTagName!==n&&(d=e.grep(e.merge([],l.getElementsByTagName("script")),c),u.splice.apply(u,[s+1,0].concat(d)),s+=d.length));return u});var _=e.event.add,w=e.event.remove,C=e.event.trigger,T=e.fn.toggle,S=e.fn.live,M=e.fn.die,D="ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess",A=RegExp("\\b(?:"+D+")\\b"),E=/(?:^|\s)hover(\.\S+|)\b/,N=function(t){return"string"!=typeof t||e.event.special.hover?t:(E.test(t)&&i("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"),t&&t.replace(E,"mouseenter$1 mouseleave$1"))};e.event.props&&"attrChange"!==e.event.props[0]&&e.event.props.unshift("attrChange","attrName","relatedNode","srcElement"),e.event.dispatch&&r(e.event,"handle",e.event.dispatch,"jQuery.event.handle is undocumented and deprecated"),e.event.add=function(e,t,n,r,o){e!==document&&A.test(t)&&i("AJAX events should be attached to document: "+t),_.call(this,e,N(t||""),n,r,o)},e.event.remove=function(e,t,n,i,r){w.call(this,e,N(t)||"",n,i,r)},e.fn.error=function(){var e=Array.prototype.slice.call(arguments,0);return i("jQuery.fn.error() is deprecated"),e.splice(0,0,"error"),arguments.length?this.bind.apply(this,e):(this.triggerHandler.apply(this,e),this)},e.fn.toggle=function(t,n){if(!e.isFunction(t)||!e.isFunction(n))return T.apply(this,arguments);i("jQuery.fn.toggle(handler, handler...) is deprecated");var r=arguments,o=t.guid||e.guid++,a=0,s=function(n){var i=(e._data(this,"lastToggle"+t.guid)||0)%a;return e._data(this,"lastToggle"+t.guid,i+1),n.preventDefault(),r[i].apply(this,arguments)||!1};for(s.guid=o;r.length>a;)r[a++].guid=o;return this.click(s)},e.fn.live=function(t,n,r){return i("jQuery.fn.live() is deprecated"),S?S.apply(this,arguments):(e(this.context).on(t,this.selector,n,r),this)},e.fn.die=function(t,n){return i("jQuery.fn.die() is deprecated"),M?M.apply(this,arguments):(e(this.context).off(t,this.selector||"**",n),this)},e.event.trigger=function(e,t,n,r){return n||A.test(e)||i("Global events are undocumented and deprecated"),C.call(this,e,t,n||document,r)},e.each(D.split("|"),function(t,n){e.event.special[n]={setup:function(){var t=this;return t!==document&&(e.event.add(document,n+"."+e.guid,function(){e.event.trigger(n,null,t,!0)}),e._data(this,n,e.guid++)),!1},teardown:function(){return this!==document&&e.event.remove(document,n+"."+e._data(this,n)),!1}}})}(jQuery,window),function(e){e.fn.extend({counter:function(t){var n={type:"char",count:"down",goal:140,text:!0,target:!1,append:!0,translation:"",msg:""},i="",r="",o=!1,t=e.extend({},n,t),a={init:function(n){var r=n.attr("id"),o=r+"_count";a.isLimitless();var s=e("<div/>").attr("id",r+"_counter").html("<span id="+o+"/> "+a.setMsg());t.target&&e(t.target).length?t.append?e(t.target).append(s):e(t.target).prepend(s):t.append?s.insertAfter(n):s.insertBefore(n),i=e("#"+o),a.bind(n)},bind:function(e){e.bind("keypress.counter keydown.counter keyup.counter blur.counter focus.counter change.counter paste.counter",a.updateCounter),e.bind("keydown.counter",a.doStopTyping),e.trigger("keydown")},isLimitless:function(){return"sky"===t.goal?(t.count="up",o=!0):void 0},setMsg:function(){if(""!==t.msg)return t.msg;if(t.text===!1)return"";if(o)return""!==t.msg?t.msg:"";switch(this.text=t.translation||"character word left max",this.text=this.text.split(" "),this.chars="s ( )".split(" "),this.msg=null,t.type){case"char":t.count===n.count&&t.text?this.msg=this.text[0]+this.chars[1]+this.chars[0]+this.chars[2]+" "+this.text[2]:"up"===t.count&&t.text&&(this.msg=this.text[0]+this.chars[0]+" "+this.chars[1]+t.goal+" "+this.text[3]+this.chars[2]);break;case"word":t.count===n.count&&t.text?this.msg=this.text[1]+this.chars[1]+this.chars[0]+this.chars[2]+" "+this.text[2]:"up"===t.count&&t.text&&(this.msg=this.text[1]+this.chars[1]+this.chars[0]+this.chars[2]+" "+this.chars[1]+t.goal+" "+this.text[3]+this.chars[2])}return this.msg},getWords:function(t){return""!==t?e.trim(t).replace(/\s+/g," ").split(" ").length:0},updateCounter:function(){var o=e(this);(0>r||r>t.goal)&&a.passedGoal(o),t.type===n.type?t.count===n.count?(r=t.goal-o.val().length,0>=r?i.text("0"):i.text(r)):"up"===t.count&&(r=o.val().length,i.text(r)):"word"===t.type&&(t.count===n.count?(r=a.getWords(o.val()),r<=t.goal?(r=t.goal-r,i.text(r)):i.text("0")):"up"===t.count&&(r=a.getWords(o.val()),i.text(r)))},doStopTyping:function(e){var i=[46,8,9,35,36,37,38,39,40,32];return a.isGoalReached(e)&&e.keyCode!==i[0]&&e.keyCode!==i[1]&&e.keyCode!==i[2]&&e.keyCode!==i[3]&&e.keyCode!==i[4]&&e.keyCode!==i[5]&&e.keyCode!==i[6]&&e.keyCode!==i[7]&&e.keyCode!==i[8]?t.type===n.type?!1:e.keyCode!==i[9]&&e.keyCode!==i[1]&&t.type!=n.type?!0:!1:void 0},isGoalReached:function(e,i){return o?!1:t.count===n.count?(i=0,i>=r?!0:!1):(i=t.goal,r>=i?!0:!1)},wordStrip:function(t,n){var i=n.replace(/\s+/g," ").split(" ").length;return n=e.trim(n),0>=t||t===i?n:(n=e.trim(n).split(" "),n.splice(t,i,""),e.trim(n.join(" ")))},passedGoal:function(e){var n=e.val();"word"===t.type&&e.val(a.wordStrip(t.goal,n)),"char"===t.type&&e.val(n.substring(0,t.goal)),"down"===t.type&&i.val("0"),"up"===t.type&&i.val(t.goal)}};return this.each(function(){a.init(e(this))})}})}(jQuery),/*!
 * jQuery Validation Plugin 1.11.1
 *
 * http://bassistance.de/jquery-plugins/jquery-plugin-validation/
 * http://docs.jquery.com/Plugins/Validation
 *
 * Copyright 2013 Jörn Zaefferer
 * Released under the MIT license:
 *   http://www.opensource.org/licenses/mit-license.php
 */
function(e){e.extend(e.fn,{validate:function(t){if(!this.length)return t&&t.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."),void 0;var n=e.data(this[0],"validator");return n?n:(this.attr("novalidate","novalidate"),n=new e.validator(t,this[0]),e.data(this[0],"validator",n),n.settings.onsubmit&&(this.validateDelegate(":submit","click",function(t){n.settings.submitHandler&&(n.submitButton=t.target),e(t.target).hasClass("cancel")&&(n.cancelSubmit=!0),void 0!==e(t.target).attr("formnovalidate")&&(n.cancelSubmit=!0)}),this.submit(function(t){function i(){var i;return n.settings.submitHandler?(n.submitButton&&(i=e("<input type='hidden'/>").attr("name",n.submitButton.name).val(e(n.submitButton).val()).appendTo(n.currentForm)),n.settings.submitHandler.call(n,n.currentForm,t),n.submitButton&&i.remove(),!1):!0}return n.settings.debug&&t.preventDefault(),n.cancelSubmit?(n.cancelSubmit=!1,i()):n.form()?n.pendingRequest?(n.formSubmitted=!0,!1):i():(n.focusInvalid(),!1)})),n)},valid:function(){if(e(this[0]).is("form"))return this.validate().form();var t=!0,n=e(this[0].form).validate();return this.each(function(){t=t&&n.element(this)}),t},removeAttrs:function(t){var n={},i=this;return e.each(t.split(/\s/),function(e,t){n[t]=i.attr(t),i.removeAttr(t)}),n},rules:function(t,n){var i=this[0];if(t){var r=e.data(i.form,"validator").settings,o=r.rules,a=e.validator.staticRules(i);switch(t){case"add":e.extend(a,e.validator.normalizeRule(n)),delete a.messages,o[i.name]=a,n.messages&&(r.messages[i.name]=e.extend(r.messages[i.name],n.messages));break;case"remove":if(!n)return delete o[i.name],a;var s={};return e.each(n.split(/\s/),function(e,t){s[t]=a[t],delete a[t]}),s}}var l=e.validator.normalizeRules(e.extend({},e.validator.classRules(i),e.validator.attributeRules(i),e.validator.dataRules(i),e.validator.staticRules(i)),i);if(l.required){var c=l.required;delete l.required,l=e.extend({required:c},l)}return l}}),e.extend(e.expr[":"],{blank:function(t){return!e.trim(""+e(t).val())},filled:function(t){return!!e.trim(""+e(t).val())},unchecked:function(t){return!e(t).prop("checked")}}),e.validator=function(t,n){this.settings=e.extend(!0,{},e.validator.defaults,t),this.currentForm=n,this.init()},e.validator.format=function(t,n){return 1===arguments.length?function(){var n=e.makeArray(arguments);return n.unshift(t),e.validator.format.apply(this,n)}:(arguments.length>2&&n.constructor!==Array&&(n=e.makeArray(arguments).slice(1)),n.constructor!==Array&&(n=[n]),e.each(n,function(e,n){t=t.replace(new RegExp("\\{"+e+"\\}","g"),function(){return n})}),t)},e.extend(e.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:e([]),errorLabelContainer:e([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(e){this.lastActive=e,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(e)).hide())},onfocusout:function(e){this.checkable(e)||!(e.name in this.submitted)&&this.optional(e)||this.element(e)},onkeyup:function(e,t){(9!==t.which||""!==this.elementValue(e))&&(e.name in this.submitted||e===this.lastElement)&&this.element(e)},onclick:function(e){e.name in this.submitted?this.element(e):e.parentNode.name in this.submitted&&this.element(e.parentNode)},highlight:function(t,n,i){"radio"===t.type?this.findByName(t.name).addClass(n).removeClass(i):e(t).addClass(n).removeClass(i)},unhighlight:function(t,n,i){"radio"===t.type?this.findByName(t.name).removeClass(n).addClass(i):e(t).removeClass(n).addClass(i)}},setDefaults:function(t){e.extend(e.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:e.validator.format("Please enter no more than {0} characters."),minlength:e.validator.format("Please enter at least {0} characters."),rangelength:e.validator.format("Please enter a value between {0} and {1} characters long."),range:e.validator.format("Please enter a value between {0} and {1}."),max:e.validator.format("Please enter a value less than or equal to {0}."),min:e.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function t(t){var n=e.data(this[0].form,"validator"),i="on"+t.type.replace(/^validate/,"");n.settings[i]&&n.settings[i].call(n,this[0],t)}this.labelContainer=e(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||e(this.currentForm),this.containers=e(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var n=this.groups={};e.each(this.settings.groups,function(t,i){"string"==typeof i&&(i=i.split(/\s/)),e.each(i,function(e,i){n[i]=t})});var i=this.settings.rules;e.each(i,function(t,n){i[t]=e.validator.normalizeRule(n)}),e(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",t).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",t),this.settings.invalidHandler&&e(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),e.extend(this.submitted,this.errorMap),this.invalid=e.extend({},this.errorMap),this.valid()||e(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++)this.check(t[e]);return this.valid()},element:function(t){t=this.validationTargetFor(this.clean(t)),this.lastElement=t,this.prepareElement(t),this.currentElements=e(t);var n=this.check(t)!==!1;return n?delete this.invalid[t.name]:this.invalid[t.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),n},showErrors:function(t){if(t){e.extend(this.errorMap,t),this.errorList=[];for(var n in t)this.errorList.push({message:t[n],element:this.findByName(n)[0]});this.successList=e.grep(this.successList,function(e){return!(e.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){e.fn.resetForm&&e(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t=0;for(var n in e)t++;return t},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{e(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(t){}},findLastActive:function(){var t=this.lastActive;return t&&1===e.grep(this.errorList,function(e){return e.element.name===t.name}).length&&t},elements:function(){var t=this,n={};return e(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in n||!t.objectLength(e(this).rules())?!1:(n[this.name]=!0,!0)})},clean:function(t){return e(t)[0]},errors:function(){var t=this.settings.errorClass.replace(" ",".");return e(this.settings.errorElement+"."+t,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=e([]),this.toHide=e([]),this.currentElements=e([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset(),this.toHide=this.errorsFor(e)},elementValue:function(t){var n=e(t).attr("type"),i=e(t).val();return"radio"===n||"checkbox"===n?e("input[name='"+e(t).attr("name")+"']:checked").val():"string"==typeof i?i.replace(/\r/g,""):i},check:function(t){t=this.validationTargetFor(this.clean(t));var n,i=e(t).rules(),r=!1,o=this.elementValue(t);for(var a in i){var s={method:a,parameters:i[a]};try{if(n=e.validator.methods[a].call(this,o,t,s.parameters),"dependency-mismatch"===n){r=!0;continue}if(r=!1,"pending"===n)return this.toHide=this.toHide.not(this.errorsFor(t)),void 0;if(!n)return this.formatAndAdd(t,s),!1}catch(l){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+s.method+"' method.",l),l}}return r?void 0:(this.objectLength(i)&&this.successList.push(t),!0)},customDataMessage:function(t,n){return e(t).data("msg-"+n.toLowerCase())||t.attributes&&e(t).attr("data-msg-"+n.toLowerCase())},customMessage:function(e,t){var n=this.settings.messages[e];return n&&(n.constructor===String?n:n[t])},findDefined:function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e];return void 0},defaultMessage:function(t,n){return this.findDefined(this.customMessage(t.name,n),this.customDataMessage(t,n),!this.settings.ignoreTitle&&t.title||void 0,e.validator.messages[n],"<strong>Warning: No message defined for "+t.name+"</strong>")},formatAndAdd:function(t,n){var i=this.defaultMessage(t,n.method),r=/\$?\{(\d+)\}/g;"function"==typeof i?i=i.call(this,n.parameters,t):r.test(i)&&(i=e.validator.format(i.replace(r,"{$1}"),n.parameters)),this.errorList.push({message:i,element:t}),this.errorMap[t.name]=i,this.submitted[t.name]=i},addWrapper:function(e){return this.settings.wrapper&&(e=e.add(e.parent(this.settings.wrapper))),e},defaultShowErrors:function(){var e,t;for(e=0;this.errorList[e];e++){var n=this.errorList[e];this.settings.highlight&&this.settings.highlight.call(this,n.element,this.settings.errorClass,this.settings.validClass),this.showLabel(n.element,n.message)}if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(e=0;this.successList[e];e++)this.showLabel(this.successList[e]);if(this.settings.unhighlight)for(e=0,t=this.validElements();t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return e(this.errorList).map(function(){return this.element})},showLabel:function(t,n){var i=this.errorsFor(t);i.length?(i.removeClass(this.settings.validClass).addClass(this.settings.errorClass),i.html(n)):(i=e("<"+this.settings.errorElement+">").attr("for",this.idOrName(t)).addClass(this.settings.errorClass).html(n||""),this.settings.wrapper&&(i=i.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(i).length||(this.settings.errorPlacement?this.settings.errorPlacement(i,e(t)):i.insertAfter(t))),!n&&this.settings.success&&(i.text(""),"string"==typeof this.settings.success?i.addClass(this.settings.success):this.settings.success(i,t)),this.toShow=this.toShow.add(i)},errorsFor:function(t){var n=this.idOrName(t);return this.errors().filter(function(){return e(this).attr("for")===n})},idOrName:function(e){return this.groups[e.name]||(this.checkable(e)?e.name:e.id||e.name)},validationTargetFor:function(e){return this.checkable(e)&&(e=this.findByName(e.name).not(this.settings.ignore)[0]),e},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(t){return e(this.currentForm).find("[name='"+t+"']")},getLength:function(t,n){switch(n.nodeName.toLowerCase()){case"select":return e("option:selected",n).length;case"input":if(this.checkable(n))return this.findByName(n.name).filter(":checked").length}return t.length},depend:function(e,t){return this.dependTypes[typeof e]?this.dependTypes[typeof e](e,t):!0},dependTypes:{"boolean":function(e){return e},string:function(t,n){return!!e(t,n.form).length},"function":function(e,t){return e(t)}},optional:function(t){var n=this.elementValue(t);return!e.validator.methods.required.call(this,n,t)&&"dependency-mismatch"},startRequest:function(e){this.pending[e.name]||(this.pendingRequest++,this.pending[e.name]=!0)},stopRequest:function(t,n){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],n&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(e(this.currentForm).submit(),this.formSubmitted=!1):!n&&0===this.pendingRequest&&this.formSubmitted&&(e(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t){return e.data(t,"previousValue")||e.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,n){t.constructor===String?this.classRuleSettings[t]=n:e.extend(this.classRuleSettings,t)},classRules:function(t){var n={},i=e(t).attr("class");return i&&e.each(i.split(" "),function(){this in e.validator.classRuleSettings&&e.extend(n,e.validator.classRuleSettings[this])}),n},attributeRules:function(t){var n={},i=e(t),r=i[0].getAttribute("type");for(var o in e.validator.methods){var a;"required"===o?(a=i.get(0).getAttribute(o),""===a&&(a=!0),a=!!a):a=i.attr(o),/min|max/.test(o)&&(null===r||/number|range|text/.test(r))&&(a=Number(a)),a?n[o]=a:r===o&&"range"!==r&&(n[o]=!0)}return n.maxlength&&/-1|2147483647|524288/.test(n.maxlength)&&delete n.maxlength,n},dataRules:function(t){var n,i,r={},o=e(t);for(n in e.validator.methods)i=o.data("rule-"+n.toLowerCase()),void 0!==i&&(r[n]=i);return r},staticRules:function(t){var n={},i=e.data(t.form,"validator");return i.settings.rules&&(n=e.validator.normalizeRule(i.settings.rules[t.name])||{}),n},normalizeRules:function(t,n){return e.each(t,function(i,r){if(r===!1)return delete t[i],void 0;if(r.param||r.depends){var o=!0;switch(typeof r.depends){case"string":o=!!e(r.depends,n.form).length;break;case"function":o=r.depends.call(n,n)}o?t[i]=void 0!==r.param?r.param:!0:delete t[i]}}),e.each(t,function(i,r){t[i]=e.isFunction(r)?r(n):r}),e.each(["minlength","maxlength"],function(){t[this]&&(t[this]=Number(t[this]))}),e.each(["rangelength","range"],function(){var n;t[this]&&(e.isArray(t[this])?t[this]=[Number(t[this][0]),Number(t[this][1])]:"string"==typeof t[this]&&(n=t[this].split(/[\s,]+/),t[this]=[Number(n[0]),Number(n[1])]))}),e.validator.autoCreateRanges&&(t.min&&t.max&&(t.range=[t.min,t.max],delete t.min,delete t.max),t.minlength&&t.maxlength&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t},normalizeRule:function(t){if("string"==typeof t){var n={};e.each(t.split(/\s/),function(){n[this]=!0}),t=n}return t},addMethod:function(t,n,i){e.validator.methods[t]=n,e.validator.messages[t]=void 0!==i?i:e.validator.messages[t],n.length<3&&e.validator.addClassRules(t,e.validator.normalizeRule(t))},methods:{required:function(t,n,i){if(!this.depend(i,n))return"dependency-mismatch";if("select"===n.nodeName.toLowerCase()){var r=e(n).val();return r&&r.length>0}return this.checkable(n)?this.getLength(t,n)>0:e.trim(t).length>0},email:function(e,t){return this.optional(t)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(e)},url:function(e,t){return this.optional(t)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)},date:function(e,t){return this.optional(t)||!/Invalid|NaN/.test(new Date(e).toString())},dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(e)},number:function(e,t){return this.optional(t)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},creditcard:function(e,t){if(this.optional(t))return"dependency-mismatch";if(/[^0-9 \-]+/.test(e))return!1;var n=0,i=0,r=!1;e=e.replace(/\D/g,"");for(var o=e.length-1;o>=0;o--){var a=e.charAt(o);i=parseInt(a,10),r&&(i*=2)>9&&(i-=9),n+=i,r=!r}return 0===n%10},minlength:function(t,n,i){var r=e.isArray(t)?t.length:this.getLength(e.trim(t),n);return this.optional(n)||r>=i},maxlength:function(t,n,i){var r=e.isArray(t)?t.length:this.getLength(e.trim(t),n);return this.optional(n)||i>=r},rangelength:function(t,n,i){var r=e.isArray(t)?t.length:this.getLength(e.trim(t),n);return this.optional(n)||r>=i[0]&&r<=i[1]},min:function(e,t,n){return this.optional(t)||e>=n},max:function(e,t,n){return this.optional(t)||n>=e},range:function(e,t,n){return this.optional(t)||e>=n[0]&&e<=n[1]},equalTo:function(t,n,i){var r=e(i);return this.settings.onfocusout&&r.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){e(n).valid()}),t===r.val()},remote:function(t,n,i){if(this.optional(n))return"dependency-mismatch";var r=this.previousValue(n);if(this.settings.messages[n.name]||(this.settings.messages[n.name]={}),r.originalMessage=this.settings.messages[n.name].remote,this.settings.messages[n.name].remote=r.message,i="string"==typeof i&&{url:i}||i,r.old===t)return r.valid;r.old=t;var o=this;this.startRequest(n);var a={};return a[n.name]=t,e.ajax(e.extend(!0,{url:i,mode:"abort",port:"validate"+n.name,dataType:"json",data:a,success:function(i){o.settings.messages[n.name].remote=r.originalMessage;var a=i===!0||"true"===i;if(a){var s=o.formSubmitted;o.prepareElement(n),o.formSubmitted=s,o.successList.push(n),delete o.invalid[n.name],o.showErrors()}else{var l={},c=i||o.defaultMessage(n,"remote");l[n.name]=r.message=e.isFunction(c)?c(t):c,o.invalid[n.name]=!0,o.showErrors(l)}r.valid=a,o.stopRequest(n,a)}},i)),"pending"}}}),e.format=e.validator.format}(jQuery),function(e){var t={};if(e.ajaxPrefilter)e.ajaxPrefilter(function(e,n,i){var r=e.port;"abort"===e.mode&&(t[r]&&t[r].abort(),t[r]=i)});else{var n=e.ajax;e.ajax=function(i){var r=("mode"in i?i:e.ajaxSettings).mode,o=("port"in i?i:e.ajaxSettings).port;return"abort"===r?(t[o]&&t[o].abort(),t[o]=n.apply(this,arguments),t[o]):n.apply(this,arguments)}}}(jQuery),function(e){e.extend(e.fn,{validateDelegate:function(t,n,i){return this.bind(n,function(n){var r=e(n.target);return r.is(t)?i.apply(r,arguments):void 0})}})}(jQuery),function(){var e,t,n,i,r,o,a,s,l,c,d,u,h,p,f,m,g,v,y,b,x,k,_,w,C,T,S,M,D,A,E,N,L,P,F,I,R,B,O,H,z,j,$,W,Y,V={}.hasOwnProperty,q=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};a=10,u=null,E=null,k=null,T={},c=null,B=(null!=(Y=document.cookie.match(/request_method=(\w+)/))?Y[1].toUpperCase():void 0)||"",W=null,g=function(e){var t;return j("page:fetch"),t=I(e),null!=W&&W.abort(),W=new XMLHttpRequest,W.open("GET",t,!0),W.setRequestHeader("Accept","text/html, application/xhtml+xml, application/xml"),W.setRequestHeader("X-XHR-Referer",E),W.onload=function(){var t;return j("page:receive"),(t=D())?(N(e),s.apply(null,f(t)),L(),document.location.hash?document.location.href=document.location.href:H(),j("page:load")):document.location.href=e},W.onloadend=function(){return W=null},W.onabort=function(){return F()},W.onerror=function(){return document.location.href=e},W.send()},m=function(e){var t;return o(),t=T[e],null!=W&&W.abort(),s(t.title,t.body),A(t),j("page:restore")},o=function(){return T[u.position]={url:document.location.href,body:document.body,title:document.title,positionY:window.pageYOffset,positionX:window.pageXOffset},l(a)},M=function(e){return null==e&&(e=a),/^[\d]+$/.test(e)?a=parseInt(e):void 0},l=function(e){var t,n;for(t in T)V.call(T,t)&&(n=T[t],t<=u.position-e&&(T[t]=null))},s=function(t,n,i,r){return document.title=t,document.documentElement.replaceChild(n,document.body),null!=i&&e.update(i),R(),r&&h(),u=window.history.state,j("page:change")},h=function(){var e,t,n,i,r,o,a,s,l,c,d,u;for(o=Array.prototype.slice.call(document.body.querySelectorAll('script:not([data-turbolinks-eval="false"])')),a=0,l=o.length;l>a;a++)if(r=o[a],""===(d=r.type)||"text/javascript"===d){for(t=document.createElement("script"),u=r.attributes,s=0,c=u.length;c>s;s++)e=u[s],t.setAttribute(e.name,e.value);t.appendChild(document.createTextNode(r.innerHTML)),i=r.parentNode,n=r.nextSibling,i.removeChild(r),i.insertBefore(t,n)}},R=function(){var e,t,n,i;for(t=Array.prototype.slice.call(document.body.getElementsByTagName("noscript")),n=0,i=t.length;i>n;n++)e=t[n],e.parentNode.removeChild(e)},N=function(e){return e!==E?window.history.pushState({turbolinks:!0,position:u.position+1},"",e):void 0},L=function(){var e,t;return(e=W.getResponseHeader("X-XHR-Redirected-To"))?(t=I(e)===e?document.location.hash:"",window.history.replaceState(u,"",e+t)):void 0},F=function(){return window.history.replaceState({turbolinks:!0,position:Date.now()},"",document.location.href)},P=function(){return u=window.history.state},A=function(e){return window.scrollTo(e.positionX,e.positionY)},H=function(){return window.scrollTo(0,0)},I=function(e){var t;return t=e,null==e.href&&(t=document.createElement("A"),t.href=e),t.href.replace(t.hash,"")},j=function(e){var t;return t=document.createEvent("Events"),t.initEvent(e,!0,!0),document.dispatchEvent(t)},S=function(){return!j("page:before-change")},D=function(){var e,t,n,i,r,o;return t=function(){var e;return 400<=(e=W.status)&&600>e},o=function(){return W.getResponseHeader("Content-Type").match(/^(?:text\/html|application\/xhtml\+xml|application\/xml)(?:;|$)/)},i=function(e){var t,n,i,r,o;for(r=e.head.childNodes,o=[],n=0,i=r.length;i>n;n++)t=r[n],null!=("function"==typeof t.getAttribute?t.getAttribute("data-turbolinks-track"):void 0)&&o.push(t.src||t.href);return o},e=function(e){var t;return k||(k=i(document)),t=i(e),t.length!==k.length||r(t,k).length!==k.length},r=function(e,t){var n,i,r,o,a;for(e.length>t.length&&(o=[t,e],e=o[0],t=o[1]),a=[],i=0,r=e.length;r>i;i++)n=e[i],q.call(t,n)>=0&&a.push(n);return a},!t()&&o()&&(n=c(W.responseText),n&&!e(n))?n:void 0},f=function(t){var n;return n=t.querySelector("title"),[null!=n?n.textContent:void 0,t.body,e.get(t).token,"runScripts"]},e={get:function(e){var t;return null==e&&(e=document),{node:t=e.querySelector('meta[name="csrf-token"]'),token:null!=t?"function"==typeof t.getAttribute?t.getAttribute("content"):void 0:void 0}},update:function(e){var t;return t=this.get(),null!=t.token&&null!=e&&t.token!==e?t.node.setAttribute("content",e):void 0}},n=function(){var e,t,n,i,r,o;t=function(e){return(new DOMParser).parseFromString(e,"text/html")},e=function(e){var t;return t=document.implementation.createHTMLDocument(""),t.documentElement.innerHTML=e,t},n=function(e){var t;return t=document.implementation.createHTMLDocument(""),t.open("replace"),t.write(e),t.close(),t};try{if(window.DOMParser)return r=t("<html><body><p>test"),t}catch(a){return i=a,r=e("<html><body><p>test"),e}finally{if(1!==(null!=r?null!=(o=r.body)?o.childNodes.length:void 0:void 0))return n}},x=function(e){return e.defaultPrevented?void 0:(document.removeEventListener("click",v,!1),document.addEventListener("click",v,!1))},v=function(e){var t;return e.defaultPrevented||(t=p(e),"A"!==t.nodeName||y(e,t))?void 0:(S()||$(t.href),e.preventDefault())},p=function(e){var t;for(t=e.target;t.parentNode&&"A"!==t.nodeName;)t=t.parentNode;return t},d=function(e){return location.protocol!==e.protocol||location.host!==e.host},t=function(e){return(e.hash&&I(e))===I(location)||e.href===location.href+"#"},w=function(e){var t;return t=I(e),t.match(/\.[a-z]+(\?.*)?$/g)&&!t.match(/\.html?(\?.*)?$/g)},_=function(e){for(var t;!t&&e!==document;)t=null!=e.getAttribute("data-no-turbolink"),e=e.parentNode;return t},z=function(e){return 0!==e.target.length},C=function(e){return e.which>1||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey},y=function(e,n){return d(n)||t(n)||w(n)||_(n)||z(n)||C(e)},b=function(){return F(),P(),c=n(),document.addEventListener("click",x,!0),window.addEventListener("popstate",function(e){var t;return t=e.state,(null!=t?t.turbolinks:void 0)?T[t.position]?m(t.position):$(e.target.location.href):void 0},!1)},r=window.history&&window.history.pushState&&window.history.replaceState&&void 0!==window.history.state,i=!navigator.userAgent.match(/CriOS\//),O="GET"===B||""===B,r&&i&&O?($=function(e){return E=document.location.href,o(),g(e)},b()):$=function(e){return document.location.href=e},this.Turbolinks={visit:$,pagesCached:M}}.call(this),window.tinyMCEPreInit=window.tinyMCEPreInit||{base:"/assets/tinymce",query:"3.5.8",suffix:""},function(e){var t,n=/^\s*|\s*$/g,i="$1"==="B".replace(/A(.)|B/,"$1"),r={majorVersion:"3",minorVersion:"5.8",releaseDate:"2012-11-20",_init:function(){function t(e){return e.src&&/tiny_mce(|_gzip|_jquery|_prototype|_full)(_dev|_src)?.js/.test(e.src)?(/_(src|dev)\.js/g.test(e.src)&&(l.suffix="_src"),-1!=(a=e.src.indexOf("?"))&&(l.query=e.src.substring(a+1)),l.baseURL=e.src.substring(0,e.src.lastIndexOf("/")),o&&-1==l.baseURL.indexOf("://")&&0!==l.baseURL.indexOf("/")&&(l.baseURL=o+l.baseURL),l.baseURL):null}var n,i,r,o,a,s,l=this,c=document,d=navigator,u=d.userAgent;if(l.isOpera=e.opera&&opera.buildNumber,l.isWebKit=/WebKit/.test(u),l.isIE=!l.isWebKit&&!l.isOpera&&/MSIE/gi.test(u)&&/Explorer/gi.test(d.appName),l.isIE6=l.isIE&&/MSIE [56]/.test(u),l.isIE7=l.isIE&&/MSIE [7]/.test(u),l.isIE8=l.isIE&&/MSIE [8]/.test(u),l.isIE9=l.isIE&&/MSIE [9]/.test(u),l.isGecko=!l.isWebKit&&/Gecko/.test(u),l.isMac=-1!=u.indexOf("Mac"),l.isAir=/adobeair/i.test(u),l.isIDevice=/(iPad|iPhone)/.test(u),l.isIOS5=l.isIDevice&&u.match(/AppleWebKit\/(\d*)/)[1]>=534,e.tinyMCEPreInit)return l.suffix=tinyMCEPreInit.suffix,l.baseURL=tinyMCEPreInit.base,l.query=tinyMCEPreInit.query,void 0;for(l.suffix="",i=c.getElementsByTagName("base"),n=0;n<i.length;n++)s=i[n].href,s&&(/^https?:\/\/[^\/]+$/.test(s)&&(s+="/"),o=s?s.match(/.*\//)[0]:"");for(i=c.getElementsByTagName("script"),n=0;n<i.length;n++)if(t(i[n]))return;if(r=c.getElementsByTagName("head")[0])for(i=r.getElementsByTagName("script"),n=0;n<i.length;n++)if(t(i[n]))return},is:function(e,n){return n?"array"==n&&r.isArray(e)?!0:typeof e==n:e!==t},isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},makeMap:function(e,t,n){var i;for(e=e||[],t=t||",","string"==typeof e&&(e=e.split(t)),n=n||{},i=e.length;i--;)n[e[i]]={};return n},each:function(e,n,i){var r,o;if(!e)return 0;if(i=i||e,e.length!==t){for(r=0,o=e.length;o>r;r++)if(n.call(i,e[r],r,e)===!1)return 0}else for(r in e)if(e.hasOwnProperty(r)&&n.call(i,e[r],r,e)===!1)return 0;return 1},trim:function(e){return(e?""+e:"").replace(n,"")},create:function(e,t,n){var i,r,o,a,s,l=this,c=0;if(e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e),o=e[3].match(/(^|\.)(\w+)$/i)[2],r=l.createNS(e[3].replace(/\.\w+$/,""),n),!r[o]){if("static"==e[2])return r[o]=t,this.onCreate&&this.onCreate(e[2],e[3],r[o]),void 0;t[o]||(t[o]=function(){},c=1),r[o]=t[o],l.extend(r[o].prototype,t),e[5]&&(i=l.resolve(e[5]).prototype,a=e[5].match(/\.(\w+)$/i)[1],s=r[o],r[o]=c?function(){return i[a].apply(this,arguments)}:function(){return this.parent=i[a],s.apply(this,arguments)},r[o].prototype[o]=r[o],l.each(i,function(e,t){r[o].prototype[t]=i[t]}),l.each(t,function(e,t){i[t]?r[o].prototype[t]=function(){return this.parent=i[t],e.apply(this,arguments)}:t!=o&&(r[o].prototype[t]=e)})),l.each(t["static"],function(e,t){r[o][t]=e}),this.onCreate&&this.onCreate(e[2],e[3],r[o].prototype)}},walk:function(e,t,n,i){i=i||this,e&&(n&&(e=e[n]),r.each(e,function(e,o){return t.call(i,e,o,n)===!1?!1:(r.walk(e,t,n,i),void 0)}))},createNS:function(t,n){var i,r;for(n=n||e,t=t.split("."),i=0;i<t.length;i++)r=t[i],n[r]||(n[r]={}),n=n[r];return n},resolve:function(t,n){var i,r;for(n=n||e,t=t.split("."),i=0,r=t.length;r>i&&(n=n[t[i]],n);i++);return n},addUnload:function(t,n){function i(){function t(){n.detachEvent("onstop",t),r&&r(),n=0}var n=document;"interactive"==n.readyState&&(n&&n.attachEvent("onstop",t),e.setTimeout(function(){n&&n.detachEvent("onstop",t)},0))}var r,o=this;return r=function(){var t,n,a=o.unloads;if(a){for(n in a)t=a[n],t&&t.func&&t.func.call(t.scope,1);e.detachEvent?(e.detachEvent("onbeforeunload",i),e.detachEvent("onunload",r)):e.removeEventListener&&e.removeEventListener("unload",r,!1),o.unloads=t=a=w=r=0,e.CollectGarbage&&CollectGarbage()}},t={func:t,scope:n||this},o.unloads?o.unloads.push(t):(e.attachEvent?(e.attachEvent("onunload",r),e.attachEvent("onbeforeunload",i)):e.addEventListener&&e.addEventListener("unload",r,!1),o.unloads=[t]),t},removeUnload:function(e){var t=this.unloads,n=null;return r.each(t,function(i,r){return i&&i.func==e?(t.splice(r,1),n=e,!1):void 0}),n},explode:function(e,t){return!e||r.is(e,"array")?e:r.map(e.split(t||","),r.trim)},_addVer:function(e){var t;return this.query?(t=(-1==e.indexOf("?")?"?":"&")+this.query,-1==e.indexOf("#")?e+t:e.replace("#",t+"#")):e},_replace:function(e,n,r){return i?r.replace(e,function(){var e,i=n,r=arguments;for(e=0;e<r.length-2;e++)i=r[e]===t?i.replace(new RegExp("\\$"+e,"g"),""):i.replace(new RegExp("\\$"+e,"g"),r[e]);return i}):r.replace(e,n)}};r._init(),e.tinymce=e.tinyMCE=r}(window),function(e,t){var n,i=(t.is,/^(href|src|style)$/i);if(!e&&window.console)return console.log("Load jQuery first!");t.$=e,t.adapter={patchEditor:function(t){function r(e,t){var n=this;return t&&n.removeAttr("data-mce-style"),s.css.apply(n,arguments)}function o(e,r){var o=this;return i.test(e)?r!==n?(o.each(function(n,i){t.dom.setAttrib(i,e,r)}),o):o.attr("data-mce-"+e):s.attr.apply(o,arguments)}function a(e){return e.css!==r&&(e.css=r,e.attr=o,e.tinymce=t,e.pushStack=function(){return a(s.pushStack.apply(this,arguments))}),e}var s=e.fn;t.$=function(n,i){var r=t.getDoc();return a(e(n||r,r||i))}}},t.extend=e.extend,t.extend(t,{map:e.map,grep:function(t,n){return e.grep(t,n||function(){return 1})},inArray:function(t,n){return e.inArray(n,t||[])}});var r={"tinymce.dom.DOMUtils":{select:function(t,n){var i=this;return e.find(t,i.get(n)||i.get(i.settings.root_element)||i.doc,[])},is:function(t,n){return e(this.get(t)).is(n)}}};t.onCreate=function(e,n,i){t.extend(i,r[n])}}(window.jQuery,tinymce),tinymce.create("tinymce.util.Dispatcher",{scope:null,listeners:null,inDispatch:!1,Dispatcher:function(e){this.scope=e||this,this.listeners=[]
},add:function(e,t){return this.listeners.push({cb:e,scope:t||this.scope}),e},addToTop:function(e,t){var n=this,i={cb:e,scope:t||n.scope};return n.inDispatch?n.listeners=[i].concat(n.listeners):n.listeners.unshift(i),e},remove:function(e){var t=this.listeners,n=null;return tinymce.each(t,function(i,r){return e==i.cb?(n=i,t.splice(r,1),!1):void 0}),n},dispatch:function(){var e,t,n,i=this,r=arguments,o=i.listeners;for(i.inDispatch=!0,t=0;t<o.length&&(n=o[t],e=n.cb.apply(n.scope,r.length>0?r:[n.scope]),e!==!1);t++);return i.inDispatch=!1,e}}),function(){var e=tinymce.each;tinymce.create("tinymce.util.URI",{URI:function(t,n){var i,r,o=this;return t=tinymce.trim(t),n=o.settings=n||{},/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t)?(o.source=t,void 0):(0===t.indexOf("/")&&0!==t.indexOf("//")&&(t=(n.base_uri?n.base_uri.protocol||"http":"http")+"://mce_host"+t),/^[\w\-]*:?\/\//.test(t)||(r=n.base_uri?n.base_uri.path:new tinymce.util.URI(location.href).directory,t=(n.base_uri&&n.base_uri.protocol||"http")+"://mce_host"+o.toAbsPath(r,t)),t=t.replace(/@@/g,"(mce_at)"),t=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t),e(["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],function(e,n){var i=t[n];i&&(i=i.replace(/\(mce_at\)/g,"@@")),o[e]=i}),i=n.base_uri,i&&(o.protocol||(o.protocol=i.protocol),o.userInfo||(o.userInfo=i.userInfo),o.port||"mce_host"!==o.host||(o.port=i.port),o.host&&"mce_host"!==o.host||(o.host=i.host),o.source=""),void 0)},setPath:function(e){var t=this;e=/^(.*?)\/?(\w+)?$/.exec(e),t.path=e[0],t.directory=e[1],t.file=e[2],t.source="",t.getURI()},toRelative:function(e){var t,n=this;if("./"===e)return e;if(e=new tinymce.util.URI(e,{base_uri:n}),"mce_host"!=e.host&&n.host!=e.host&&e.host||n.port!=e.port||n.protocol!=e.protocol)return e.getURI();var i=n.getURI(),r=e.getURI();return i==r||"/"==i.charAt(i.length-1)&&i.substr(0,i.length-1)==r?i:(t=n.toRelPath(n.path,e.path),e.query&&(t+="?"+e.query),e.anchor&&(t+="#"+e.anchor),t)},toAbsolute:function(e,t){return e=new tinymce.util.URI(e,{base_uri:this}),e.getURI(this.host==e.host&&this.protocol==e.protocol?t:0)},toRelPath:function(e,t){var n,i,r,o=0,a="";if(e=e.substring(0,e.lastIndexOf("/")),e=e.split("/"),n=t.split("/"),e.length>=n.length)for(i=0,r=e.length;r>i;i++)if(i>=n.length||e[i]!=n[i]){o=i+1;break}if(e.length<n.length)for(i=0,r=n.length;r>i;i++)if(i>=e.length||e[i]!=n[i]){o=i+1;break}if(1===o)return t;for(i=0,r=e.length-(o-1);r>i;i++)a+="../";for(i=o-1,r=n.length;r>i;i++)a+=i!=o-1?"/"+n[i]:n[i];return a},toAbsPath:function(t,n){var i,r,o,a=0,s=[];for(r=/\/$/.test(n)?"/":"",t=t.split("/"),n=n.split("/"),e(t,function(e){e&&s.push(e)}),t=s,i=n.length-1,s=[];i>=0;i--)0!==n[i].length&&"."!==n[i]&&(".."!==n[i]?a>0?a--:s.push(n[i]):a++);return i=t.length-a,o=0>=i?s.reverse().join("/"):t.slice(0,i).join("/")+"/"+s.reverse().join("/"),0!==o.indexOf("/")&&(o="/"+o),r&&o.lastIndexOf("/")!==o.length-1&&(o+=r),o},getURI:function(e){var t,n=this;return(!n.source||e)&&(t="",e||(n.protocol&&(t+=n.protocol+"://"),n.userInfo&&(t+=n.userInfo+"@"),n.host&&(t+=n.host),n.port&&(t+=":"+n.port)),n.path&&(t+=n.path),n.query&&(t+="?"+n.query),n.anchor&&(t+="#"+n.anchor),n.source=t),n.source}})}(),function(){var e=tinymce.each;tinymce.create("static tinymce.util.Cookie",{getHash:function(t){var n,i=this.get(t);return i&&e(i.split("&"),function(e){e=e.split("="),n=n||{},n[unescape(e[0])]=unescape(e[1])}),n},setHash:function(t,n,i,r,o,a){var s="";e(n,function(e,t){s+=(s?"&":"")+escape(t)+"="+escape(e)}),this.set(t,s,i,r,o,a)},get:function(e){var t,n,i=document.cookie,r=e+"=";if(i){if(n=i.indexOf("; "+r),-1==n){if(n=i.indexOf(r),0!==n)return null}else n+=2;return t=i.indexOf(";",n),-1==t&&(t=i.length),unescape(i.substring(n+r.length,t))}},set:function(e,t,n,i,r,o){document.cookie=e+"="+escape(t)+(n?"; expires="+n.toGMTString():"")+(i?"; path="+escape(i):"")+(r?"; domain="+r:"")+(o?"; secure":"")},remove:function(e,t,n){var i=new Date;i.setTime(i.getTime()-1e3),this.set(e,"",i,t,n)}})}(),function(){function serialize(e,t){var n,i,r,o;if(t=t||'"',null==e)return"null";if(r=typeof e,"string"==r)return i="\bb	t\nn\ff\rr\"\"''\\\\",t+e.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(e,r){return'"'===t&&"'"===e?e:(n=i.indexOf(r),n+1?"\\"+i.charAt(n+1):(e=r.charCodeAt().toString(16),"\\u"+"0000".substring(e.length)+e))})+t;if("object"==r){if(e.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(e)){for(n=0,i="[";n<e.length;n++)i+=(n>0?",":"")+serialize(e[n],t);return i+"]"}i="{";for(o in e)e.hasOwnProperty(o)&&(i+="function"!=typeof e[o]?(i.length>1?","+t:t)+o+t+":"+serialize(e[o],t):"");return i+"}"}return""+e}tinymce.util.JSON={serialize:serialize,parse:function(s){try{return eval("("+s+")")}catch(ex){}}}}(),tinymce.create("static tinymce.util.XHR",{send:function(e){function t(){!e.async||4==i.readyState||a++>1e4?(e.success&&1e4>a&&200==i.status?e.success.call(e.success_scope,""+i.responseText,i,e):e.error&&e.error.call(e.error_scope,a>1e4?"TIMED_OUT":"GENERAL",i,e),i=null):o.setTimeout(t,10)}function n(e){i=0;try{i=new ActiveXObject(e)}catch(t){}return i}var i,r,o=window,a=0;if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=e.async===!1?!1:!0,e.data=e.data||"",i=o.XMLHttpRequest?new XMLHttpRequest:n("Microsoft.XMLHTTP")||n("Msxml2.XMLHTTP")){if(i.overrideMimeType&&i.overrideMimeType(e.content_type),i.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.content_type&&i.setRequestHeader("Content-Type",e.content_type),i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.send(e.data),!e.async)return t();r=o.setTimeout(t,10)}}}),function(){var e=tinymce.extend,t=tinymce.util.JSON,n=tinymce.util.XHR;tinymce.create("tinymce.util.JSONRequest",{JSONRequest:function(t){this.settings=e({},t),this.count=0},send:function(i){var r=i.error,o=i.success;i=e(this.settings,i),i.success=function(e,n){e=t.parse(e),"undefined"==typeof e&&(e={error:"JSON Parse error."}),e.error?r.call(i.error_scope||i.scope,e.error,n):o.call(i.success_scope||i.scope,e.result)},i.error=function(e,t){r&&r.call(i.error_scope||i.scope,e,t)},i.data=t.serialize({id:i.id||"c"+this.count++,method:i.method,params:i.params}),i.content_type="application/json",n.send(i)},"static":{sendRPC:function(e){return(new tinymce.util.JSONRequest).send(e)}}})}(),function(e){e.VK={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey},metaKeyPressed:function(t){return e.isMac?t.metaKey:t.ctrlKey&&!t.altKey}}}(tinymce),tinymce.util.Quirks=function(e){function t(t,n){try{e.getDoc().execCommand(t,!1,n)}catch(i){}}function n(){var t=e.getDoc().documentMode;return t?t:6}function i(e){return e.isDefaultPrevented()}function r(){function t(t){var n,i,r,o;if(n=N.getRng(),i=E.getParent(n.startContainer,E.isBlock),t&&(i=E.getNext(i,E.isBlock)),i){for(r=i.firstChild;r&&3==r.nodeType&&0===r.nodeValue.length;)r=r.nextSibling;r&&"SPAN"===r.nodeName&&(o=r.cloneNode(!1))}I(E.select("span",i),function(e){e.setAttribute("data-mce-mark","1")}),e.getDoc().execCommand(t?"ForwardDelete":"Delete",!1,null),i=E.getParent(n.startContainer,E.isBlock),I(E.select("span",i),function(e){var t=N.getBookmark();o?E.replace(o.cloneNode(!1),e,!0):e.getAttribute("data-mce-mark")?e.removeAttribute("data-mce-mark"):E.remove(e,!0),N.moveToBookmark(t)})}e.onKeyDown.add(function(e,n){var r;r=n.keyCode==A,i(n)||!r&&n.keyCode!=D||M.modifierPressed(n)||(n.preventDefault(),t(r))}),e.addCommand("Delete",function(){t()})}function o(){function t(e){var t=E.create("body"),n=e.cloneContents();return t.appendChild(n),N.serializer.serialize(t,{format:"html"})}function n(n){var i=t(n),r=E.createRng();r.selectNode(e.getBody());var o=t(r);return i===o}e.onKeyDown.add(function(e,t){var r,o=t.keyCode;if(!i(t)&&(o==A||o==D)){if(r=e.selection.isCollapsed(),r&&!E.isEmpty(e.getBody()))return;if(tinymce.isIE&&!r)return;if(!r&&!n(e.selection.getRng()))return;e.setContent(""),e.selection.setCursorLocation(e.getBody(),0),e.nodeChanged()}})}function a(){e.onKeyDown.add(function(e,t){!i(t)&&65==t.keyCode&&M.metaKeyPressed(t)&&(t.preventDefault(),e.execCommand("SelectAll"))})}function s(){e.settings.content_editable||(E.bind(e.getDoc(),"focusin",function(){N.setRng(N.getRng())}),E.bind(e.getDoc(),"mousedown",function(t){t.target==e.getDoc().documentElement&&(e.getWin().focus(),N.setRng(N.getRng()))}))}function l(){e.onKeyDown.add(function(e,t){if(!i(t)&&t.keyCode===D&&N.isCollapsed()&&0===N.getRng(!0).startOffset){var n=N.getNode(),r=n.previousSibling;r&&r.nodeName&&"hr"===r.nodeName.toLowerCase()&&(E.remove(r),tinymce.dom.Event.cancel(t))}})}function c(){Range.prototype.getClientRects||e.onMouseDown.add(function(e,t){if(!i(t)&&"HTML"===t.target.nodeName){var n=e.getBody();n.blur(),setTimeout(function(){n.focus()},0)}})}function d(){e.onClick.add(function(e,t){t=t.target,/^(IMG|HR)$/.test(t.nodeName)&&N.getSel().setBaseAndExtent(t,0,t,1),"A"==t.nodeName&&E.hasClass(t,"mceItemAnchor")&&N.select(t),e.nodeChanged()})}function u(){function t(){var t=E.getAttribs(N.getStart().cloneNode(!1));return function(){var n=N.getStart();n!==e.getBody()&&(E.setAttrib(n,"style",null),I(t,function(e){n.setAttributeNode(e.cloneNode(!0))}))}}function n(){return!N.isCollapsed()&&E.getParent(N.getStart(),E.isBlock)!=E.getParent(N.getEnd(),E.isBlock)}function r(e,t){return t.preventDefault(),!1}e.onKeyPress.add(function(e,r){var o;return i(r)||8!=r.keyCode&&46!=r.keyCode||!n()?void 0:(o=t(),e.getDoc().execCommand("delete",!1,null),o(),r.preventDefault(),!1)}),E.bind(e.getDoc(),"cut",function(o){var a;!i(o)&&n()&&(a=t(),e.onKeyUp.addToTop(r),setTimeout(function(){a(),e.onKeyUp.remove(r)},0))})}function h(){var t,n;E.bind(e.getDoc(),"selectionchange",function(){n&&(clearTimeout(n),n=0),n=window.setTimeout(function(){var n=N.getRng();t&&tinymce.dom.RangeUtils.compareRanges(n,t)||(e.nodeChanged(),t=n)},50)})}function p(){document.body.setAttribute("role","application")}function f(){e.onKeyDown.add(function(e,t){if(!i(t)&&t.keyCode===D&&N.isCollapsed()&&0===N.getRng(!0).startOffset){var n=N.getNode().previousSibling;if(n&&n.nodeName&&"table"===n.nodeName.toLowerCase())return tinymce.dom.Event.cancel(t)}})}function m(){n()>7||(t("RespectVisibilityInDesign",!0),e.contentStyles.push(".mceHideBrInPre pre br {display: none}"),E.addClass(e.getBody(),"mceHideBrInPre"),P.addNodeFilter("pre",function(e){for(var t,n,i,r,o=e.length;o--;)for(t=e[o].getAll("br"),n=t.length;n--;)i=t[n],r=i.prev,r&&3===r.type&&"\n"!=r.value.charAt(r.value-1)?r.value+="\n":i.parent.insert(new tinymce.html.Node("#text",3),i,!0).value="\n"}),F.addNodeFilter("pre",function(e){for(var t,n,i,r,o=e.length;o--;)for(t=e[o].getAll("br"),n=t.length;n--;)i=t[n],r=i.prev,r&&3==r.type&&(r.value=r.value.replace(/\r?\n$/,""))}))}function g(){E.bind(e.getBody(),"mouseup",function(){var e,t=N.getNode();"IMG"==t.nodeName&&((e=E.getStyle(t,"width"))&&(E.setAttrib(t,"width",e.replace(/[^0-9%]+/g,"")),E.setStyle(t,"width","")),(e=E.getStyle(t,"height"))&&(E.setAttrib(t,"height",e.replace(/[^0-9%]+/g,"")),E.setStyle(t,"height","")))})}function v(){e.onKeyDown.add(function(e,t){var n,r,o,a,s,l,c;n=t.keyCode==A,i(t)||!n&&t.keyCode!=D||M.modifierPressed(t)||(r=N.getRng(),o=r.startContainer,a=r.startOffset,c=r.collapsed,3==o.nodeType&&o.nodeValue.length>0&&(0===a&&!c||c&&a===(n?0:1))&&(nonEmptyElements=e.schema.getNonEmptyElements(),t.preventDefault(),s=E.create("br",{id:"__tmp"}),o.parentNode.insertBefore(s,o),e.getDoc().execCommand(n?"ForwardDelete":"Delete",!1,null),o=N.getRng().startContainer,l=o.previousSibling,l&&1==l.nodeType&&!E.isBlock(l)&&E.isEmpty(l)&&!nonEmptyElements[l.nodeName.toLowerCase()]&&E.remove(l),E.remove("__tmp")))})}function y(){e.onKeyDown.add(function(e,t){var n,r,o,a,s;if(!i(t)&&t.keyCode==M.BACKSPACE&&(n=N.getRng(),r=n.startContainer,o=n.startOffset,a=E.getRoot(),s=r,n.collapsed&&0===o)){for(;s&&s.parentNode&&s.parentNode.firstChild==s&&s.parentNode!=a;)s=s.parentNode;"BLOCKQUOTE"===s.tagName&&(e.formatter.toggle("blockquote",null,s),n=E.createRng(),n.setStart(r,0),n.setEnd(r,0),N.setRng(n))}})}function b(){function n(){e._refreshContentEditable(),t("StyleWithCSS",!1),t("enableInlineTableEditing",!1),L.object_resizing||t("enableObjectResizing",!1)}L.readonly||(e.onBeforeExecCommand.add(n),e.onMouseDown.add(n))}function x(){function t(){I(E.select("a"),function(e){var t=e.parentNode,n=E.getRoot();if(t.lastChild===e){for(;t&&!E.isBlock(t);){if(t.parentNode.lastChild!==t||t===n)return;t=t.parentNode}E.add(t,"br",{"data-mce-bogus":1})}})}e.onExecCommand.add(function(e,n){"CreateLink"===n&&t(e)}),e.onSetContent.add(N.onSetContent.add(t))}function k(){L.forced_root_block&&e.onInit.add(function(){t("DefaultParagraphSeparator",L.forced_root_block)})}function _(){function t(t,n){t&&n.initial||e.execCommand("mceRepaint")}e.onUndo.add(t),e.onRedo.add(t),e.onSetContent.add(t)}function w(){e.onKeyDown.add(function(e,t){var n;i(t)||t.keyCode!=D||(n=e.getDoc().selection.createRange(),n&&n.item&&(t.preventDefault(),e.undoManager.beforeChange(),E.remove(n.item(0)),e.undoManager.add()))})}function C(){var t;n()>=10&&(t="",I("p div h1 h2 h3 h4 h5 h6".split(" "),function(e,n){t+=(n>0?",":"")+e+":empty"}),e.contentStyles.push(t+"{padding-right: 1px !important}"))}function T(){function n(e){var t,n;t=e.screenX-h,n=e.screenY-p,y=t*u[2]+f,b=n*u[3]+m,y=5>y?5:y,b=5>b?5:b,(M.modifierPressed(e)||"IMG"==c.nodeName&&0!==u[2]*u[3])&&(y=Math.round(b/g),b=Math.round(y*g)),E.setStyles(d,{width:y,height:b}),u[2]<0&&d.clientWidth<=y&&E.setStyle(d,"left",s+(f-y)),u[3]<0&&d.clientHeight<=b&&E.setStyle(d,"top",l+(m-b))}function i(){function t(t,n){n&&(c.style[t]||!e.schema.isValid(c.nodeName.toLowerCase(),t)?E.setStyle(c,t,n):E.setAttrib(c,t,n))}t("width",y),t("height",b),E.unbind(k,"mousemove",n),E.unbind(k,"mouseup",i),x!=k&&(E.unbind(x,"mousemove",n),E.unbind(x,"mouseup",i)),E.remove(d),r(c)}function r(e){var t,r,a;o(),t=E.getPos(e),s=t.x,l=t.y,r=e.offsetWidth,a=e.offsetHeight,c!=e&&(c=e,y=b=0),I(v,function(e,t){var o;o=E.get("mceResizeHandle"+t),o?E.show(o):(o=E.add(k.documentElement,"div",{id:"mceResizeHandle"+t,"class":"mceResizeHandle",style:"cursor:"+t+"-resize; margin:0; padding:0"}),E.bind(o,"mousedown",function(t){t.preventDefault(),i(),h=t.screenX,p=t.screenY,f=c.clientWidth,m=c.clientHeight,g=m/f,u=e,d=c.cloneNode(!0),E.addClass(d,"mceClonedResizable"),E.setStyles(d,{left:s,top:l,margin:0}),k.documentElement.appendChild(d),E.bind(k,"mousemove",n),E.bind(k,"mouseup",i),x!=k&&(E.bind(x,"mousemove",n),E.bind(x,"mouseup",i))})),E.setStyles(o,{left:r*e[0]+s-o.offsetWidth/2,top:a*e[1]+l-o.offsetHeight/2})}),tinymce.isOpera||"IMG"!=c.nodeName||c.setAttribute("data-mce-selected","1")}function o(){c&&c.removeAttribute("data-mce-selected");for(var e in v)E.hide("mceResizeHandle"+e)}function a(){var e=E.getParent(N.getNode(),"table,img");I(E.select("img[data-mce-selected]"),function(e){e.removeAttribute("data-mce-selected")}),e?r(e):o()}var s,l,c,d,u,h,p,f,m,g,v,y,b,x=document,k=e.getDoc();L.object_resizing&&L.webkit_fake_resize!==!1&&(t("enableObjectResizing",!1),v={n:[.5,0,0,-1],e:[1,.5,1,0],s:[.5,1,0,1],w:[0,.5,-1,0],nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},e.contentStyles.push(".mceResizeHandle {position: absolute;border: 1px solid black;background: #FFF;width: 5px;height: 5px;z-index: 10000}.mceResizeHandle:hover {background: #000}img[data-mce-selected] {outline: 1px solid black}img.mceClonedResizable, table.mceClonedResizable {position: absolute;outline: 1px dashed black;opacity: .5;z-index: 10000}"),e.onNodeChange.add(a),E.bind(k,"selectionchange",a),e.serializer.addAttributeFilter("data-mce-selected",function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)}))}function S(){n()<9&&(P.addNodeFilter("noscript",function(e){for(var t,n,i=e.length;i--;)t=e[i],n=t.firstChild,n&&t.attr("data-mce-innertext",n.value)}),F.addNodeFilter("noscript",function(e){for(var t,n,i,r=e.length;r--;)t=e[r],n=e[r].firstChild,n?n.value=tinymce.html.Entities.decode(n.value):(i=t.attributes.map["data-mce-innertext"],i&&(t.attr("data-mce-innertext",null),n=new tinymce.html.Node("#text",3),n.value=i,n.raw=!0,t.append(n)))}))}var M=tinymce.VK,D=M.BACKSPACE,A=M.DELETE,E=e.dom,N=e.selection,L=e.settings,P=e.parser,F=e.serializer,I=tinymce.each;f(),y(),o(),tinymce.isWebKit&&(v(),r(),s(),d(),k(),tinymce.isIDevice?h():(T(),a())),tinymce.isIE&&(l(),p(),m(),g(),w(),C(),S()),tinymce.isGecko&&(l(),c(),u(),b(),x(),_()),tinymce.isOpera&&T()},function(e){function t(e){var t;return t=document.createElement("div"),t.innerHTML=e,t.textContent||t.innerText||e}function n(e,t){var n,i,o,a={};if(e){for(e=e.split(","),t=t||10,n=0;n<e.length;n+=2)i=String.fromCharCode(parseInt(e[n],t)),r[i]||(o="&"+e[n+1]+";",a[i]=o,a[o]=i);return a}}var i,r,o,a=/[&<>\"\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,s=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,l=/[<>&\"\']/g,c=/&(#x|#)?([\w]+);/g,d={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"};r={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;"},o={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},i=n("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),e.html=e.html||{},e.html.Entities={encodeRaw:function(e,t){return e.replace(t?a:s,function(e){return r[e]||e})},encodeAllRaw:function(e){return(""+e).replace(l,function(e){return r[e]||e})},encodeNumeric:function(e,t){return e.replace(t?a:s,function(e){return e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":r[e]||"&#"+e.charCodeAt(0)+";"})},encodeNamed:function(e,t,n){return n=n||i,e.replace(t?a:s,function(e){return r[e]||n[e]||e})},getEncodeFunc:function(t,o){function l(e,t){return e.replace(t?a:s,function(e){return r[e]||o[e]||"&#"+e.charCodeAt(0)+";"||e})}function c(e,t){return d.encodeNamed(e,t,o)}var d=e.html.Entities;return o=n(o)||i,t=e.makeMap(t.replace(/\+/g,",")),t.named&&t.numeric?l:t.named?o?c:d.encodeNamed:t.numeric?d.encodeNumeric:d.encodeRaw},decode:function(e){return e.replace(c,function(e,n,r){return n?(r=parseInt(r,2===n.length?16:10),r>65535?(r-=65536,String.fromCharCode(55296+(r>>10),56320+(1023&r))):d[r]||String.fromCharCode(r)):o[e]||i[e]||t(e)})}}}(tinymce),tinymce.html.Styles=function(e,t){function n(e,t,n,i){function r(e){return e=parseInt(e).toString(16),e.length>1?e:"0"+e}return"#"+r(t)+r(n)+r(i)}var i,r,o,a=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,s=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,l=/\s*([^:]+):\s*([^;]+);?/g,c=/\s+$/,d={};for(e=e||{},o="\\\" \\' \\; \\: ; : ﻿".split(" "),r=0;r<o.length;r++)d[o[r]]="﻿"+r,d["﻿"+r]=o[r];return{toHex:function(e){return e.replace(a,n)},parse:function(t){function i(e,t){var n,i,r,o;n=y[e+"-top"+t],n&&(i=y[e+"-right"+t],n==i&&(r=y[e+"-bottom"+t],i==r&&(o=y[e+"-left"+t],r==o&&(y[e+t]=o,delete y[e+"-top"+t],delete y[e+"-right"+t],delete y[e+"-bottom"+t],delete y[e+"-left"+t]))))}function r(e){var t,n=y[e];if(n&&!(n.indexOf(" ")<0)){for(n=n.split(" "),t=n.length;t--;)if(n[t]!==n[0])return!1;return y[e]=n[0],!0}}function o(e,t,n,i){r(t)&&r(n)&&r(i)&&(y[e]=y[t]+" "+y[n]+" "+y[i],delete y[t],delete y[n],delete y[i])}function u(e){return v=!0,d[e]}function h(e,t){return v&&(e=e.replace(/\uFEFF[0-9]/g,function(e){return d[e]})),t||(e=e.replace(/\\([\'\";:])/g,"$1")),e}function p(e,t,n,i,r,o){return(r=r||o)?(r=h(r),"'"+r.replace(/\'/g,"\\'")+"'"):(t=h(t||n||i),b&&(t=b.call(x,t,"style")),"url('"+t.replace(/\'/g,"\\'")+"')")}var f,m,g,v,y={},b=e.url_converter,x=e.url_converter_scope||this;if(t){for(t=t.replace(/\\[\"\';:\uFEFF]/g,u).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(e){return e.replace(/[;:]/g,u)});f=l.exec(t);)m=f[1].replace(c,"").toLowerCase(),g=f[2].replace(c,""),m&&g.length>0&&("font-weight"===m&&"700"===g?g="bold":("color"===m||"background-color"===m)&&(g=g.toLowerCase()),g=g.replace(a,n),g=g.replace(s,p),y[m]=v?h(g,!0):g),l.lastIndex=f.index+f[0].length;i("border",""),i("border","-width"),i("border","-color"),i("border","-style"),i("padding",""),i("margin",""),o("border","border-width","border-style","border-color"),"medium none"===y.border&&delete y.border}return y},serialize:function(e,n){function r(n){var r,o,a,l;if(r=t.styles[n])for(o=0,a=r.length;a>o;o++)n=r[o],l=e[n],l!==i&&l.length>0&&(s+=(s.length>0?" ":"")+n+": "+l+";")}var o,a,s="";if(n&&t&&t.styles)r("*"),r(n);else for(o in e)a=e[o],a!==i&&a.length>0&&(s+=(s.length>0?" ":"")+o+": "+a+";");return s}}},function(e){function t(e,t){return e.split(t||",")}function n(e,n){function i(t){return t.replace(/[A-Z]+/g,function(t){return i(e[t])})}var r,o={};for(r in e)e.hasOwnProperty(r)&&(e[r]=i(e[r]));return i(n).replace(/#/g,"#text").replace(/(\w+)\[([^\]]+)\]\[([^\]]*)\]/g,function(e,n,i,r){i=t(i,"|"),o[n]={attributes:a(i),attributesOrder:i,children:a(r,"|",{"#comment":{}})}}),o}function i(){var e=o.html5;return e||(e=o.html5=n({A:"id|accesskey|class|dir|draggable|item|hidden|itemprop|role|spellcheck|style|subject|title|onclick|ondblclick|onmousedown|onmouseup|onmouseover|onmousemove|onmouseout|onkeypress|onkeydown|onkeyup",B:"#|a|abbr|area|audio|b|bdo|br|button|canvas|cite|code|command|datalist|del|dfn|em|embed|i|iframe|img|input|ins|kbd|keygen|label|link|map|mark|meta|meter|noscript|object|output|progress|q|ruby|samp|script|select|small|span|strong|sub|sup|svg|textarea|time|var|video|wbr",C:"#|a|abbr|area|address|article|aside|audio|b|bdo|blockquote|br|button|canvas|cite|code|command|datalist|del|details|dfn|dialog|div|dl|em|embed|fieldset|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hgroup|hr|i|iframe|img|input|ins|kbd|keygen|label|link|map|mark|menu|meta|meter|nav|noscript|ol|object|output|p|pre|progress|q|ruby|samp|script|section|select|small|span|strong|style|sub|sup|svg|table|textarea|time|ul|var|video"},"html[A|manifest][body|head]head[A][base|command|link|meta|noscript|script|style|title]title[A][#]base[A|href|target][]link[A|href|rel|media|type|sizes][]meta[A|http-equiv|name|content|charset][]style[A|type|media|scoped][#]script[A|charset|type|src|defer|async][#]noscript[A][C]body[A][C]section[A][C]nav[A][C]article[A][C]aside[A][C]h1[A][B]h2[A][B]h3[A][B]h4[A][B]h5[A][B]h6[A][B]hgroup[A][h1|h2|h3|h4|h5|h6]header[A][C]footer[A][C]address[A][C]p[A][B]br[A][]pre[A][B]dialog[A][dd|dt]blockquote[A|cite][C]ol[A|start|reversed][li]ul[A][li]li[A|value][C]dl[A][dd|dt]dt[A][B]dd[A][C]a[A|href|target|ping|rel|media|type][B]em[A][B]strong[A][B]small[A][B]cite[A][B]q[A|cite][B]dfn[A][B]abbr[A][B]code[A][B]var[A][B]samp[A][B]kbd[A][B]sub[A][B]sup[A][B]i[A][B]b[A][B]mark[A][B]progress[A|value|max][B]meter[A|value|min|max|low|high|optimum][B]time[A|datetime][B]ruby[A][B|rt|rp]rt[A][B]rp[A][B]bdo[A][B]span[A][B]ins[A|cite|datetime][B]del[A|cite|datetime][B]figure[A][C|legend|figcaption]figcaption[A][C]img[A|alt|src|height|width|usemap|ismap][]iframe[A|name|src|height|width|sandbox|seamless][]embed[A|src|height|width|type][]object[A|data|type|height|width|usemap|name|form|classid][param]param[A|name|value][]details[A|open][C|legend]command[A|type|label|icon|disabled|checked|radiogroup][]menu[A|type|label][C|li]legend[A][C|B]div[A][C]source[A|src|type|media][]audio[A|src|autobuffer|autoplay|loop|controls][source]video[A|src|autobuffer|autoplay|loop|controls|width|height|poster][source]hr[A][]form[A|accept-charset|action|autocomplete|enctype|method|name|novalidate|target][C]fieldset[A|disabled|form|name][C|legend]label[A|form|for][B]input[A|type|accept|alt|autocomplete|autofocus|checked|disabled|form|formaction|formenctype|formmethod|formnovalidate|formtarget|height|list|max|maxlength|min|multiple|pattern|placeholder|readonly|required|size|src|step|width|files|value|name][]button[A|autofocus|disabled|form|formaction|formenctype|formmethod|formnovalidate|formtarget|name|value|type][B]select[A|autofocus|disabled|form|multiple|name|size][option|optgroup]datalist[A][B|option]optgroup[A|disabled|label][option]option[A|disabled|selected|label|value][]textarea[A|autofocus|disabled|form|maxlength|name|placeholder|readonly|required|rows|cols|wrap][]keygen[A|autofocus|challenge|disabled|form|keytype|name][]output[A|for|form|name][B]canvas[A|width|height][]map[A|name][B|C]area[A|shape|coords|href|alt|target|media|rel|ping|type][]mathml[A][]svg[A][]table[A|border][caption|colgroup|thead|tfoot|tbody|tr]caption[A][C]colgroup[A|span][col]col[A|span][]thead[A][tr]tfoot[A][tr]tbody[A][tr]tr[A][th|td]th[A|headers|rowspan|colspan|scope][B]td[A|headers|rowspan|colspan][C]wbr[A][]")),e}function r(){var e=o.html4;return e||(e=o.html4=n({Z:"H|K|N|O|P",Y:"X|form|R|Q",ZG:"E|span|width|align|char|charoff|valign",X:"p|T|div|U|W|isindex|fieldset|table",ZF:"E|align|char|charoff|valign",W:"pre|hr|blockquote|address|center|noframes",ZE:"abbr|axis|headers|scope|rowspan|colspan|align|char|charoff|valign|nowrap|bgcolor|width|height",ZD:"[E][S]",U:"ul|ol|dl|menu|dir",ZC:"p|Y|div|U|W|table|br|span|bdo|object|applet|img|map|K|N|Q",T:"h1|h2|h3|h4|h5|h6",ZB:"X|S|Q",S:"R|P",ZA:"a|G|J|M|O|P",R:"a|H|K|N|O",Q:"noscript|P",P:"ins|del|script",O:"input|select|textarea|label|button",N:"M|L",M:"em|strong|dfn|code|q|samp|kbd|var|cite|abbr|acronym",L:"sub|sup",K:"J|I",J:"tt|i|b|u|s|strike",I:"big|small|font|basefont",H:"G|F",G:"br|span|bdo",F:"object|applet|img|map|iframe",E:"A|B|C",D:"accesskey|tabindex|onfocus|onblur",C:"onclick|ondblclick|onmousedown|onmouseup|onmouseover|onmousemove|onmouseout|onkeypress|onkeydown|onkeyup",B:"lang|xml:lang|dir",A:"id|class|style|title"},"script[id|charset|type|language|src|defer|xml:space][]style[B|id|type|media|title|xml:space][]object[E|declare|classid|codebase|data|type|codetype|archive|standby|width|height|usemap|name|tabindex|align|border|hspace|vspace][#|param|Y]param[id|name|value|valuetype|type][]p[E|align][#|S]a[E|D|charset|type|name|href|hreflang|rel|rev|shape|coords|target][#|Z]br[A|clear][]span[E][#|S]bdo[A|C|B][#|S]applet[A|codebase|archive|code|object|alt|name|width|height|align|hspace|vspace][#|param|Y]h1[E|align][#|S]img[E|src|alt|name|longdesc|width|height|usemap|ismap|align|border|hspace|vspace][]map[B|C|A|name][X|form|Q|area]h2[E|align][#|S]iframe[A|longdesc|name|src|frameborder|marginwidth|marginheight|scrolling|align|width|height][#|Y]h3[E|align][#|S]tt[E][#|S]i[E][#|S]b[E][#|S]u[E][#|S]s[E][#|S]strike[E][#|S]big[E][#|S]small[E][#|S]font[A|B|size|color|face][#|S]basefont[id|size|color|face][]em[E][#|S]strong[E][#|S]dfn[E][#|S]code[E][#|S]q[E|cite][#|S]samp[E][#|S]kbd[E][#|S]var[E][#|S]cite[E][#|S]abbr[E][#|S]acronym[E][#|S]sub[E][#|S]sup[E][#|S]input[E|D|type|name|value|checked|disabled|readonly|size|maxlength|src|alt|usemap|onselect|onchange|accept|align][]select[E|name|size|multiple|disabled|tabindex|onfocus|onblur|onchange][optgroup|option]optgroup[E|disabled|label][option]option[E|selected|disabled|label|value][]textarea[E|D|name|rows|cols|disabled|readonly|onselect|onchange][]label[E|for|accesskey|onfocus|onblur][#|S]button[E|D|name|value|type|disabled][#|p|T|div|U|W|table|G|object|applet|img|map|K|N|Q]h4[E|align][#|S]ins[E|cite|datetime][#|Y]h5[E|align][#|S]del[E|cite|datetime][#|Y]h6[E|align][#|S]div[E|align][#|Y]ul[E|type|compact][li]li[E|type|value][#|Y]ol[E|type|compact|start][li]dl[E|compact][dt|dd]dt[E][#|S]dd[E][#|Y]menu[E|compact][li]dir[E|compact][li]pre[E|width|xml:space][#|ZA]hr[E|align|noshade|size|width][]blockquote[E|cite][#|Y]address[E][#|S|p]center[E][#|Y]noframes[E][#|Y]isindex[A|B|prompt][]fieldset[E][#|legend|Y]legend[E|accesskey|align][#|S]table[E|summary|width|border|frame|rules|cellspacing|cellpadding|align|bgcolor][caption|col|colgroup|thead|tfoot|tbody|tr]caption[E|align][#|S]col[ZG][]colgroup[ZG][col]thead[ZF][tr]tr[ZF|bgcolor][th|td]th[E|ZE][#|Y]form[E|action|method|name|enctype|onsubmit|onreset|accept|accept-charset|target][#|X|R|Q]noscript[E][#|Y]td[E|ZE][#|Y]tfoot[ZF][tr]tbody[ZF][tr]area[E|D|shape|coords|href|nohref|alt|target][]base[id|href|target][]body[E|onload|onunload|background|bgcolor|text|link|vlink|alink][#|Y]")),e}var o={},a=e.makeMap,s=e.each;e.html.Schema=function(n){function l(t,i,r){var s=n[t];return s?s=a(s,",",a(s.toUpperCase()," ")):(s=o[t],s||(s=a(i," ",a(i.toUpperCase()," ")),s=e.extend(s,r),o[t]=s)),s}function c(e){return new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$")}function d(n){var i,r,o,s,l,d,u,h,p,f,m,g,v,y,b,x,k,_,w,T=/^([#+\-])?([^\[\/]+)(?:\/([^\[]+))?(?:\[([^\]]+)\])?$/,M=/^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/,D=/[*?+]/;if(n)for(n=t(n),C["@"]&&(x=C["@"].attributes,k=C["@"].attributesOrder),i=0,r=n.length;r>i;i++)if(l=T.exec(n[i])){if(y=l[1],p=l[2],b=l[3],h=l[4],g={},v=[],d={attributes:g,attributesOrder:v},"#"===y&&(d.paddEmpty=!0),"-"===y&&(d.removeEmpty=!0),x){for(_ in x)g[_]=x[_];v.push.apply(v,k)}if(h)for(h=t(h,"|"),o=0,s=h.length;s>o;o++)if(l=M.exec(h[o])){if(u={},m=l[1],f=l[2].replace(/::/g,":"),y=l[3],w=l[4],"!"===m&&(d.attributesRequired=d.attributesRequired||[],d.attributesRequired.push(f),u.required=!0),"-"===m){delete g[f],v.splice(e.inArray(v,f),1);continue}y&&("="===y&&(d.attributesDefault=d.attributesDefault||[],d.attributesDefault.push({name:f,value:w}),u.defaultValue=w),":"===y&&(d.attributesForced=d.attributesForced||[],d.attributesForced.push({name:f,value:w}),u.forcedValue=w),"<"===y&&(u.validValues=a(w,"?"))),D.test(f)?(d.attributePatterns=d.attributePatterns||[],u.pattern=c(f),d.attributePatterns.push(u)):(g[f]||v.push(f),g[f]=u)}x||"@"!=p||(x=g,k=v),b&&(d.outputName=p,C[b]=d),D.test(p)?(d.pattern=c(p),S.push(d)):C[p]=d}}function u(e){C={},S=[],d(e),s(g,function(e,t){T[t]=e.children})}function h(e){var n=/^(~)?(.+)$/;e&&s(t(e),function(e){var t=n.exec(e),i="~"===t[1],r=i?"span":"div",o=t[2];T[o]=T[r],M[o]=r,i||(k[o.toUpperCase()]={},k[o]={}),C[o]||(C[o]=C[r]),s(T,function(e){e[r]&&(e[o]=e[r])})})}function p(e){var n=/^([+\-]?)(\w+)\[([^\]]+)\]$/;e&&s(t(e),function(e){var i,r,o=n.exec(e);o&&(r=o[1],i=r?T[o[2]]:T[o[2]]={"#comment":{}},i=T[o[2]],s(t(o[3],"|"),function(e){"-"===r?delete i[e]:i[e]={}}))})}function f(e){var t,n=C[e];if(n)return n;for(t=S.length;t--;)if(n=S[t],n.pattern.test(e))return n}var m,g,v,y,b,x,k,_,w=this,C={},T={},S=[],M={};n=n||{},g="html5"==n.schema?i():r(),n.verify_html===!1&&(n.valid_elements="*[*]"),n.valid_styles&&(m={},s(n.valid_styles,function(t,n){m[n]=e.explode(t)
})),v=l("whitespace_elements","pre script noscript style textarea"),y=l("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),b=l("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr"),x=l("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),_=l("non_empty_elements","td th iframe video audio object",b),textBlockElementsMap=l("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure"),k=l("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex samp option datalist select optgroup",textBlockElementsMap),n.valid_elements?u(n.valid_elements):(s(g,function(e,t){C[t]={attributes:e.attributes,attributesOrder:e.attributesOrder},T[t]=e.children}),"html5"!=n.schema&&s(t("strong/b,em/i"),function(e){e=t(e,"/"),C[e[1]].outputName=e[0]}),C.img.attributesDefault=[{name:"alt",value:""}],s(t("ol,ul,sub,sup,blockquote,span,font,a,table,tbody,tr,strong,em,b,i"),function(e){C[e]&&(C[e].removeEmpty=!0)}),s(t("p,h1,h2,h3,h4,h5,h6,th,td,pre,div,address,caption"),function(e){C[e].paddEmpty=!0})),h(n.custom_elements),p(n.valid_children),d(n.extended_valid_elements),p("+ol[ul|ol],+ul[ul|ol]"),n.invalid_elements&&e.each(e.explode(n.invalid_elements),function(e){C[e]&&delete C[e]}),f("span")||d("span[!data-mce-type|*]"),w.children=T,w.styles=m,w.getBoolAttrs=function(){return x},w.getBlockElements=function(){return k},w.getTextBlockElements=function(){return textBlockElementsMap},w.getShortEndedElements=function(){return b},w.getSelfClosingElements=function(){return y},w.getNonEmptyElements=function(){return _},w.getWhiteSpaceElements=function(){return v},w.isValidChild=function(e,t){var n=T[e];return!(!n||!n[t])},w.isValid=function(e,t){var n,i,r=f(e);if(r){if(!t)return!0;if(r.attributes[t])return!0;if(n=r.attributePatterns)for(i=n.length;i--;)if(n[i].pattern.test(e))return!0}return!1},w.getElementRule=f,w.getCustomElements=function(){return M},w.addValidElements=d,w.setValidElements=u,w.addCustomElements=h,w.addValidChildren=p,w.elements=C}}(tinymce),function(e){e.html.SaxParser=function(t,n){var i=this,r=function(){};t=t||{},i.schema=n=n||new e.html.Schema,t.fix_self_closing!==!1&&(t.fix_self_closing=!0),e.each("comment cdata text start end pi doctype".split(" "),function(e){e&&(i[e]=t[e]||r)}),i.parse=function(i){function r(e){var t,n;for(t=O.length;t--&&O[t].name!==e;);if(t>=0){for(n=O.length-1;n>=t;n--)e=O[n],e.valid&&R.end(e.name);O.length=t}}function o(e,t,n,i,r){var o,a;if(t=t.toLowerCase(),n=t in g?t:z(n||i||r||""),y&&!p&&0!==t.indexOf("data-")){if(o=C[t],!o&&T){for(a=T.length;a--&&(o=T[a],!o.pattern.test(t)););-1===a&&(o=null)}if(!o)return;if(o.validValues&&!(n in o.validValues))return}c.map[t]=n,c.push({name:t,value:n})}var a,s,l,c,d,u,h,p,f,m,g,v,y,b,x,k,_,w,C,T,S,M,D,A,E,N,L,P,F,I,R=this,B=0,O=[],H=0,z=e.html.Entities.decode;for(E=new RegExp("<(?:(?:!--([\\w\\W]*?)-->)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([^>]+)>)|(?:([A-Za-z0-9\\-\\:\\.]+)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),N=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,L={script:/<\/script[^>]*>/gi,style:/<\/style[^>]*>/gi,noscript:/<\/noscript[^>]*>/gi},m=n.getShortEndedElements(),A=t.self_closing_elements||n.getSelfClosingElements(),g=n.getBoolAttrs(),y=t.validate,f=t.remove_internals,F=t.fix_self_closing,I=e.isIE,w=/^:/;a=E.exec(i);){if(B<a.index&&R.text(z(i.substr(B,a.index-B))),s=a[6])s=s.toLowerCase(),I&&w.test(s)&&(s=s.substr(1)),r(s);else if(s=a[7]){if(s=s.toLowerCase(),I&&w.test(s)&&(s=s.substr(1)),v=s in m,F&&A[s]&&O.length>0&&O[O.length-1].name===s&&r(s),!y||(b=n.getElementRule(s))){if(x=!0,y&&(C=b.attributes,T=b.attributePatterns),(_=a[8])?(p=-1!==_.indexOf("data-mce-type"),p&&f&&(x=!1),c=[],c.map={},_.replace(N,o)):(c=[],c.map={}),y&&!p){if(S=b.attributesRequired,M=b.attributesDefault,D=b.attributesForced)for(d=D.length;d--;)k=D[d],h=k.name,P=k.value,"{$uid}"===P&&(P="mce_"+H++),c.map[h]=P,c.push({name:h,value:P});if(M)for(d=M.length;d--;)k=M[d],h=k.name,h in c.map||(P=k.value,"{$uid}"===P&&(P="mce_"+H++),c.map[h]=P,c.push({name:h,value:P}));if(S){for(d=S.length;d--&&!(S[d]in c.map););-1===d&&(x=!1)}c.map["data-mce-bogus"]&&(x=!1)}x&&R.start(s,c,v)}else x=!1;if(l=L[s]){l.lastIndex=B=a.index+a[0].length,(a=l.exec(i))?(x&&(u=i.substr(B,a.index-B)),B=a.index+a[0].length):(u=i.substr(B),B=i.length),x&&u.length>0&&R.text(u,!0),x&&R.end(s),E.lastIndex=B;continue}v||(_&&_.indexOf("/")==_.length-1?x&&R.end(s):O.push({name:s,valid:x}))}else(s=a[1])?R.comment(s):(s=a[2])?R.cdata(s):(s=a[3])?R.doctype(s):(s=a[4])&&R.pi(s,a[5]);B=a.index+a[0].length}for(B<i.length&&R.text(z(i.substr(B))),d=O.length-1;d>=0;d--)s=O[d],s.valid&&R.end(s.name)}}}(tinymce),function(e){function t(e,t,n){var i,r,o=n?"lastChild":"firstChild",a=n?"prev":"next";if(e[o])return e[o];if(e!==t){if(i=e[a])return i;for(r=e.parent;r&&r!==t;r=r.parent)if(i=r[a])return i}}function n(e,t){this.name=e,this.type=t,1===t&&(this.attributes=[],this.attributes.map={})}var i=/^[ \t\r\n]*$/,r={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11};e.extend(n.prototype,{replace:function(e){var t=this;return e.parent&&e.remove(),t.insert(e,t),t.remove(),t},attr:function(e,t){var n,i,r,o=this;if("string"!=typeof e){for(i in e)o.attr(i,e[i]);return o}if(n=o.attributes){if(t!==r){if(null===t){if(e in n.map)for(delete n.map[e],i=n.length;i--;)if(n[i].name===e)return n=n.splice(i,1),o;return o}if(e in n.map){for(i=n.length;i--;)if(n[i].name===e){n[i].value=t;break}}else n.push({name:e,value:t});return n.map[e]=t,o}return n.map[e]}},clone:function(){var e,t,i,r,o,a=this,s=new n(a.name,a.type);if(i=a.attributes){for(o=[],o.map={},e=0,t=i.length;t>e;e++)r=i[e],"id"!==r.name&&(o[o.length]={name:r.name,value:r.value},o.map[r.name]=r.value);s.attributes=o}return s.value=a.value,s.shortEnded=a.shortEnded,s},wrap:function(e){var t=this;return t.parent.insert(e,t),e.append(t),t},unwrap:function(){var e,t,n=this;for(e=n.firstChild;e;)t=e.next,n.insert(e,n,!0),e=t;n.remove()},remove:function(){var e=this,t=e.parent,n=e.next,i=e.prev;return t&&(t.firstChild===e?(t.firstChild=n,n&&(n.prev=null)):i.next=n,t.lastChild===e?(t.lastChild=i,i&&(i.next=null)):n.prev=i,e.parent=e.next=e.prev=null),e},append:function(e){var t,n=this;return e.parent&&e.remove(),t=n.lastChild,t?(t.next=e,e.prev=t,n.lastChild=e):n.lastChild=n.firstChild=e,e.parent=n,e},insert:function(e,t,n){var i;return e.parent&&e.remove(),i=t.parent||this,n?(t===i.firstChild?i.firstChild=e:t.prev.next=e,e.prev=t.prev,e.next=t,t.prev=e):(t===i.lastChild?i.lastChild=e:t.next.prev=e,e.next=t.next,e.prev=t,t.next=e),e.parent=i,e},getAll:function(e){var n,i=this,r=[];for(n=i.firstChild;n;n=t(n,i))n.name===e&&r.push(n);return r},empty:function(){var e,n,i,r=this;if(r.firstChild){for(e=[],i=r.firstChild;i;i=t(i,r))e.push(i);for(n=e.length;n--;)i=e[n],i.parent=i.firstChild=i.lastChild=i.next=i.prev=null}return r.firstChild=r.lastChild=null,r},isEmpty:function(e){var n,r,o=this,a=o.firstChild;if(a)do{if(1===a.type){if(a.attributes.map["data-mce-bogus"])continue;if(e[a.name])return!1;for(n=a.attributes.length;n--;)if(r=a.attributes[n].name,"name"===r||0===r.indexOf("data-mce-"))return!1}if(8===a.type)return!1;if(3===a.type&&!i.test(a.value))return!1}while(a=t(a,o));return!0},walk:function(e){return t(this,null,e)}}),e.extend(n,{create:function(e,t){var i,o;if(i=new n(e,r[e]||1),t)for(o in t)i.attr(o,t[o]);return i}}),e.html.Node=n}(tinymce),function(e){var t=e.html.Node;e.html.DomParser=function(n,i){function r(n){var r,a,s,l,c,d,u,h,p,f,m,g,v,y;for(m=e.makeMap("tr,td,th,tbody,thead,tfoot,table"),f=i.getNonEmptyElements(),g=i.getTextBlockElements(),r=0;r<n.length;r++)if(a=n[r],a.parent&&!a.fixed)if(g[a.name]&&"li"==a.parent.name){for(v=a.next;v&&g[v.name];)v.name="li",v.fixed=!0,a.parent.insert(v,a.parent),v=v.next;a.unwrap(a)}else{for(l=[a],s=a.parent;s&&!i.isValidChild(s.name,a.name)&&!m[s.name];s=s.parent)l.push(s);if(s&&l.length>1){for(l.reverse(),c=d=o.filterNode(l[0].clone()),p=0;p<l.length-1;p++){for(i.isValidChild(d.name,l[p].name)?(u=o.filterNode(l[p].clone()),d.append(u)):u=d,h=l[p].firstChild;h&&h!=l[p+1];)y=h.next,u.append(h),h=y;d=u}c.isEmpty(f)?s.insert(a,l[0],!0):(s.insert(c,l[0],!0),s.insert(a,c)),s=l[0],(s.isEmpty(f)||s.firstChild===s.lastChild&&"br"===s.firstChild.name)&&s.empty().remove()}else if(a.parent){if("li"===a.name){if(v=a.prev,v&&("ul"===v.name||"ul"===v.name)){v.append(a);continue}if(v=a.next,v&&("ul"===v.name||"ul"===v.name)){v.insert(a,v.firstChild,!0);continue}a.wrap(o.filterNode(new t("ul",1)));continue}i.isValidChild(a.parent.name,"div")&&i.isValidChild("div",a.name)?a.wrap(o.filterNode(new t("div",1))):"style"===a.name||"script"===a.name?a.empty().remove():a.unwrap()}}}var o=this,a={},s=[],l={},c={};n=n||{},n.validate="validate"in n?n.validate:!0,n.root_name=n.root_name||"body",o.schema=i=i||new e.html.Schema,o.filterNode=function(e){var t,n,i;n in a&&(i=l[n],i?i.push(e):l[n]=[e]),t=s.length;for(;t--;)n=s[t].name,n in e.attributes.map&&(i=c[n],i?i.push(e):c[n]=[e]);return e},o.addNodeFilter=function(t,n){e.each(e.explode(t),function(e){var t=a[e];t||(a[e]=t=[]),t.push(n)})},o.addAttributeFilter=function(t,n){e.each(e.explode(t),function(e){var t;for(t=0;t<s.length;t++)if(s[t].name===e)return s[t].callbacks.push(n),void 0;s.push({name:e,callbacks:[n]})})},o.parse=function(o,d){function u(){for(var e,t,n=g.firstChild;n;)e=n.next,3==n.type||1==n.type&&"p"!==n.name&&!S[n.name]&&!n.attr("data-mce-type")?t?t.append(n):(t=h(I,1),g.insert(t,n),t.append(n)):t=null,n=e}function h(e,n){var i,r=new t(e,n);return e in a&&(i=l[e],i?i.push(r):l[e]=[r]),r}function p(e){var t,n,i;for(t=e.prev;t&&3===t.type;)n=t.value.replace(A,""),n.length>0?(t.value=n,t=t.prev):(i=t.prev,t.remove(),t=i)}function f(e){var t,n={};for(t in e)"li"!==t&&"p"!=t&&(n[t]=e[t]);return n}var m,g,v,y,b,x,k,_,w,C,T,S,M,D,A,E,N,L,P,F,I,R=[];if(d=d||{},l={},c={},S=e.extend(e.makeMap("script,style,head,html,body,title,meta,param"),i.getBlockElements()),F=i.getNonEmptyElements(),P=i.children,T=n.validate,I="forced_root_block"in d?d.forced_root_block:n.forced_root_block,L=i.getWhiteSpaceElements(),M=/^[ \t\r\n]+/,A=/[ \t\r\n]+$/,E=/[ \t\r\n]+/g,N=/^[ \t\r\n]+$/,m=new e.html.SaxParser({validate:T,self_closing_elements:f(i.getSelfClosingElements()),cdata:function(e){v.append(h("#cdata",4)).value=e},text:function(e,t){var n;D||(e=e.replace(E," "),v.lastChild&&S[v.lastChild.name]&&(e=e.replace(M,""))),0!==e.length&&(n=h("#text",3),n.raw=!!t,v.append(n).value=e)},comment:function(e){v.append(h("#comment",8)).value=e},pi:function(e,t){v.append(h(e,7)).value=t,p(v)},doctype:function(e){var t;t=v.append(h("#doctype",10)),t.value=e,p(v)},start:function(e,t,n){var r,o,a,l,d;if(a=T?i.getElementRule(e):{}){for(r=h(a.outputName||e,1),r.attributes=t,r.shortEnded=n,v.append(r),d=P[v.name],d&&P[r.name]&&!d[r.name]&&R.push(r),o=s.length;o--;)l=s[o].name,l in t.map&&(w=c[l],w?w.push(r):c[l]=[r]);S[e]&&p(r),n||(v=r),!D&&L[e]&&(D=!0)}},end:function(e){var n,r,o,a,s;if(r=T?i.getElementRule(e):{}){if(S[e]&&!D){if(n=v.firstChild,n&&3===n.type)for(o=n.value.replace(M,""),o.length>0?(n.value=o,n=n.next):(a=n.next,n.remove(),n=a);n&&3===n.type;)o=n.value,a=n.next,(0===o.length||N.test(o))&&(n.remove(),n=a),n=a;if(n=v.lastChild,n&&3===n.type)for(o=n.value.replace(A,""),o.length>0?(n.value=o,n=n.prev):(a=n.prev,n.remove(),n=a);n&&3===n.type;)o=n.value,a=n.prev,(0===o.length||N.test(o))&&(n.remove(),n=a),n=a}if(D&&L[e]&&(D=!1),(r.removeEmpty||r.paddEmpty)&&v.isEmpty(F))if(r.paddEmpty)v.empty().append(new t("#text","3")).value=" ";else if(!v.attributes.map.name&&!v.attributes.map.id)return s=v.parent,v.empty().remove(),v=s,void 0;v=v.parent}}},i),g=v=new t(d.context||n.root_name,11),m.parse(o),T&&R.length&&(d.context?d.invalid=!0:r(R)),I&&"body"==g.name&&u(),!d.invalid){for(C in l){for(w=a[C],y=l[C],k=y.length;k--;)y[k].parent||y.splice(k,1);for(b=0,x=w.length;x>b;b++)w[b](y,C,d)}for(b=0,x=s.length;x>b;b++)if(w=s[b],w.name in c){for(y=c[w.name],k=y.length;k--;)y[k].parent||y.splice(k,1);for(k=0,_=w.callbacks.length;_>k;k++)w.callbacks[k](y,w.name,d)}}return g},n.remove_trailing_brs&&o.addNodeFilter("br",function(t){var n,r,o,a,s,l,c=t.length,d=e.extend({},i.getBlockElements()),u=i.getNonEmptyElements();for(d.body=1,n=0;c>n;n++)if(r=t[n],o=r.parent,d[r.parent.name]&&r===o.lastChild){for(s=r.prev;s;){if(l=s.name,"span"!==l||"bookmark"!==s.attr("data-mce-type")){if("br"!==l)break;if("br"===l){r=null;break}}s=s.prev}r&&(r.remove(),o.isEmpty(u)&&(elementRule=i.getElementRule(o.name),elementRule&&(elementRule.removeEmpty?o.remove():elementRule.paddEmpty&&(o.empty().append(new e.html.Node("#text",3)).value=" "))))}else{for(a=r;o.firstChild===a&&o.lastChild===a&&(a=o,!d[o.name]);)o=o.parent;a===o&&(textNode=new e.html.Node("#text",3),textNode.value=" ",r.replace(textNode))}}),n.allow_html_in_named_anchor||o.addAttributeFilter("id,name",function(e){for(var t,n,i,r,o=e.length;o--;)if(r=e[o],"a"===r.name&&r.firstChild&&!r.attr("href")){i=r.parent,t=r.lastChild;do n=t.prev,i.insert(t,r),t=n;while(t)}})}}(tinymce),tinymce.html.Writer=function(e){var t,n,i,r,o,a=[];return e=e||{},t=e.indent,n=tinymce.makeMap(e.indent_before||""),i=tinymce.makeMap(e.indent_after||""),r=tinymce.html.Entities.getEncodeFunc(e.entity_encoding||"raw",e.entities),o="html"==e.element_format,{start:function(e,s,l){var c,d,u,h;if(t&&n[e]&&a.length>0&&(h=a[a.length-1],h.length>0&&"\n"!==h&&a.push("\n")),a.push("<",e),s)for(c=0,d=s.length;d>c;c++)u=s[c],a.push(" ",u.name,'="',r(u.value,!0),'"');a[a.length]=!l||o?">":" />",l&&t&&i[e]&&a.length>0&&(h=a[a.length-1],h.length>0&&"\n"!==h&&a.push("\n"))},end:function(e){var n;a.push("</",e,">"),t&&i[e]&&a.length>0&&(n=a[a.length-1],n.length>0&&"\n"!==n&&a.push("\n"))},text:function(e,t){e.length>0&&(a[a.length]=t?e:r(e))},cdata:function(e){a.push("<![CDATA[",e,"]]>")},comment:function(e){a.push("<!--",e,"-->")},pi:function(e,n){n?a.push("<?",e," ",n,"?>"):a.push("<?",e,"?>"),t&&a.push("\n")},doctype:function(e){a.push("<!DOCTYPE",e,">",t?"\n":"")},reset:function(){a.length=0},getContent:function(){return a.join("").replace(/\n$/,"")}}},function(e){e.html.Serializer=function(t,n){var i=this,r=new e.html.Writer(t);t=t||{},t.validate="validate"in t?t.validate:!0,i.schema=n=n||new e.html.Schema,i.writer=r,i.serialize=function(e){function i(e){var t,s,l,c,d,u,h,p,f,m=o[e.type];if(m)m(e);else{if(t=e.name,s=e.shortEnded,l=e.attributes,a&&l&&l.length>1){for(u=[],u.map={},f=n.getElementRule(e.name),h=0,p=f.attributesOrder.length;p>h;h++)c=f.attributesOrder[h],c in l.map&&(d=l.map[c],u.map[c]=d,u.push({name:c,value:d}));for(h=0,p=l.length;p>h;h++)c=l[h].name,c in u.map||(d=l.map[c],u.map[c]=d,u.push({name:c,value:d}));l=u}if(r.start(e.name,l,s),!s){if(e=e.firstChild)do i(e);while(e=e.next);r.end(t)}}}var o,a;return a=t.validate,o={3:function(e){r.text(e.value,e.raw)},8:function(e){r.comment(e.value)},7:function(e){r.pi(e.name,e.value)},10:function(e){r.doctype(e.value)},4:function(e){r.cdata(e.value)},11:function(e){if(e=e.firstChild)do i(e);while(e=e.next)}},r.reset(),1!=e.type||t.inner?o[11](e):i(e),r.getContent()}}}(tinymce),tinymce.dom={},function(e,t){function n(e,t,n,i){e.addEventListener?e.addEventListener(t,n,i||!1):e.attachEvent&&e.attachEvent("on"+t,n)}function i(e,t,n,i){e.removeEventListener?e.removeEventListener(t,n,i||!1):e.detachEvent&&e.detachEvent("on"+t,n)}function r(e,t){function n(){return!1}function i(){return!0}var r,o=t||{};for(r in e)"layerX"!==r&&"layerY"!==r&&(o[r]=e[r]);return o.target||(o.target=o.srcElement||document),o.preventDefault=function(){o.isDefaultPrevented=i,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},o.stopPropagation=function(){o.isPropagationStopped=i,e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)},o.stopImmediatePropagation=function(){o.isImmediatePropagationStopped=i,o.stopPropagation()},o.isDefaultPrevented||(o.isDefaultPrevented=n,o.isPropagationStopped=n,o.isImmediatePropagationStopped=n),o}function o(e,t,r){function o(){r.domLoaded||(r.domLoaded=!0,t(l))}var a=e.document,l={type:"ready"};return"complete"==a.readyState?(o(),void 0):(s?n(e,"DOMContentLoaded",o):(n(a,"readystatechange",function(){"complete"===a.readyState&&(i(a,"readystatechange",arguments.callee),o())}),a.documentElement.doScroll&&e===e.top&&!function(){try{a.documentElement.doScroll("left")}catch(e){return setTimeout(arguments.callee,0),void 0}o()}()),n(e,"load",o),void 0)}function a(e){function a(e,t){var n,i,r,o;if(n=p[t][e.type])for(i=0,r=n.length;r>i;i++)if(o=n[i],o&&o.func.call(o.scope,e)===!1&&e.preventDefault(),e.isImmediatePropagationStopped())return}var l,c,d,u,h=this,p={};d="onmouseenter"in document.documentElement,c="onfocusin"in document.documentElement,u={mouseenter:"mouseover",mouseleave:"mouseout"},l=1,h.domLoaded=!1,h.events=p,h.bind=function(i,f,m,g){function v(e){a(r(e||T.event),y)}var y,b,x,k,_,w,C,T=window;if(i&&3!==i.nodeType&&8!==i.nodeType){for(i[t]?(y=i[t],p[y]||(p[y]={})):(y=l++,i[t]=y,p[y]={}),g=g||i,f=f.split(" "),x=f.length;x--;)k=f[x],w=v,_=C=!1,"DOMContentLoaded"===k&&(k="ready"),!h.domLoaded&&"complete"!=i.readyState||"ready"!==k?(d||(_=u[k],_&&(w=function(e){var t,n;if(t=e.currentTarget,n=e.relatedTarget,n&&t.contains)n=t.contains(n);else for(;n&&n!==t;)n=n.parentNode;n||(e=r(e||T.event),e.type="mouseout"===e.type?"mouseleave":"mouseenter",e.target=t,a(e,y))})),c||"focusin"!==k&&"focusout"!==k||(C=!0,_="focusin"===k?"focus":"blur",w=function(e){e=r(e||T.event),e.type="focus"===e.type?"focusin":"focusout",a(e,y)}),b=p[y][k],b?b.push({func:m,scope:g}):(p[y][k]=b=[{func:m,scope:g}],b.fakeName=_,b.capture=C,b.nativeHandler=w,s||(b.proxyHandler=e(y)),"ready"===k?o(i,w,h):n(i,_||k,s?w:b.proxyHandler,C))):(h.domLoaded=!0,m.call(g,r({type:k})));return i=b=0,m}},h.unbind=function(e,n,r){var o,a,l,c,d,u;if(!e||3===e.nodeType||8===e.nodeType)return h;if(o=e[t]){if(u=p[o],n){for(n=n.split(" "),l=n.length;l--;)if(d=n[l],a=u[d]){if(r)for(c=a.length;c--;)a[c].func===r&&a.splice(c,1);r&&0!==a.length||(delete u[d],i(e,a.fakeName||d,s?a.nativeHandler:a.proxyHandler,a.capture))}}else{for(d in u)a=u[d],i(e,a.fakeName||d,s?a.nativeHandler:a.proxyHandler,a.capture);u={}}for(d in u)return h;delete p[o];try{delete e[t]}catch(f){e[t]=null}}return h},h.fire=function(e,n,i){var o,s;if(!e||3===e.nodeType||8===e.nodeType)return h;s=r(null,i),s.type=n;do o=e[t],o&&a(s,o),e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow;while(e&&!s.isPropagationStopped());return h},h.clean=function(e){var n,i,r=h.unbind;if(!e||3===e.nodeType||8===e.nodeType)return h;if(e[t]&&r(e),e.getElementsByTagName||(e=e.document),e&&e.getElementsByTagName)for(r(e),i=e.getElementsByTagName("*"),n=i.length;n--;)e=i[n],e[t]&&r(e);return h},h.callNativeHandler=function(e,t){p&&p[e][t.type].nativeHandler(t)},h.destory=function(){p={}},h.add=function(e,t,n,i){"string"==typeof e&&(e=document.getElementById(e));{if(!(e&&e instanceof Array))return"init"===t&&(t="ready"),h.bind(e,t instanceof Array?t.join(" "):t,n,i);for(var r=e.length;r--;)h.add(e[r],t,n,i)}},h.remove=function(e,t,n,i){if(!e)return h;if("string"==typeof e&&(e=document.getElementById(e)),e instanceof Array){for(var r=e.length;r--;)h.remove(e[r],t,n,i);return h}return h.unbind(e,t instanceof Array?t.join(" "):t,n)},h.clear=function(e){return"string"==typeof e&&(e=document.getElementById(e)),h.clean(e)},h.cancel=function(e){return e&&(h.prevent(e),h.stop(e)),!1},h.prevent=function(e){return e.preventDefault||(e=r(e)),e.preventDefault(),!1},h.stop=function(e){return e.stopPropagation||(e=r(e)),e.stopPropagation(),!1}}var s=!!document.addEventListener;e.EventUtils=a,e.Event=new a(function(e){return function(t){tinymce.dom.Event.callNativeHandler(e,t)}}),e.Event.bind(window,"ready",function(){}),e=0}(tinymce.dom,"data-mce-expando"),tinymce.dom.TreeWalker=function(e,t){function n(e,n,i,r){var o,a;if(e){if(!r&&e[n])return e[n];if(e!=t){if(o=e[i])return o;for(a=e.parentNode;a&&a!=t;a=a.parentNode)if(o=a[i])return o}}}var i=e;this.current=function(){return i},this.next=function(e){return i=n(i,"firstChild","nextSibling",e)},this.prev=function(e){return i=n(i,"lastChild","previousSibling",e)}},function(e){var t=e.each,n=e.is,i=e.isWebKit,r=e.isIE,o=e.html.Entities,a=/^[ \t\r\n]*$/;e.create("tinymce.dom.DOMUtils",{doc:null,root:null,files:null,pixelStyles:/^(top|left|bottom|right|width|height|borderWidth)$/,props:{"for":"htmlFor","class":"className",className:"className",checked:"checked",disabled:"disabled",maxlength:"maxLength",readonly:"readOnly",selected:"selected",value:"value",id:"id",name:"name",type:"type"},DOMUtils:function(t,n){var i,r=this;if(r.doc=t,r.win=window,r.files={},r.cssFlicker=!1,r.counter=0,r.stdMode=!e.isIE||t.documentMode>=8,r.boxModel=!e.isIE||"CSS1Compat"==t.compatMode||r.stdMode,r.hasOuterHTML="outerHTML"in t.createElement("a"),r.settings=n=e.extend({keep_values:!1,hex_colors:1},n),r.schema=n.schema,r.styles=new e.html.Styles({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope},n.schema),e.isIE6)try{t.execCommand("BackgroundImageCache",!1,!0)}catch(o){r.cssFlicker=!0}r.fixDoc(t),r.events=n.ownEvents?new e.dom.EventUtils(n.proxy):e.dom.Event,e.addUnload(r.destroy,r),i=n.schema?n.schema.getBlockElements():{},r.isBlock=function(e){if(!e)return!1;var t=e.nodeType;return t?!(1!==t||!i[e.nodeName]):!!i[e]}},fixDoc:function(e){var t,n=this.settings;if(r&&n.schema){"abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video".replace(/\w+/g,function(t){e.createElement(t)});for(t in n.schema.getCustomElements())e.createElement(t)}},clone:function(e,n){var i,o,a=this;return!r||1!==e.nodeType||n?e.cloneNode(n):(o=a.doc,n?i.firstChild:(i=o.createElement(e.nodeName),t(a.getAttribs(e),function(t){a.setAttrib(i,t.nodeName,a.getAttrib(e,t.nodeName))}),i))},getRoot:function(){var e=this,t=e.settings;return t&&e.get(t.root_element)||e.doc.body},getViewPort:function(e){var t,n;return e=e?e:this.win,t=e.document,n=this.boxModel?t.documentElement:t.body,{x:e.pageXOffset||n.scrollLeft,y:e.pageYOffset||n.scrollTop,w:e.innerWidth||n.clientWidth,h:e.innerHeight||n.clientHeight}},getRect:function(e){var t,n,i=this;return e=i.get(e),t=i.getPos(e),n=i.getSize(e),{x:t.x,y:t.y,w:n.w,h:n.h}},getSize:function(e){var t,n,i=this;return e=i.get(e),t=i.getStyle(e,"width"),n=i.getStyle(e,"height"),-1===t.indexOf("px")&&(t=0),-1===n.indexOf("px")&&(n=0),{w:parseInt(t,10)||e.offsetWidth||e.clientWidth,h:parseInt(n,10)||e.offsetHeight||e.clientHeight}},getParent:function(e,t,n){return this.getParents(e,t,n,!1)},getParents:function(e,t,i,r){var o,a=this,s=a.settings,l=[];for(e=a.get(e),r=void 0===r,s.strict_root&&(i=i||a.getRoot()),n(t,"string")&&(o=t,t="*"===t?function(e){return 1==e.nodeType}:function(e){return a.is(e,o)});e&&e!=i&&e.nodeType&&9!==e.nodeType;){if(!t||t(e)){if(!r)return e;l.push(e)}e=e.parentNode}return r?l:null},get:function(e){var t;return e&&this.doc&&"string"==typeof e&&(t=e,e=this.doc.getElementById(e),e&&e.id!==t)?this.doc.getElementsByName(t)[1]:e},getNext:function(e,t){return this._findSib(e,t,"nextSibling")},getPrev:function(e,t){return this._findSib(e,t,"previousSibling")},add:function(e,t,i,r,o){var a=this;return this.run(e,function(e){var s;return s=n(t,"string")?a.doc.createElement(t):t,a.setAttribs(s,i),r&&(r.nodeType?s.appendChild(r):a.setHTML(s,r)),o?s:e.appendChild(s)})},create:function(e,t,n){return this.add(this.doc.createElement(e),e,t,n,1)},createHTML:function(e,t,n){var i,r="",o=this;r+="<"+e;for(i in t)t.hasOwnProperty(i)&&(r+=" "+i+'="'+o.encode(t[i])+'"');return"undefined"!=typeof n?r+">"+n+"</"+e+">":r+" />"},remove:function(t,n){return this.run(t,function(t){var i,r=t.parentNode;if(!r)return null;if(n)for(;i=t.firstChild;)!e.isIE||3!==i.nodeType||i.nodeValue?r.insertBefore(i,t):t.removeChild(i);return r.removeChild(t)})},setStyle:function(t,n,i){var o=this;return o.run(t,function(a){var s;switch(s=a.style,n=n.replace(/-(\D)/g,function(e,t){return t.toUpperCase()}),o.pixelStyles.test(n)&&(e.is(i,"number")||/^[\-0-9\.]+$/.test(i))&&(i+="px"),n){case"opacity":r&&(s.filter=""===i?"":"alpha(opacity="+100*i+")",t.currentStyle&&t.currentStyle.hasLayout||(s.display="inline-block")),s[n]=s["-moz-opacity"]=s["-khtml-opacity"]=i||"";break;case"float":r?s.styleFloat=i:s.cssFloat=i;break;default:s[n]=i||""}o.settings.update_styles&&o.setAttrib(a,"data-mce-style")})},getStyle:function(e,t,n){if(e=this.get(e)){if(this.doc.defaultView&&n){t=t.replace(/[A-Z]/g,function(e){return"-"+e});try{return this.doc.defaultView.getComputedStyle(e,null).getPropertyValue(t)}catch(i){return null}}return t=t.replace(/-(\D)/g,function(e,t){return t.toUpperCase()}),"float"==t&&(t=r?"styleFloat":"cssFloat"),e.currentStyle&&n?e.currentStyle[t]:e.style?e.style[t]:void 0}},setStyles:function(e,n){var i,r=this,o=r.settings;i=o.update_styles,o.update_styles=0,t(n,function(t,n){r.setStyle(e,n,t)}),o.update_styles=i,o.update_styles&&r.setAttrib(e,o.cssText)},removeAllAttribs:function(e){return this.run(e,function(e){var t,n=e.attributes;for(t=n.length-1;t>=0;t--)e.removeAttributeNode(n.item(t))})},setAttrib:function(e,i,r){var o=this;if(e&&i)return o.settings.strict&&(i=i.toLowerCase()),this.run(e,function(e){var a=o.settings,s=e.getAttribute(i);if(null!==r)switch(i){case"style":if(!n(r,"string"))return t(r,function(t,n){o.setStyle(e,n,t)}),void 0;a.keep_values&&(r&&!o._isRes(r)?e.setAttribute("data-mce-style",r,2):e.removeAttribute("data-mce-style",2)),e.style.cssText=r;break;case"class":e.className=r||"";break;case"src":case"href":a.keep_values&&(a.url_converter&&(r=a.url_converter.call(a.url_converter_scope||o,r,i,e)),o.setAttrib(e,"data-mce-"+i,r,2));break;case"shape":e.setAttribute("data-mce-style",r)}if(n(r)&&null!==r&&0!==r.length?e.setAttribute(i,""+r,2):e.removeAttribute(i,2),tinyMCE.activeEditor&&s!=r){var l=tinyMCE.activeEditor;l.onSetAttrib.dispatch(l,e,i,r)}})},setAttribs:function(e,n){var i=this;return this.run(e,function(e){t(n,function(t,n){i.setAttrib(e,n,t)})})},getAttrib:function(t,o,a){var s,l,c=this;if(t=c.get(t),!t||1!==t.nodeType)return a===l?!1:a;if(n(a)||(a=""),/^(src|href|style|coords|shape)$/.test(o)&&(s=t.getAttribute("data-mce-"+o)))return s;if(r&&c.props[o]&&(s=t[c.props[o]],s=s&&s.nodeValue?s.nodeValue:s),s||(s=t.getAttribute(o,2)),/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noshade|nowrap|readonly|selected)$/.test(o))return t[c.props[o]]===!0&&""===s?o:s?o:"";if("FORM"===t.nodeName&&t.getAttributeNode(o))return t.getAttributeNode(o).nodeValue;if("style"===o&&(s=s||t.style.cssText,s&&(s=c.serializeStyle(c.parseStyle(s),t.nodeName),c.settings.keep_values&&!c._isRes(s)&&t.setAttribute("data-mce-style",s))),i&&"class"===o&&s&&(s=s.replace(/(apple|webkit)\-[a-z\-]+/gi,"")),r)switch(o){case"rowspan":case"colspan":1===s&&(s="");break;case"size":("+0"===s||20===s||0===s)&&(s="");break;case"width":case"height":case"vspace":case"checked":case"disabled":case"readonly":0===s&&(s="");break;case"hspace":-1===s&&(s="");break;case"maxlength":case"tabindex":(32768===s||2147483647===s||"32768"===s)&&(s="");break;case"multiple":case"compact":case"noshade":case"nowrap":return 65535===s?o:a;case"shape":s=s.toLowerCase();break;default:0===o.indexOf("on")&&s&&(s=e._replace(/^function\s+\w+\(\)\s+\{\s+(.*)\s+\}$/,"$1",""+s))}return s!==l&&null!==s&&""!==s?""+s:a},getPos:function(e,t){var n,i,r=this,o=0,a=0,s=r.doc;if(e=r.get(e),t=t||s.body,e){if(e.getBoundingClientRect)return e=e.getBoundingClientRect(),n=r.boxModel?s.documentElement:s.body,o=e.left+(s.documentElement.scrollLeft||s.body.scrollLeft)-n.clientTop,a=e.top+(s.documentElement.scrollTop||s.body.scrollTop)-n.clientLeft,{x:o,y:a};for(i=e;i&&i!=t&&i.nodeType;)o+=i.offsetLeft||0,a+=i.offsetTop||0,i=i.offsetParent;for(i=e.parentNode;i&&i!=t&&i.nodeType;)o-=i.scrollLeft||0,a-=i.scrollTop||0,i=i.parentNode}return{x:o,y:a}},parseStyle:function(e){return this.styles.parse(e)},serializeStyle:function(e,t){return this.styles.serialize(e,t)},addStyle:function(e){var t,n=this.doc;styleElm=n.getElementById("mceDefaultStyles"),styleElm||(styleElm=n.createElement("style"),styleElm.id="mceDefaultStyles",styleElm.type="text/css",t=n.getElementsByTagName("head")[0],t.firstChild?t.insertBefore(styleElm,t.firstChild):t.appendChild(styleElm)),styleElm.styleSheet?styleElm.styleSheet.cssText+=e:styleElm.appendChild(n.createTextNode(e))},loadCSS:function(n){var i,o=this,a=o.doc;n||(n=""),i=a.getElementsByTagName("head")[0],t(n.split(","),function(t){var n;o.files[t]||(o.files[t]=!0,n=o.create("link",{rel:"stylesheet",href:e._addVer(t)}),r&&a.documentMode&&a.recalc&&(n.onload=function(){a.recalc&&a.recalc(),n.onload=null}),i.appendChild(n))})},addClass:function(e,t){return this.run(e,function(e){var n;return t?this.hasClass(e,t)?e.className:(n=this.removeClass(e,t),e.className=(""!=n?n+" ":"")+t):0})},removeClass:function(t,n){var i,r=this;return r.run(t,function(t){var o;return r.hasClass(t,n)?(i||(i=new RegExp("(^|\\s+)"+n+"(\\s+|$)","g")),o=t.className.replace(i," "),o=e.trim(" "!=o?o:""),t.className=o,o||(t.removeAttribute("class"),t.removeAttribute("className")),o):t.className})},hasClass:function(e,t){return e=this.get(e),e&&t?-1!==(" "+e.className+" ").indexOf(" "+t+" "):!1},show:function(e){return this.setStyle(e,"display","block")},hide:function(e){return this.setStyle(e,"display","none")},isHidden:function(e){return e=this.get(e),!e||"none"==e.style.display||"none"==this.getStyle(e,"display")},uniqueId:function(e){return(e?e:"mce_")+this.counter++},setHTML:function(n,i){var o=this;return o.run(n,function(n){if(r){for(;n.firstChild;)n.removeChild(n.firstChild);try{n.innerHTML="<br />"+i,n.removeChild(n.firstChild)}catch(a){var s=o.create("div");s.innerHTML="<br />"+i,t(e.grep(s.childNodes),function(e,t){t&&n.canHaveHTML&&n.appendChild(e)})}}else n.innerHTML=i;return i})},getOuterHTML:function(e){var t,n=this;return(e=n.get(e))?1===e.nodeType&&n.hasOuterHTML?e.outerHTML:(t=(e.ownerDocument||n.doc).createElement("body"),t.appendChild(e.cloneNode(!0)),t.innerHTML):null},setOuterHTML:function(e,t,n){function i(e,t,n){var i,r;for(r=n.createElement("body"),r.innerHTML=t,i=r.lastChild;i;)o.insertAfter(i.cloneNode(!0),e),i=i.previousSibling;o.remove(e)}var o=this;return this.run(e,function(e){if(e=o.get(e),1==e.nodeType)if(n=n||e.ownerDocument||o.doc,r)try{r&&1==e.nodeType?e.outerHTML=t:i(e,t,n)}catch(a){i(e,t,n)}else i(e,t,n)})},decode:o.decode,encode:o.encodeAllRaw,insertAfter:function(e,t){return t=this.get(t),this.run(e,function(e){var n,i;return n=t.parentNode,i=t.nextSibling,i?n.insertBefore(e,i):n.appendChild(e),e})},replace:function(i,r,o){var a=this;return n(r,"array")&&(i=i.cloneNode(!0)),a.run(r,function(n){return o&&t(e.grep(n.childNodes),function(e){i.appendChild(e)}),n.parentNode.replaceChild(i,n)})},rename:function(e,n){var i,r=this;return e.nodeName!=n.toUpperCase()&&(i=r.create(n),t(r.getAttribs(e),function(t){r.setAttrib(i,t.nodeName,r.getAttrib(e,t.nodeName))}),r.replace(i,e,1)),i||e},findCommonAncestor:function(e,t){for(var n,i=e;i;){for(n=t;n&&i!=n;)n=n.parentNode;if(i==n)break;i=i.parentNode}return!i&&e.ownerDocument?e.ownerDocument.documentElement:i},toHex:function(e){function t(e){return e=parseInt(e,10).toString(16),e.length>1?e:"0"+e}var n=/^\s*rgb\s*?\(\s*?([0-9]+)\s*?,\s*?([0-9]+)\s*?,\s*?([0-9]+)\s*?\)\s*$/i.exec(e);return n?e="#"+t(n[1])+t(n[2])+t(n[3]):e},getClasses:function(){function n(r){t(r.imports,function(e){n(e)}),t(r.cssRules||r.rules,function(r){switch(r.type||1){case 1:r.selectorText&&t(r.selectorText.split(","),function(t){t=t.replace(/^\s*|\s*$|^\s\./g,""),!/\.mce/.test(t)&&/\.[\w\-]+$/.test(t)&&(i=t,t=e._replace(/.*\.([a-z0-9_\-]+).*/i,"$1",t),(!s||(t=s(t,i)))&&(a[t]||(o.push({"class":t}),a[t]=1)))});break;case 3:n(r.styleSheet)}})}var i,r=this,o=[],a={},s=r.settings.class_filter;if(r.classes)return r.classes;try{t(r.doc.styleSheets,n)}catch(l){}return o.length>0&&(r.classes=o),o},run:function(e,n,i){var r,o=this;return o.doc&&"string"==typeof e&&(e=o.get(e)),e?(i=i||this,e.nodeType||!e.length&&0!==e.length?n.call(i,e):(r=[],t(e,function(e,t){e&&("string"==typeof e&&(e=o.doc.getElementById(e)),r.push(n.call(i,e,t)))}),r)):!1},getAttribs:function(e){var t;return e=this.get(e),e?r?(t=[],"OBJECT"==e.nodeName?e.attributes:("OPTION"===e.nodeName&&this.getAttrib(e,"selected")&&t.push({specified:1,nodeName:"selected"}),e.cloneNode(!1).outerHTML.replace(/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi,"").replace(/[\w:\-]+/gi,function(e){t.push({specified:1,nodeName:e})
}),t)):e.attributes:[]},isEmpty:function(t,n){var i,r,o,s,l,c=this,d=0;if(t=t.firstChild){s=new e.dom.TreeWalker(t,t.parentNode),n=n||c.schema?c.schema.getNonEmptyElements():null;do{if(o=t.nodeType,1===o){if(t.getAttribute("data-mce-bogus"))continue;if(l=t.nodeName.toLowerCase(),n&&n[l]){if("br"===l){d++;continue}return!1}for(r=c.getAttribs(t),i=t.attributes.length;i--;)if(l=t.attributes[i].nodeName,"name"===l||"data-mce-bookmark"===l)return!1}if(8==o)return!1;if(3===o&&!a.test(t.nodeValue))return!1}while(t=s.next())}return 1>=d},destroy:function(t){var n=this;n.win=n.doc=n.root=n.events=n.frag=null,t||e.removeUnload(n.destroy)},createRng:function(){var t=this.doc;return t.createRange?t.createRange():new e.dom.Range(this)},nodeIndex:function(e,t){var n,i,r,o=0;if(e)for(n=e.nodeType,e=e.previousSibling,i=e;e;e=e.previousSibling)r=e.nodeType,(!t||3!=r||r!=n&&e.nodeValue.length)&&(o++,n=r);return o},split:function(t,n,i){function r(t){function n(e){var t=e.previousSibling&&"SPAN"==e.previousSibling.nodeName,n=e.nextSibling&&"SPAN"==e.nextSibling.nodeName;return t&&n}var i,o=t.childNodes,a=t.nodeType;if(1!=a||"bookmark"!=t.getAttribute("data-mce-type")){for(i=o.length-1;i>=0;i--)r(o[i]);if(9!=a){if(3==a&&t.nodeValue.length>0){var s=e.trim(t.nodeValue).length;if(!l.isBlock(t.parentNode)||s>0||0===s&&n(t))return}else if(1==a&&(o=t.childNodes,1==o.length&&o[0]&&1==o[0].nodeType&&"bookmark"==o[0].getAttribute("data-mce-type")&&t.parentNode.insertBefore(o[0],t),o.length||/^(br|hr|input|img)$/i.test(t.nodeName)))return;l.remove(t)}return t}}var o,a,s,l=this,c=l.createRng();return t&&n?(c.setStart(t.parentNode,l.nodeIndex(t)),c.setEnd(n.parentNode,l.nodeIndex(n)),o=c.extractContents(),c=l.createRng(),c.setStart(n.parentNode,l.nodeIndex(n)+1),c.setEnd(t.parentNode,l.nodeIndex(t)+1),a=c.extractContents(),s=t.parentNode,s.insertBefore(r(o),t),i?s.replaceChild(i,n):s.insertBefore(n,t),s.insertBefore(r(a),t),l.remove(t),i||n):void 0},bind:function(e,t,n,i){return this.events.add(e,t,n,i||this)},unbind:function(e,t,n){return this.events.remove(e,t,n)},fire:function(e,t,n){return this.events.fire(e,t,n)},getContentEditable:function(e){var t;return 1!=e.nodeType?null:(t=e.getAttribute("data-mce-contenteditable"),t&&"inherit"!==t?t:"inherit"!==e.contentEditable?e.contentEditable:null)},_findSib:function(e,t,i){var r=this,o=t;if(e)for(n(o,"string")&&(o=function(e){return r.is(e,t)}),e=e[i];e;e=e[i])if(o(e))return e;return null},_isRes:function(e){return/^(top|left|bottom|right|width|height)/i.test(e)||/;\s*(top|left|bottom|right|width|height)/i.test(e)}}),e.DOM=new e.dom.DOMUtils(document,{process_html:0})}(tinymce),function(e){function t(e){function n(){return F.createDocumentFragment()}function i(e,t){_(O,e,t)}function r(e,t){_(H,e,t)}function o(e){i(e.parentNode,V(e))}function a(e){i(e.parentNode,V(e)+1)}function s(e){r(e.parentNode,V(e))}function l(e){r(e.parentNode,V(e)+1)}function c(e){e?(P[$]=P[j],P[W]=P[z]):(P[j]=P[$],P[z]=P[W]),P.collapsed=O}function d(e){o(e),l(e)}function u(e){i(e,0),r(e,1===e.nodeType?e.childNodes.length:e.nodeValue.length)}function h(e,t){var n=P[j],i=P[z],r=P[$],o=P[W],a=t.startContainer,s=t.startOffset,l=t.endContainer,c=t.endOffset;return 0===e?k(n,i,a,s):1===e?k(r,o,a,s):2===e?k(r,o,l,c):3===e?k(n,i,l,c):void 0}function p(){w(B)}function f(){return w(I)}function m(){return w(R)}function g(t){var n,i,r=this[j],o=this[z];3!==r.nodeType&&4!==r.nodeType||!r.nodeValue?(r.childNodes.length>0&&(i=r.childNodes[o]),i?r.insertBefore(t,i):r.appendChild(t)):o?o>=r.nodeValue.length?e.insertAfter(t,r):(n=r.splitText(o),r.parentNode.insertBefore(t,n)):r.parentNode.insertBefore(t,r)}function v(e){var t=P.extractContents();P.insertNode(e),e.appendChild(t),P.selectNode(e)}function y(){return Y(new t(e),{startContainer:P[j],startOffset:P[z],endContainer:P[$],endOffset:P[W],collapsed:P.collapsed,commonAncestorContainer:P.commonAncestorContainer})}function b(e,t){var n;if(3==e.nodeType)return e;if(0>t)return e;for(n=e.firstChild;n&&t>0;)--t,n=n.nextSibling;return n?n:e}function x(){return P[j]==P[$]&&P[z]==P[W]}function k(t,n,i,r){var o,a,s,l,c,d;if(t==i)return n==r?0:r>n?-1:1;for(o=i;o&&o.parentNode!=t;)o=o.parentNode;if(o){for(a=0,s=t.firstChild;s!=o&&n>a;)a++,s=s.nextSibling;return a>=n?-1:1}for(o=t;o&&o.parentNode!=i;)o=o.parentNode;if(o){for(a=0,s=i.firstChild;s!=o&&r>a;)a++,s=s.nextSibling;return r>a?-1:1}for(l=e.findCommonAncestor(t,i),c=t;c&&c.parentNode!=l;)c=c.parentNode;for(c||(c=l),d=i;d&&d.parentNode!=l;)d=d.parentNode;if(d||(d=l),c==d)return 0;for(s=l.firstChild;s;){if(s==c)return-1;if(s==d)return 1;s=s.nextSibling}}function _(t,n,i){var r,o;for(t?(P[j]=n,P[z]=i):(P[$]=n,P[W]=i),r=P[$];r.parentNode;)r=r.parentNode;for(o=P[j];o.parentNode;)o=o.parentNode;o==r?k(P[j],P[z],P[$],P[W])>0&&P.collapse(t):P.collapse(t),P.collapsed=x(),P.commonAncestorContainer=e.findCommonAncestor(P[j],P[$])}function w(e){var t,n,i,r,o,a,s,l=0,c=0;if(P[j]==P[$])return C(e);for(t=P[$],n=t.parentNode;n;t=n,n=n.parentNode){if(n==P[j])return T(t,e);++l}for(t=P[j],n=t.parentNode;n;t=n,n=n.parentNode){if(n==P[$])return S(t,e);++c}for(i=c-l,r=P[j];i>0;)r=r.parentNode,i--;for(o=P[$];0>i;)o=o.parentNode,i++;for(a=r.parentNode,s=o.parentNode;a!=s;a=a.parentNode,s=s.parentNode)r=a,o=s;return M(r,o,e)}function C(e){var t,i,r,o,a,s,l,c,d;if(e!=B&&(t=n()),P[z]==P[W])return t;if(3==P[j].nodeType){if(i=P[j].nodeValue,r=i.substring(P[z],P[W]),e!=R&&(o=P[j],c=P[z],d=P[W]-P[z],0===c&&d>=o.nodeValue.length-1?o.parentNode.removeChild(o):o.deleteData(c,d),P.collapse(O)),e==B)return;return r.length>0&&t.appendChild(F.createTextNode(r)),t}for(o=b(P[j],P[z]),a=P[W]-P[z];o&&a>0;)s=o.nextSibling,l=N(o,e),t&&t.appendChild(l),--a,o=s;return e!=R&&P.collapse(O),t}function T(e,t){var i,r,o,a,s,l;if(t!=B&&(i=n()),r=D(e,t),i&&i.appendChild(r),o=V(e),a=o-P[z],0>=a)return t!=R&&(P.setEndBefore(e),P.collapse(H)),i;for(r=e.previousSibling;a>0;)s=r.previousSibling,l=N(r,t),i&&i.insertBefore(l,i.firstChild),--a,r=s;return t!=R&&(P.setEndBefore(e),P.collapse(H)),i}function S(e,t){var i,r,o,a,s,l;for(t!=B&&(i=n()),o=A(e,t),i&&i.appendChild(o),r=V(e),++r,a=P[W]-r,o=e.nextSibling;o&&a>0;)s=o.nextSibling,l=N(o,t),i&&i.appendChild(l),--a,o=s;return t!=R&&(P.setStartAfter(e),P.collapse(O)),i}function M(e,t,i){var r,o,a,s,l,c,d,u;for(i!=B&&(o=n()),r=A(e,i),o&&o.appendChild(r),a=e.parentNode,s=V(e),l=V(t),++s,c=l-s,d=e.nextSibling;c>0;)u=d.nextSibling,r=N(d,i),o&&o.appendChild(r),d=u,--c;return r=D(t,i),o&&o.appendChild(r),i!=R&&(P.setStartAfter(e),P.collapse(O)),o}function D(e,t){var n,i,r,o,a,s=b(P[$],P[W]-1),l=s!=P[$];if(s==e)return E(s,l,H,t);for(n=s.parentNode,i=E(n,H,H,t);n;){for(;s;)r=s.previousSibling,o=E(s,l,H,t),t!=B&&i.insertBefore(o,i.firstChild),l=O,s=r;if(n==e)return i;s=n.previousSibling,n=n.parentNode,a=E(n,H,H,t),t!=B&&a.appendChild(i),i=a}}function A(e,t){var n,i,r,o,a,s=b(P[j],P[z]),l=s!=P[j];if(s==e)return E(s,l,O,t);for(n=s.parentNode,i=E(n,H,O,t);n;){for(;s;)r=s.nextSibling,o=E(s,l,O,t),t!=B&&i.appendChild(o),l=O,s=r;if(n==e)return i;s=n.nextSibling,n=n.parentNode,a=E(n,H,O,t),t!=B&&a.appendChild(i),i=a}}function E(t,n,i,r){var o,a,s,l,c;if(n)return N(t,r);if(3==t.nodeType){if(o=t.nodeValue,i?(l=P[z],a=o.substring(l),s=o.substring(0,l)):(l=P[W],a=o.substring(0,l),s=o.substring(l)),r!=R&&(t.nodeValue=s),r==B)return;return c=e.clone(t,H),c.nodeValue=a,c}if(r!=B)return e.clone(t,H)}function N(t,n){return n!=B?n==R?e.clone(t,O):t:(t.parentNode.removeChild(t),void 0)}function L(){return e.create("body",null,m()).outerText}var P=this,F=e.doc,I=0,R=1,B=2,O=!0,H=!1,z="startOffset",j="startContainer",$="endContainer",W="endOffset",Y=tinymce.extend,V=e.nodeIndex;return Y(P,{startContainer:F,startOffset:0,endContainer:F,endOffset:0,collapsed:O,commonAncestorContainer:F,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:i,setEnd:r,setStartBefore:o,setStartAfter:a,setEndBefore:s,setEndAfter:l,collapse:c,selectNode:d,selectNodeContents:u,compareBoundaryPoints:h,deleteContents:p,extractContents:f,cloneContents:m,insertNode:g,surroundContents:v,cloneRange:y,toStringIE:L}),P}e.Range=t,t.prototype.toString=function(){return this.toStringIE()}}(tinymce.dom),function(){function e(e){function t(t,n){var i,r,o,a,s,l,c,d,u=0,h=-1;if(i=t.duplicate(),i.collapse(n),d=i.parentElement(),d.ownerDocument===e.dom.doc){for(;"false"===d.contentEditable;)d=d.parentNode;if(!d.hasChildNodes())return{node:d,inside:1};for(a=d.children,r=a.length-1;r>=u;)if(c=Math.floor((u+r)/2),s=a[c],i.moveToElementText(s),h=i.compareEndPoints(n?"StartToStart":"EndToEnd",t),h>0)r=c-1;else{if(!(0>h))return{node:s};u=c+1}if(0>h)for(s?i.collapse(!1):(i.moveToElementText(d),i.collapse(!0),s=d,o=!0),l=0;0!==i.compareEndPoints(n?"StartToStart":"StartToEnd",t)&&0!==i.move("character",1)&&d==i.parentElement();)l++;else for(i.collapse(!0),l=0;0!==i.compareEndPoints(n?"StartToStart":"StartToEnd",t)&&0!==i.move("character",-1)&&d==i.parentElement();)l++;return{node:s,position:h,offset:l,inside:o}}}function n(){function n(e){var n,i,r,o,a,s=t(d,e),l=0;if(n=s.node,i=s.offset,s.inside&&!n.hasChildNodes())return u[e?"setStart":"setEnd"](n,0),void 0;if(i===o)return u[e?"setStartBefore":"setEndAfter"](n),void 0;if(s.position<0){if(r=s.inside?n.firstChild:n.nextSibling,!r)return u[e?"setStartAfter":"setEndAfter"](n),void 0;if(!i)return 3==r.nodeType?u[e?"setStart":"setEnd"](r,0):u[e?"setStartBefore":"setEndBefore"](r),void 0;for(;r;){if(a=r.nodeValue,l+=a.length,l>=i){n=r,l-=i,l=a.length-l;break}r=r.nextSibling}}else{if(r=n.previousSibling,!r)return u[e?"setStartBefore":"setEndBefore"](n);if(!i)return 3==n.nodeType?u[e?"setStart":"setEnd"](r,n.nodeValue.length):u[e?"setStartAfter":"setEndAfter"](r),void 0;for(;r;){if(l+=r.nodeValue.length,l>=i){n=r,l-=i;break}r=r.previousSibling}}u[e?"setStart":"setEnd"](n,l)}var o,a,s,l,c,d=e.getRng(),u=r.createRng();if(o=d.item?d.item(0):d.parentElement(),o.ownerDocument!=r.doc)return u;if(a=e.isCollapsed(),d.item)return u.setStart(o.parentNode,r.nodeIndex(o)),u.setEnd(u.startContainer,u.startOffset+1),u;try{n(!0),a||n()}catch(h){if(-2147024809!=h.number)throw h;c=i.getBookmark(2),s=d.duplicate(),s.collapse(!0),o=s.parentElement(),a||(s=d.duplicate(),s.collapse(!1),l=s.parentElement(),l.innerHTML=l.innerHTML),o.innerHTML=o.innerHTML,i.moveToBookmark(c),d=e.getRng(),n(!0),a||n()}return u}var i=this,r=e.dom,o=!1;this.getBookmark=function(n){function i(e){var t,n,i,o,a=[];for(t=e.parentNode,n=r.getRoot().parentNode;t!=n&&9!==t.nodeType;){for(i=t.children,o=i.length;o--;)if(e===i[o]){a.push(o);break}e=t,t=t.parentNode}return a}function o(e){var n;return n=t(a,e),n?{position:n.position,offset:n.offset,indexes:i(n.node),inside:n.inside}:void 0}var a=e.getRng(),s={};return 2===n&&(a.item?s.start={ctrl:!0,indexes:i(a.item(0))}:(s.start=o(!0),e.isCollapsed()||(s.end=o()))),s},this.moveToBookmark=function(e){function t(e){var t,n,i,o;for(t=r.getRoot(),n=e.length-1;n>=0;n--)o=t.children,i=e[n],i<=o.length-1&&(t=o[i]);return t}function n(n){var r,a,s,l=e[n?"start":"end"];l&&(r=l.position>0,a=o.createTextRange(),a.moveToElementText(t(l.indexes)),offset=l.offset,offset!==s?(a.collapse(l.inside||r),a.moveStart("character",r?-offset:offset)):a.collapse(n),i.setEndPoint(n?"StartToStart":"EndToStart",a),n&&i.collapse(!0))}var i,o=r.doc.body;e.start&&(e.start.ctrl?(i=o.createControlRange(),i.addElement(t(e.start.indexes)),i.select()):(i=o.createTextRange(),n(!0),n(),i.select()))},this.addRange=function(t){function n(e){var t,n,a,u,h;a=r.create("a"),t=e?s:c,n=e?l:d,u=i.duplicate(),(t==f||t==f.documentElement)&&(t=m,n=0),3==t.nodeType?(t.parentNode.insertBefore(a,t),u.moveToElementText(a),u.moveStart("character",n),r.remove(a),i.setEndPoint(e?"StartToStart":"EndToEnd",u)):(h=t.childNodes,h.length?(n>=h.length?r.insertAfter(a,h[h.length-1]):t.insertBefore(a,h[n]),u.moveToElementText(a)):t.canHaveHTML&&(t.innerHTML="<span>﻿</span>",a=t.firstChild,u.moveToElementText(a),u.collapse(o)),i.setEndPoint(e?"StartToStart":"EndToEnd",u),r.remove(a))}var i,a,s,l,c,d,u,h,p,f=e.dom.doc,m=f.body;if(s=t.startContainer,l=t.startOffset,c=t.endContainer,d=t.endOffset,i=m.createTextRange(),s==c&&1==s.nodeType){if(l==d&&!s.hasChildNodes()){if(s.canHaveHTML)return u=s.previousSibling,u&&!u.hasChildNodes()&&r.isBlock(u)?u.innerHTML="﻿":u=null,s.innerHTML="<span>﻿</span><span>﻿</span>",i.moveToElementText(s.lastChild),i.select(),r.doc.selection.clear(),s.innerHTML="",u&&(u.innerHTML=""),void 0;l=r.nodeIndex(s),s=s.parentNode}if(l==d-1)try{if(p=s.childNodes[l],a=m.createControlRange(),a.addElement(p),a.select(),h=e.getRng(),h.item&&p===h.item(0))return}catch(g){}}n(!0),n(),i.select()},this.getRangeAt=n}tinymce.dom.TridentSelection=e}(),function(e){e.dom.Element=function(t,n){var i,r,o=this;o.settings=n=n||{},o.id=t,o.dom=i=n.dom||e.DOM,e.isIE||(r=i.get(o.id)),e.each("getPos,getRect,getParent,add,setStyle,getStyle,setStyles,setAttrib,setAttribs,getAttrib,addClass,removeClass,hasClass,getOuterHTML,setOuterHTML,remove,show,hide,isHidden,setHTML,get".split(/,/),function(e){o[e]=function(){var n,r=[t];for(n=0;n<arguments.length;n++)r.push(arguments[n]);return r=i[e].apply(i,r),o.update(e),r}}),e.extend(o,{on:function(t,n,i){return e.dom.Event.add(o.id,t,n,i)},getXY:function(){return{x:parseInt(o.getStyle("left")),y:parseInt(o.getStyle("top"))}},getSize:function(){var e=i.get(o.id);return{w:parseInt(o.getStyle("width")||e.clientWidth),h:parseInt(o.getStyle("height")||e.clientHeight)}},moveTo:function(e,t){o.setStyles({left:e,top:t})},moveBy:function(e,t){var n=o.getXY();o.moveTo(n.x+e,n.y+t)},resizeTo:function(e,t){o.setStyles({width:e,height:t})},resizeBy:function(e,t){var n=o.getSize();o.resizeTo(n.w+e,n.h+t)},update:function(t){var r;if(e.isIE6&&n.blocker){if(t=t||"",0===t.indexOf("get")||0===t.indexOf("has")||0===t.indexOf("is"))return;if("remove"==t)return i.remove(o.blocker),void 0;o.blocker?r=i.get(o.blocker):(o.blocker=i.uniqueId(),r=i.add(n.container||i.getRoot(),"iframe",{id:o.blocker,style:"position:absolute;",frameBorder:0,src:'javascript:""'}),i.setStyle(r,"opacity",0)),i.setStyles(r,{left:o.getStyle("left",1),top:o.getStyle("top",1),width:o.getStyle("width",1),height:o.getStyle("height",1),display:o.getStyle("display",1),zIndex:parseInt(o.getStyle("zIndex",1)||0)-1})}}})}}(tinymce),function(e){var t=e.is,n=e.isIE,i=e.each,r=e.dom.TreeWalker;e.create("tinymce.dom.Selection",{Selection:function(t,n,r,o){var a=this;a.dom=t,a.win=n,a.serializer=r,a.editor=o,i(["onBeforeSetContent","onBeforeGetContent","onSetContent","onGetContent"],function(t){a[t]=new e.util.Dispatcher(a)}),a.win.getSelection||(a.tridentSel=new e.dom.TridentSelection(a)),e.isIE&&t.boxModel&&this._fixIESelection(),e.addUnload(a.destroy,a)},setCursorLocation:function(e,t){var n=this,i=n.dom.createRng();i.setStart(e,t),i.setEnd(e,t),n.setRng(i),n.collapse(!1)},getContent:function(e){var n,i,r,o=this,a=o.getRng(),s=o.dom.create("body"),l=o.getSel();return e=e||{},n=i="",e.get=!0,e.format=e.format||"html",e.forced_root_block="",o.onBeforeGetContent.dispatch(o,e),"text"==e.format?o.isCollapsed()?"":a.text||(l.toString?l.toString():""):(a.cloneContents?(r=a.cloneContents(),r&&s.appendChild(r)):t(a.item)||t(a.htmlText)?(s.innerHTML="<br>"+(a.item?a.item(0).outerHTML:a.htmlText),s.removeChild(s.firstChild)):s.innerHTML=a.toString(),/^\s/.test(s.innerHTML)&&(n=" "),/\s+$/.test(s.innerHTML)&&(i=" "),e.getInner=!0,e.content=o.isCollapsed()?"":n+o.serializer.serialize(s,e)+i,o.onGetContent.dispatch(o,e),e.content)},setContent:function(e,t){var n,i,r,o=this,a=o.getRng(),s=o.win.document;if(t=t||{format:"html"},t.set=!0,e=t.content=e,t.no_events||o.onBeforeSetContent.dispatch(o,t),e=t.content,a.insertNode){e+='<span id="__caret">_</span>',a.startContainer==s&&a.endContainer==s?s.body.innerHTML=e:(a.deleteContents(),0===s.body.childNodes.length?s.body.innerHTML=e:a.createContextualFragment?a.insertNode(a.createContextualFragment(e)):(i=s.createDocumentFragment(),r=s.createElement("div"),i.appendChild(r),r.outerHTML=e,a.insertNode(i))),n=o.dom.get("__caret"),a=s.createRange(),a.setStartBefore(n),a.setEndBefore(n),o.setRng(a),o.dom.remove("__caret");try{o.setRng(a)}catch(l){}}else a.item&&(s.execCommand("Delete",!1,null),a=o.getRng()),/^\s+/.test(e)?(a.pasteHTML('<span id="__mce_tmp">_</span>'+e),o.dom.remove("__mce_tmp")):a.pasteHTML(e);t.no_events||o.onSetContent.dispatch(o,t)},getStart:function(){var e,t,n,i,r=this,o=r.getRng();if(o.duplicate||o.item){if(o.item)return o.item(0);for(n=o.duplicate(),n.collapse(1),e=n.parentElement(),e.ownerDocument!==r.dom.doc&&(e=r.dom.getRoot()),t=i=o.parentElement();i=i.parentNode;)if(i==e){e=t;break}return e}return e=o.startContainer,1==e.nodeType&&e.hasChildNodes()&&(e=e.childNodes[Math.min(e.childNodes.length-1,o.startOffset)]),e&&3==e.nodeType?e.parentNode:e},getEnd:function(){var e,t,n=this,i=n.getRng();return i.duplicate||i.item?i.item?i.item(0):(i=i.duplicate(),i.collapse(0),e=i.parentElement(),e.ownerDocument!==n.dom.doc&&(e=n.dom.getRoot()),e&&"BODY"==e.nodeName?e.lastChild||e:e):(e=i.endContainer,t=i.endOffset,1==e.nodeType&&e.hasChildNodes()&&(e=e.childNodes[t>0?t-1:t]),e&&3==e.nodeType?e.parentNode:e)},getBookmark:function(e,t){function n(e,t){var n=0;return i(f.select(e),function(e,i){e==t&&(n=i)}),n}function r(e){function t(t){var n,i,r,o=t?"start":"end";n=e[o+"Container"],i=e[o+"Offset"],1==n.nodeType&&"TR"==n.nodeName&&(r=n.childNodes,n=r[Math.min(t?i:i-1,r.length-1)],n&&(i=t?0:n.childNodes.length,e["set"+(t?"Start":"End")](n,i)))}return t(!0),t(),e}function o(){function e(e,n){var r,o,a=e[n?"startContainer":"endContainer"],s=e[n?"startOffset":"endOffset"],l=[],c=0;if(3==a.nodeType){if(t)for(r=a.previousSibling;r&&3==r.nodeType;r=r.previousSibling)s+=r.nodeValue.length;l.push(s)}else o=a.childNodes,s>=o.length&&o.length&&(c=1,s=Math.max(0,o.length-1)),l.push(p.dom.nodeIndex(o[s],t)+c);for(;a&&a!=i;a=a.parentNode)l.push(p.dom.nodeIndex(a,t));return l}var n=p.getRng(!0),i=f.getRoot(),r={};return r.start=e(n,!0),p.isCollapsed()||(r.end=e(n)),r}var a,s,l,c,d,u,h,p=this,f=p.dom,m="﻿";if(2==e)return p.tridentSel?p.tridentSel.getBookmark(e):o();if(e)return{rng:p.getRng()};if(a=p.getRng(),l=f.uniqueId(),c=tinyMCE.activeEditor.selection.isCollapsed(),h="overflow:hidden;line-height:0px",a.duplicate||a.item){if(a.item)return u=a.item(0),d=u.nodeName,{name:d,index:n(d,u)};s=a.duplicate();try{a.collapse(),a.pasteHTML('<span data-mce-type="bookmark" id="'+l+'_start" style="'+h+'">'+m+"</span>"),c||(s.collapse(!1),a.moveToElementText(s.parentElement()),0===a.compareEndPoints("StartToEnd",s)&&s.move("character",-1),s.pasteHTML('<span data-mce-type="bookmark" id="'+l+'_end" style="'+h+'">'+m+"</span>"))}catch(g){return null}}else{if(u=p.getNode(),d=u.nodeName,"IMG"==d)return{name:d,index:n(d,u)};s=r(a.cloneRange()),c||(s.collapse(!1),s.insertNode(f.create("span",{"data-mce-type":"bookmark",id:l+"_end",style:h},m))),a=r(a),a.collapse(!0),a.insertNode(f.create("span",{"data-mce-type":"bookmark",id:l+"_start",style:h},m))}return p.moveToBookmark({id:l,keep:1}),{id:l}},moveToBookmark:function(t){function r(e){var n,i,r,o,a=t[e?"start":"end"];if(a){for(r=a[0],i=l,n=a.length-1;n>=1;n--){if(o=i.childNodes,a[n]>o.length-1)return;i=o[a[n]]}3===i.nodeType&&(r=Math.min(a[0],i.nodeValue.length)),1===i.nodeType&&(r=Math.min(a[0],i.childNodes.length)),e?s.setStart(i,r):s.setEnd(i,r)}return!0}function o(n){var r,o,a,s,l=f.get(t.id+"_"+n),p=t.keep;if(l&&(r=l.parentNode,"start"==n?(p?(r=l.firstChild,o=1):o=f.nodeIndex(l),c=d=r,u=h=o):(p?(r=l.firstChild,o=1):o=f.nodeIndex(l),d=r,h=o),!p)){for(s=l.previousSibling,a=l.nextSibling,i(e.grep(l.childNodes),function(e){3==e.nodeType&&(e.nodeValue=e.nodeValue.replace(/\uFEFF/g,""))});l=f.get(t.id+"_"+n);)f.remove(l,1);s&&a&&s.nodeType==a.nodeType&&3==s.nodeType&&!e.isOpera&&(o=s.nodeValue.length,s.appendData(a.nodeValue),f.remove(a),"start"==n?(c=d=s,u=h=o):(d=s,h=o))}}function a(e){return!f.isBlock(e)||e.innerHTML||n||(e.innerHTML='<br data-mce-bogus="1" />'),e}var s,l,c,d,u,h,p=this,f=p.dom;if(t)if(t.start){if(s=f.createRng(),l=f.getRoot(),p.tridentSel)return p.tridentSel.moveToBookmark(t);r(!0)&&r()&&p.setRng(s)}else t.id?(o("start"),o("end"),c&&(s=f.createRng(),s.setStart(a(c),u),s.setEnd(a(d),h),p.setRng(s))):t.name?p.select(f.select(t.name)[t.index]):t.rng&&p.setRng(t.rng)},select:function(t,n){function i(t,n){var i=new r(t,t);do{if(3==t.nodeType&&0!==e.trim(t.nodeValue).length)return n?l.setStart(t,0):l.setEnd(t,t.nodeValue.length),void 0;if("BR"==t.nodeName)return n?l.setStartBefore(t):l.setEndBefore(t),void 0}while(t=n?i.next():i.prev())}var o,a=this,s=a.dom,l=s.createRng();return t&&(o=s.nodeIndex(t),l.setStart(t.parentNode,o),l.setEnd(t.parentNode,o+1),n&&(i(t,1),i(t)),a.setRng(l)),t},isCollapsed:function(){var e=this,t=e.getRng(),n=e.getSel();return!t||t.item?!1:t.compareEndPoints?0===t.compareEndPoints("StartToEnd",t):!n||t.collapsed},collapse:function(e){var t,n=this,i=n.getRng();i.item&&(t=i.item(0),i=n.win.document.body.createTextRange(),i.moveToElementText(t)),i.collapse(!!e),n.setRng(i)},getSel:function(){var e=this.win;return e.getSelection?e.getSelection():e.document.selection},getRng:function(t){var n,i,r,o=this,a=o.win.document;if(t&&o.tridentSel)return o.tridentSel.getRangeAt(0);try{(n=o.getSel())&&(i=n.rangeCount>0?n.getRangeAt(0):n.createRange?n.createRange():a.createRange())}catch(s){}return e.isIE&&i&&i.setStart&&a.selection.createRange().item&&(r=a.selection.createRange().item(0),i=a.createRange(),i.setStartBefore(r),i.setEndAfter(r)),i||(i=a.createRange?a.createRange():a.body.createTextRange()),i.setStart&&9===i.startContainer.nodeType&&i.collapsed&&(r=o.dom.getRoot(),i.setStart(r,0),i.setEnd(r,0)),o.selectedRange&&o.explicitRange&&(0===i.compareBoundaryPoints(i.START_TO_START,o.selectedRange)&&0===i.compareBoundaryPoints(i.END_TO_END,o.selectedRange)?i=o.explicitRange:(o.selectedRange=null,o.explicitRange=null)),i},setRng:function(e,t){var n,i=this;if(i.tridentSel){if(e.cloneRange)try{return i.tridentSel.addRange(e),void 0}catch(r){}try{e.select()}catch(r){}}else if(n=i.getSel()){i.explicitRange=e;try{n.removeAllRanges()}catch(r){}n.addRange(e),t===!1&&n.extend&&(n.collapse(e.endContainer,e.endOffset),n.extend(e.startContainer,e.startOffset)),i.selectedRange=n.rangeCount>0?n.getRangeAt(0):null}},setNode:function(e){var t=this;return t.setContent(t.dom.getOuterHTML(e)),e},getNode:function(){function e(e,t){for(var n=e;e&&3===e.nodeType&&0===e.length;)e=t?e.nextSibling:e.previousSibling;return e||n}var t,n=this,i=n.getRng(),r=(n.getSel(),i.startContainer),o=i.endContainer;return i?i.setStart?(t=i.commonAncestorContainer,!i.collapsed&&(i.startContainer==i.endContainer&&i.endOffset-i.startOffset<2&&i.startContainer.hasChildNodes()&&(t=i.startContainer.childNodes[i.startOffset]),3===r.nodeType&&3===o.nodeType&&(r=r.length===i.startOffset?e(r.nextSibling,!0):r.parentNode,o=0===i.endOffset?e(o.previousSibling,!1):o.parentNode,r&&r===o))?r:t&&3==t.nodeType?t.parentNode:t):i.item?i.item(0):i.parentElement():n.dom.getRoot()},getSelectedBlocks:function(e,t){var n,i,o,a=this,s=a.dom,l=[];if(n=s.getParent(e||a.getStart(),s.isBlock),i=s.getParent(t||a.getEnd(),s.isBlock),n&&l.push(n),n&&i&&n!=i){o=n;for(var c=new r(n,s.getRoot());(o=c.next())&&o!=i;)s.isBlock(o)&&l.push(o)}return i&&n!=i&&l.push(i),l},isForward:function(){var e,t,n=this.dom,i=this.getSel();return i&&null!=i.anchorNode&&null!=i.focusNode?(e=n.createRng(),e.setStart(i.anchorNode,i.anchorOffset),e.collapse(!0),t=n.createRng(),t.setStart(i.focusNode,i.focusOffset),t.collapse(!0),e.compareBoundaryPoints(e.START_TO_START,t)<=0):!0},normalize:function(){function t(e){function t(e,t){for(var n=new r(e,f.getParent(e.parentNode,f.isBlock)||m);e=n[t?"prev":"next"]();)if("BR"===e.nodeName)return!0}function s(e,t){var n,a;for(t=t||l,n=new r(t,f.getParent(t.parentNode,f.isBlock)||m);u=n[e?"prev":"next"]();){if(3===u.nodeType&&u.nodeValue.length>0)return l=u,c=e?u.nodeValue.length:0,i=!0,void 0;if(f.isBlock(u)||h[u.nodeName.toLowerCase()])return;a=u}o&&a&&(l=a,i=!0,c=0)}var l,c,d,u,h,p,f=a.dom,m=f.getRoot();if(l=n[(e?"start":"end")+"Container"],c=n[(e?"start":"end")+"Offset"],h=f.schema.getNonEmptyElements(),9===l.nodeType&&(l=f.getRoot(),c=0),l===m){if(e&&(u=l.childNodes[c>0?c-1:0],u&&(p=u.nodeName.toLowerCase(),h[u.nodeName]||"TABLE"==u.nodeName)))return;if(l.hasChildNodes()&&(l=l.childNodes[Math.min(!e&&c>0?c-1:c,l.childNodes.length-1)],c=0,l.hasChildNodes()&&!/TABLE/.test(l.nodeName))){u=l,d=new r(l,m);do{if(3===u.nodeType&&u.nodeValue.length>0){c=e?0:u.nodeValue.length,l=u,i=!0;break}if(h[u.nodeName.toLowerCase()]){c=f.nodeIndex(u),l=u.parentNode,"IMG"!=u.nodeName||e||c++,i=!0;break}}while(u=e?d.next():d.prev())}}o&&(3===l.nodeType&&0===c&&s(!0),1===l.nodeType&&(u=l.childNodes[c],!u||"BR"!==u.nodeName||t(u)||t(u,!0)||s(!0,l.childNodes[c]))),e&&!o&&3===l.nodeType&&c===l.nodeValue.length&&s(!1),i&&n["set"+(e?"Start":"End")](l,c)}var n,i,o,a=this;e.isIE||(n=a.getRng(),o=n.collapsed,t(!0),o||t(),i&&(o&&n.collapse(!0),a.setRng(n,a.isForward())))},selectorChanged:function(e,t){var n,r=this;return r.selectorChangedData||(r.selectorChangedData={},n={},r.editor.onNodeChange.addToTop(function(e,t,o){var a=r.dom,s=a.getParents(o,null,a.getRoot()),l={};i(r.selectorChangedData,function(e,t){i(s,function(r){return a.is(r,t)?(n[t]||(i(e,function(e){e(!0,{node:r,selector:t,parents:s})}),n[t]=e),l[t]=e,!1):void 0})}),i(n,function(e,t){l[t]||(delete n[t],i(e,function(e){e(!1,{node:o,selector:t,parents:s})}))})})),r.selectorChangedData[e]||(r.selectorChangedData[e]=[]),r.selectorChangedData[e].push(t),r},scrollIntoView:function(e){var t,n,i=this,r=i.dom;n=r.getViewPort(i.editor.getWin()),t=r.getPos(e).y,(t<n.y||t+25>n.y+n.h)&&i.editor.getWin().scrollTo(0,t<n.y?t:t-n.h+25)},destroy:function(t){var n=this;n.win=null,t||e.removeUnload(n.destroy)},_fixIESelection:function(){function e(e,t){var n=l.createTextRange();try{n.moveToPoint(e,t)}catch(i){n=null}return n}function t(t){var i;t.button?(i=e(t.x,t.y),i&&(i.compareEndPoints("StartToStart",r)>0?i.setEndPoint("StartToStart",r):i.setEndPoint("EndToEnd",r),i.select())):n()}function n(){var e=s.selection.createRange();r&&!e.item&&0===e.compareEndPoints("StartToEnd",e)&&r.select(),a.unbind(s,"mouseup",n),a.unbind(s,"mousemove",t),r=i=0}var i,r,o,a=this.dom,s=a.doc,l=s.body;s.documentElement.unselectable=!0,a.bind(s,["mousedown","contextmenu"],function(l){if("HTML"===l.target.nodeName){if(i&&n(),o=s.documentElement,o.scrollHeight>o.clientHeight)return;i=1,r=e(l.x,l.y),r&&(a.bind(s,"mouseup",n),a.bind(s,"mousemove",t),a.win.focus(),r.select())}})}})}(tinymce),function(e){e.dom.Serializer=function(t,n,i){var r,o,a,s=e.isIE,l=e.each;return t.apply_source_formatting||(t.indent=!1),n=n||e.DOM,i=i||new e.html.Schema(t),t.entity_encoding=t.entity_encoding||"named",t.remove_trailing_brs="remove_trailing_brs"in t?t.remove_trailing_brs:!0,r=new e.util.Dispatcher(self),o=new e.util.Dispatcher(self),a=new e.html.DomParser(t,i),a.addAttributeFilter("src,href,style",function(e,i){for(var r,o,a,s=e.length,l="data-mce-"+i,c=t.url_converter,d=t.url_converter_scope;s--;)r=e[s],o=r.attributes.map[l],o!==a?(r.attr(i,o.length>0?o:null),r.attr(l,null)):(o=r.attributes.map[i],"style"===i?o=n.serializeStyle(n.parseStyle(o),r.name):c&&(o=c.call(d,o,i,r.name)),r.attr(i,o.length>0?o:null))}),a.addAttributeFilter("class",function(e){for(var t,n,i=e.length;i--;)t=e[i],n=t.attr("class").replace(/(?:^|\s)mce(Item\w+|Selected)(?!\S)/g,""),t.attr("class",n.length>0?n:null)}),a.addAttributeFilter("data-mce-type",function(e,t,n){for(var i,r=e.length;r--;)i=e[r],"bookmark"!==i.attributes.map["data-mce-type"]||n.cleanup||i.remove()}),a.addAttributeFilter("data-mce-expando",function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)}),a.addNodeFilter("noscript",function(t){for(var n,i=t.length;i--;)n=t[i].firstChild,n&&(n.value=e.html.Entities.decode(n.value))}),a.addNodeFilter("script,style",function(e,t){function n(e){return e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")}for(var i,r,o=e.length;o--;)i=e[o],r=i.firstChild?i.firstChild.value:"","script"===t?(i.attr("type",(i.attr("type")||"text/javascript").replace(/^mce\-/,"")),r.length>0&&(i.firstChild.value="// <![CDATA[\n"+n(r)+"\n// ]]>")):r.length>0&&(i.firstChild.value="<!--\n"+n(r)+"\n-->")}),a.addNodeFilter("#comment",function(e){for(var t,n=e.length;n--;)t=e[n],0===t.value.indexOf("[CDATA[")?(t.name="#cdata",t.type=4,t.value=t.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===t.value.indexOf("mce:protected ")&&(t.name="#text",t.type=3,t.raw=!0,t.value=unescape(t.value).substr(14))}),a.addNodeFilter("xml:namespace,input",function(e,t){for(var n,i=e.length;i--;)n=e[i],7===n.type?n.remove():1===n.type&&("input"!==t||"type"in n.attributes.map||n.attr("type","text"))}),t.fix_list_elements&&a.addNodeFilter("ul,ol",function(e){for(var t,n,i=e.length;i--;)t=e[i],n=t.parent,("ul"===n.name||"ol"===n.name)&&t.prev&&"li"===t.prev.name&&t.prev.append(t)}),a.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style",function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)}),{schema:i,addNodeFilter:a.addNodeFilter,addAttributeFilter:a.addAttributeFilter,onPreProcess:r,onPostProcess:o,serialize:function(c,d){var u,h,p,f,m;return s&&n.select("script,style,select,map").length>0?(m=c.innerHTML,c=c.cloneNode(!1),n.setHTML(c,m)):c=c.cloneNode(!0),u=c.ownerDocument.implementation,u.createHTMLDocument&&(h=u.createHTMLDocument(""),l("BODY"==c.nodeName?c.childNodes:[c],function(e){h.body.appendChild(h.importNode(e,!0))}),c="BODY"!=c.nodeName?h.body.firstChild:h.body,p=n.doc,n.doc=h),d=d||{},d.format=d.format||"html",d.no_events||(d.node=c,r.dispatch(self,d)),f=new e.html.Serializer(t,i),d.content=f.serialize(a.parse(e.trim(d.getInner?c.innerHTML:n.getOuterHTML(c)),d)),d.cleanup||(d.content=d.content.replace(/\uFEFF/g,"")),d.no_events||o.dispatch(self,d),p&&(n.doc=p),d.node=null,d.content},addRules:function(e){i.addValidElements(e)},setRules:function(e){i.setValidElements(e)}}}}(tinymce),function(e){e.dom.ScriptLoader=function(){function t(t,n){function i(){c.remove(l),o&&(o.onreadystatechange=o.onload=o=null),n()}function r(){"undefined"!=typeof console&&console.log&&console.log("Failed to load: "+t)}var o,a,s,l,c=e.DOM;return l=c.uniqueId(),e.isIE6&&(a=new e.util.URI(t),s=location,a.host==s.hostname&&a.port==s.port&&a.protocol+":"==s.protocol&&"file"!=a.protocol.toLowerCase())?(e.util.XHR.send({url:e._addVer(a.getURI()),success:function(e){var t=c.create("script",{type:"text/javascript"});t.text=e,document.getElementsByTagName("head")[0].appendChild(t),c.remove(t),i()},error:r}),void 0):(o=document.createElement("script"),o.id=l,o.type="text/javascript",o.src=e._addVer(t),e.isIE||(o.onload=i),o.onerror=r,e.isOpera||(o.onreadystatechange=function(){var e=o.readyState;("complete"==e||"loaded"==e)&&i()}),(document.getElementsByTagName("head")[0]||document.body).appendChild(o),void 0)}var n,i=0,r=1,o=2,a={},s=[],l={},c=[],d=0;this.isDone=function(e){return a[e]==o},this.markDone=function(e){a[e]=o},this.add=this.load=function(e,t,r){var o=a[e];o==n&&(s.push(e),a[e]=i),t&&(l[e]||(l[e]=[]),l[e].push({func:t,scope:r||this}))},this.loadQueue=function(e,t){this.loadScripts(s,e,t)},this.loadScripts=function(i,s,u){function h(t){e.each(l[t],function(e){e.func.call(e.scope)}),l[t]=n}var p;c.push({func:s,scope:u||this}),p=function(){var n=e.grep(i);i.length=0,e.each(n,function(e){return a[e]==o?(h(e),void 0):(a[e]!=r&&(a[e]=r,d++,t(e,function(){a[e]=o,d--,h(e),p()})),void 0)}),d||(e.each(c,function(e){e.func.call(e.scope)}),c.length=0)},p()}},e.ScriptLoader=new e.dom.ScriptLoader}(tinymce),function(e){e.dom.RangeUtils=function(t){this.walk=function(n,i){function r(e){var t;return t=e[0],3===t.nodeType&&t===m&&g>=t.nodeValue.length&&e.splice(0,1),t=e[e.length-1],0===y&&e.length>0&&t===v&&3===t.nodeType&&e.splice(e.length-1,1),e}function o(e,t,n){for(var i=[];e&&e!=n;e=e[t])i.push(e);return i}function a(e,t){do{if(e.parentNode==t)return e;e=e.parentNode}while(e)}function s(e,t,n){var a=n?"nextSibling":"previousSibling";for(u=e,h=u.parentNode;u&&u!=t;u=h)h=u.parentNode,p=o(u==e?u:u[a],a),p.length&&(n||p.reverse(),i(r(p)))}var l,c,d,u,h,p,f,m=n.startContainer,g=n.startOffset,v=n.endContainer,y=n.endOffset;if(f=t.select("td.mceSelected,th.mceSelected"),f.length>0)return e.each(f,function(e){i([e])}),void 0;if(1==m.nodeType&&m.hasChildNodes()&&(m=m.childNodes[g]),1==v.nodeType&&v.hasChildNodes()&&(v=v.childNodes[Math.min(y-1,v.childNodes.length-1)]),m==v)return i(r([m]));for(l=t.findCommonAncestor(m,v),u=m;u;u=u.parentNode){if(u===v)return s(m,l,!0);
if(u===l)break}for(u=v;u;u=u.parentNode){if(u===m)return s(v,l);if(u===l)break}c=a(m,l)||m,d=a(v,l)||v,s(m,c,!0),p=o(c==m?c:c.nextSibling,"nextSibling",d==v?d.nextSibling:d),p.length&&i(r(p)),s(v,d)},this.split=function(e){function t(e,t){return e.splitText(t)}var n=e.startContainer,i=e.startOffset,r=e.endContainer,o=e.endOffset;return n==r&&3==n.nodeType?i>0&&i<n.nodeValue.length&&(r=t(n,i),n=r.previousSibling,o>i?(o-=i,n=r=t(r,o).previousSibling,o=r.nodeValue.length,i=0):o=0):(3==n.nodeType&&i>0&&i<n.nodeValue.length&&(n=t(n,i),i=0),3==r.nodeType&&o>0&&o<r.nodeValue.length&&(r=t(r,o).previousSibling,o=r.nodeValue.length)),{startContainer:n,startOffset:i,endContainer:r,endOffset:o}}},e.dom.RangeUtils.compareRanges=function(e,t){if(e&&t){if(!e.item&&!e.duplicate)return e.startContainer==t.startContainer&&e.startOffset==t.startOffset;if(e.item&&t.item&&e.item(0)===t.item(0))return!0;if(e.isEqual&&t.isEqual&&t.isEqual(e))return!0}return!1}}(tinymce),function(e){var t=e.dom.Event,n=e.each;e.create("tinymce.ui.KeyboardNavigation",{KeyboardNavigation:function(i,r){var o,a,s,l,c,d=this,u=i.root,h=i.items,p=i.enableUpDown,f=i.enableLeftRight||!i.enableUpDown,m=i.excludeFromTabOrder;r=r||e.DOM,o=function(e){c=e.target.id},a=function(e){r.setAttrib(e.target.id,"tabindex","-1")},l=function(){var e=r.get(c);r.setAttrib(e,"tabindex","0"),e.focus()},d.focus=function(){r.get(c).focus()},d.destroy=function(){n(h,function(e){var t=r.get(e.id);r.unbind(t,"focus",o),r.unbind(t,"blur",a)});var e=r.get(u);r.unbind(e,"focus",l),r.unbind(e,"keydown",s),h=r=u=d.focus=o=a=s=l=null,d.destroy=function(){}},d.moveFocus=function(e,o){var a,s=-1;d.controls,c&&(n(h,function(e,t){return e.id===c?(s=t,!1):void 0}),s+=e,0>s?s=h.length-1:s>=h.length&&(s=0),a=h[s],r.setAttrib(c,"tabindex","-1"),r.setAttrib(a.id,"tabindex","0"),r.get(a.id).focus(),i.actOnFocus&&i.onAction(a.id),o&&t.cancel(o))},s=function(e){var n=37,r=39,o=38,a=40,s=27,l=14,u=13,h=32;switch(e.keyCode){case n:f&&d.moveFocus(-1);break;case r:f&&d.moveFocus(1);break;case o:p&&d.moveFocus(-1);break;case a:p&&d.moveFocus(1);break;case s:i.onCancel&&(i.onCancel(),t.cancel(e));break;case l:case u:case h:i.onAction&&(i.onAction(c),t.cancel(e))}},n(h,function(e,t){var n,i;e.id||(e.id=r.uniqueId("_mce_item_")),i=r.get(e.id),m?(r.bind(i,"blur",a),n="-1"):n=0===t?"0":"-1",i.setAttribute("tabindex",n),r.bind(i,"focus",o)}),h[0]&&(c=h[0].id),r.setAttrib(u,"tabindex","-1");var g=r.get(u);r.bind(g,"focus",l),r.bind(g,"keydown",s)}})}(tinymce),function(e){var t=e.DOM,n=e.is;e.create("tinymce.ui.Control",{Control:function(t,n,i){this.id=t,this.settings=n=n||{},this.rendered=!1,this.onRender=new e.util.Dispatcher(this),this.classPrefix="",this.scope=n.scope||this,this.disabled=0,this.active=0,this.editor=i},setAriaProperty:function(e,n){var i=t.get(this.id+"_aria")||t.get(this.id);i&&t.setAttrib(i,"aria-"+e,!!n)},focus:function(){t.get(this.id).focus()},setDisabled:function(e){e!=this.disabled&&(this.setAriaProperty("disabled",e),this.setState("Disabled",e),this.setState("Enabled",!e),this.disabled=e)},isDisabled:function(){return this.disabled},setActive:function(e){e!=this.active&&(this.setState("Active",e),this.active=e,this.setAriaProperty("pressed",e))},isActive:function(){return this.active},setState:function(e,n){var i=t.get(this.id);e=this.classPrefix+e,n?t.addClass(i,e):t.removeClass(i,e)},isRendered:function(){return this.rendered},renderHTML:function(){},renderTo:function(e){t.setHTML(e,this.renderHTML())},postRender:function(){var e,t=this;n(t.disabled)&&(e=t.disabled,t.disabled=-1,t.setDisabled(e)),n(t.active)&&(e=t.active,t.active=-1,t.setActive(e))},remove:function(){t.remove(this.id),this.destroy()},destroy:function(){e.dom.Event.clear(this.id)}})}(tinymce),tinymce.create("tinymce.ui.Container:tinymce.ui.Control",{Container:function(e,t,n){this.parent(e,t,n),this.controls=[],this.lookup={}},add:function(e){return this.lookup[e.id]=e,this.controls.push(e),e},get:function(e){return this.lookup[e]}}),tinymce.create("tinymce.ui.Separator:tinymce.ui.Control",{Separator:function(e,t){this.parent(e,t),this.classPrefix="mceSeparator",this.setDisabled(!0)},renderHTML:function(){return tinymce.DOM.createHTML("span",{"class":this.classPrefix,role:"separator","aria-orientation":"vertical",tabindex:"-1"})}}),function(e){var t=e.is;e.DOM,e.each,e.walk,e.create("tinymce.ui.MenuItem:tinymce.ui.Control",{MenuItem:function(e,t){this.parent(e,t),this.classPrefix="mceMenuItem"},setSelected:function(e){this.setState("Selected",e),this.setAriaProperty("checked",!!e),this.selected=e},isSelected:function(){return this.selected},postRender:function(){var e=this;e.parent(),t(e.selected)&&e.setSelected(e.selected)}})}(tinymce),function(e){var t=(e.is,e.DOM),n=(e.each,e.walk);e.create("tinymce.ui.Menu:tinymce.ui.MenuItem",{Menu:function(t,n){var i=this;i.parent(t,n),i.items={},i.collapsed=!1,i.menuCount=0,i.onAddItem=new e.util.Dispatcher(this)},expand:function(e){var t=this;e&&n(t,function(e){e.expand&&e.expand()},"items",t),t.collapsed=!1},collapse:function(e){var t=this;e&&n(t,function(e){e.collapse&&e.collapse()},"items",t),t.collapsed=!0},isCollapsed:function(){return this.collapsed},add:function(n){return n.settings||(n=new e.ui.MenuItem(n.id||t.uniqueId(),n)),this.onAddItem.dispatch(this,n),this.items[n.id]=n},addSeparator:function(){return this.add({separator:!0})},addMenu:function(e){return e.collapse||(e=this.createMenu(e)),this.menuCount++,this.add(e)},hasMenus:function(){return 0!==this.menuCount},remove:function(e){delete this.items[e.id]},removeAll:function(){var e=this;n(e,function(e){e.removeAll?e.removeAll():e.remove(),e.destroy()},"items",e),e.items={}},createMenu:function(n){var i=new e.ui.Menu(n.id||t.uniqueId(),n);return i.onAddItem.add(this.onAddItem.dispatch,this.onAddItem),i}})}(tinymce),function(e){var t=e.is,n=e.DOM,i=e.each,r=e.dom.Event,o=e.dom.Element;e.create("tinymce.ui.DropMenu:tinymce.ui.Menu",{DropMenu:function(i,r){r=r||{},r.container=r.container||n.doc.body,r.offset_x=r.offset_x||0,r.offset_y=r.offset_y||0,r.vp_offset_x=r.vp_offset_x||0,r.vp_offset_y=r.vp_offset_y||0,t(r.icons)&&!r.icons&&(r["class"]+=" mceNoIcons"),this.parent(i,r),this.onShowMenu=new e.util.Dispatcher(this),this.onHideMenu=new e.util.Dispatcher(this),this.classPrefix="mceMenu"},createMenu:function(t){var i,r=this,o=r.settings;return t.container=t.container||o.container,t.parent=r,t.constrain=t.constrain||o.constrain,t["class"]=t["class"]||o["class"],t.vp_offset_x=t.vp_offset_x||o.vp_offset_x,t.vp_offset_y=t.vp_offset_y||o.vp_offset_y,t.keyboard_focus=o.keyboard_focus,i=new e.ui.DropMenu(t.id||n.uniqueId(),t),i.onAddItem.add(r.onAddItem.dispatch,r.onAddItem),i},focus:function(){var e=this;e.keyboardNav&&e.keyboardNav.focus()},update:function(){var e,t,i=this,r=i.settings,o=n.get("menu_"+i.id+"_tbl"),a=n.get("menu_"+i.id+"_co");e=r.max_width?Math.min(o.offsetWidth,r.max_width):o.offsetWidth,t=r.max_height?Math.min(o.offsetHeight,r.max_height):o.offsetHeight,n.boxModel?i.element.setStyles({width:e,height:t}):i.element.setStyles({width:e+2,height:t+2}),r.max_width&&n.setStyle(a,"width",e),r.max_height&&(n.setStyle(a,"height",t),o.clientHeight<r.max_height&&n.setStyle(a,"overflow","hidden"))},showMenu:function(t,a,s){var l,c,d,u,h,p,f=this,m=f.settings,g=n.getViewPort(),v=2,y=f.classPrefix;f.collapse(1),f.isMenuVisible||(f.rendered?l=n.get("menu_"+f.id):(l=n.add(f.settings.container,f.renderNode()),i(f.items,function(e){e.postRender()}),f.element=new o("menu_"+f.id,{blocker:1,container:m.container})),e.isOpera||n.setStyles(l,{left:-65535,top:-65535}),n.show(l),f.update(),t+=m.offset_x||0,a+=m.offset_y||0,g.w-=4,g.h-=4,m.constrain&&(c=l.clientWidth-v,d=l.clientHeight-v,u=g.x+g.w,h=g.y+g.h,t+m.vp_offset_x+c>u&&(t=s?s-c:Math.max(0,u-m.vp_offset_x-c)),a+m.vp_offset_y+d>h&&(a=Math.max(0,h-m.vp_offset_y-d))),n.setStyles(l,{left:t,top:a}),f.element.update(),f.isMenuVisible=1,f.mouseClickFunc=r.add(l,"click",function(e){var t;if(e=e.target,e&&(e=n.getParent(e,"tr"))&&!n.hasClass(e,y+"ItemSub")){if(t=f.items[e.id],t.isDisabled())return;for(p=f;p;)p.hideMenu&&p.hideMenu(),p=p.settings.parent;return t.settings.onclick&&t.settings.onclick(e),!1}}),f.hasMenus()&&(f.mouseOverFunc=r.add(l,"mouseover",function(e){var t,i;if(e=e.target,e&&(e=n.getParent(e,"tr"))){if(t=f.items[e.id],f.lastMenu&&f.lastMenu.collapse(1),t.isDisabled())return;e&&n.hasClass(e,y+"ItemSub")&&(i=n.getRect(e),t.showMenu(i.x+i.w-v,i.y-v,i.x),f.lastMenu=t,n.addClass(n.get(t.id).firstChild,y+"ItemActive"))}})),r.add(l,"keydown",f._keyHandler,f),f.onShowMenu.dispatch(f),m.keyboard_focus&&f._setupKeyboardNav())},hideMenu:function(e){var t,i=this,o=n.get("menu_"+i.id);i.isMenuVisible&&(i.keyboardNav&&i.keyboardNav.destroy(),r.remove(o,"mouseover",i.mouseOverFunc),r.remove(o,"click",i.mouseClickFunc),r.remove(o,"keydown",i._keyHandler),n.hide(o),i.isMenuVisible=0,e||i.collapse(1),i.element&&i.element.hide(),(t=n.get(i.id))&&n.removeClass(t.firstChild,i.classPrefix+"ItemActive"),i.onHideMenu.dispatch(i))},add:function(e){var t,i=this;return e=i.parent(e),i.isRendered&&(t=n.get("menu_"+i.id))&&i._add(n.select("tbody",t)[0],e),e},collapse:function(e){this.parent(e),this.hideMenu(1)},remove:function(e){return n.remove(e.id),this.destroy(),this.parent(e)},destroy:function(){var e=this,t=n.get("menu_"+e.id);e.keyboardNav&&e.keyboardNav.destroy(),r.remove(t,"mouseover",e.mouseOverFunc),r.remove(n.select("a",t),"focus",e.mouseOverFunc),r.remove(t,"click",e.mouseClickFunc),r.remove(t,"keydown",e._keyHandler),e.element&&e.element.remove(),n.remove(t)},renderNode:function(){var e,t,r,a,s=this,l=s.settings;return a=n.create("div",{role:"listbox",id:"menu_"+s.id,"class":l["class"],style:"position:absolute;left:0;top:0;z-index:200000;outline:0"}),s.settings.parent&&n.setAttrib(a,"aria-parent","menu_"+s.settings.parent.id),r=n.add(a,"div",{role:"presentation",id:"menu_"+s.id+"_co","class":s.classPrefix+(l["class"]?" "+l["class"]:"")}),s.element=new o("menu_"+s.id,{blocker:1,container:l.container}),l.menu_line&&n.add(r,"span",{"class":s.classPrefix+"Line"}),e=n.add(r,"table",{role:"presentation",id:"menu_"+s.id+"_tbl",border:0,cellPadding:0,cellSpacing:0}),t=n.add(e,"tbody"),i(s.items,function(e){s._add(t,e)}),s.rendered=!0,a},_setupKeyboardNav:function(){var t,i,r=this;t=n.get("menu_"+r.id),i=n.select("a[role=option]","menu_"+r.id),i.splice(0,0,t),r.keyboardNav=new e.ui.KeyboardNavigation({root:"menu_"+r.id,items:i,onCancel:function(){r.hideMenu()},enableUpDown:!0}),t.focus()},_keyHandler:function(e){var t=this;switch(e.keyCode){case 37:t.settings.parent&&(t.hideMenu(),t.settings.parent.focus(),r.cancel(e));break;case 39:t.mouseOverFunc&&t.mouseOverFunc(e)}},_add:function(e,t){var i,r,o,a,s,l=t.settings,c=this.classPrefix;return l.separator?(o=n.add(e,"tr",{id:t.id,"class":c+"ItemSeparator"}),n.add(o,"td",{"class":c+"ItemSeparator"}),(i=o.previousSibling)&&n.addClass(i,"mceLast"),void 0):(i=o=n.add(e,"tr",{id:t.id,"class":c+"Item "+c+"ItemEnabled"}),i=a=n.add(i,l.titleItem?"th":"td"),i=r=n.add(i,"a",{id:t.id+"_aria",role:l.titleItem?"presentation":"option",href:"javascript:;",onclick:"return false;",onmousedown:"return false;"}),l.parent&&(n.setAttrib(r,"aria-haspopup","true"),n.setAttrib(r,"aria-owns","menu_"+t.id)),n.addClass(a,l["class"]),s=n.add(i,"span",{"class":"mceIcon"+(l.icon?" mce_"+l.icon:"")}),l.icon_src&&n.add(s,"img",{src:l.icon_src}),i=n.add(i,l.element||"span",{"class":"mceText",title:t.settings.title},t.settings.title),t.settings.style&&("function"==typeof t.settings.style&&(t.settings.style=t.settings.style()),n.setAttrib(i,"style",t.settings.style)),1==e.childNodes.length&&n.addClass(o,"mceFirst"),(i=o.previousSibling)&&n.hasClass(i,c+"ItemSeparator")&&n.addClass(o,"mceFirst"),t.collapse&&n.addClass(o,c+"ItemSub"),(i=o.previousSibling)&&n.removeClass(i,"mceLast"),n.addClass(o,"mceLast"),void 0)}})}(tinymce),function(e){var t=e.DOM;e.create("tinymce.ui.Button:tinymce.ui.Control",{Button:function(e,t,n){this.parent(e,t,n),this.classPrefix="mceButton"},renderHTML:function(){var e,n,i=this.classPrefix,r=this.settings;return n=t.encode(r.label||""),e='<a role="button" id="'+this.id+'" href="javascript:;" class="'+i+" "+i+"Enabled "+r["class"]+(n?" "+i+"Labeled":"")+'" onmousedown="return false;" onclick="return false;" aria-labelledby="'+this.id+'_voice" title="'+t.encode(r.title)+'">',e+=!r.image||this.editor&&this.editor.forcedHighContrastMode?'<span class="mceIcon '+r["class"]+'"></span>'+(n?'<span class="'+i+'Label">'+n+"</span>":""):'<span class="mceIcon '+r["class"]+'"><img class="mceIcon" src="'+r.image+'" alt="'+t.encode(r.title)+'" /></span>'+(n?'<span class="'+i+'Label">'+n+"</span>":""),e+='<span class="mceVoiceLabel mceIconOnly" style="display: none;" id="'+this.id+'_voice">'+r.title+"</span>",e+="</a>"},postRender:function(){var t,n=this,i=n.settings;e.isIE&&n.editor&&e.dom.Event.add(n.id,"mousedown",function(){var e=n.editor.selection.getNode().nodeName;t="IMG"===e?n.editor.selection.getBookmark():null}),e.dom.Event.add(n.id,"click",function(r){return n.isDisabled()?void 0:(e.isIE&&n.editor&&null!==t&&n.editor.selection.moveToBookmark(t),i.onclick.call(i.scope,r))}),e.dom.Event.add(n.id,"keyup",function(t){return n.isDisabled()||t.keyCode!=e.VK.SPACEBAR?void 0:i.onclick.call(i.scope,t)})}})}(tinymce),function(e){var t,n=e.DOM,i=e.dom.Event,r=e.each,o=e.util.Dispatcher;e.create("tinymce.ui.ListBox:tinymce.ui.Control",{ListBox:function(t,n,i){var r=this;r.parent(t,n,i),r.items=[],r.onChange=new o(r),r.onPostRender=new o(r),r.onAdd=new o(r),r.onRenderMenu=new e.util.Dispatcher(this),r.classPrefix="mceListBox",r.marked={}},select:function(e){var n,i,o=this;return o.marked={},e==t?o.selectByIndex(-1):(i=e&&"function"==typeof e?e:function(t){return t==e},e!=o.selectedValue&&(r(o.items,function(e,t){return i(e.value)?(n=1,o.selectByIndex(t),!1):void 0}),n||o.selectByIndex(-1)),void 0)},selectByIndex:function(e){var t,i,r,o=this;o.marked={},e!=o.selectedIndex&&(t=n.get(o.id+"_text"),r=n.get(o.id+"_voiceDesc"),i=o.items[e],i?(o.selectedValue=i.value,o.selectedIndex=e,n.setHTML(t,n.encode(i.title)),n.setHTML(r,o.settings.title+" - "+i.title),n.removeClass(t,"mceTitle"),n.setAttrib(o.id,"aria-valuenow",i.title)):(n.setHTML(t,n.encode(o.settings.title)),n.setHTML(r,n.encode(o.settings.title)),n.addClass(t,"mceTitle"),o.selectedValue=o.selectedIndex=null,n.setAttrib(o.id,"aria-valuenow",o.settings.title)),t=0)},mark:function(e){this.marked[e]=!0},add:function(t,n,i){var r=this;i=i||{},i=e.extend(i,{title:t,value:n}),r.items.push(i),r.onAdd.dispatch(r,i)},getLength:function(){return this.items.length},renderHTML:function(){var e="",t=this,i=t.settings,r=t.classPrefix;return e='<span role="listbox" aria-haspopup="true" aria-labelledby="'+t.id+'_voiceDesc" aria-describedby="'+t.id+'_voiceDesc"><table role="presentation" tabindex="0" id="'+t.id+'" cellpadding="0" cellspacing="0" class="'+r+" "+r+"Enabled"+(i["class"]?" "+i["class"]:"")+'"><tbody><tr>',e+="<td>"+n.createHTML("span",{id:t.id+"_voiceDesc","class":"voiceLabel",style:"display:none;"},t.settings.title),e+=n.createHTML("a",{id:t.id+"_text",tabindex:-1,href:"javascript:;","class":"mceText",onclick:"return false;",onmousedown:"return false;"},n.encode(t.settings.title))+"</td>",e+="<td>"+n.createHTML("a",{id:t.id+"_open",tabindex:-1,href:"javascript:;","class":"mceOpen",onclick:"return false;",onmousedown:"return false;"},'<span><span style="display:none;" class="mceIconOnly" aria-hidden="true">▼</span></span>')+"</td>",e+="</tr></tbody></table></span>"},showMenu:function(){var t,o,a=this,s=n.get(this.id);if(!a.isDisabled()&&0!==a.items.length){if(a.menu&&a.menu.isMenuVisible)return a.hideMenu();a.isMenuRendered||(a.renderMenu(),a.isMenuRendered=!0),t=n.getPos(s),o=a.menu,o.settings.offset_x=t.x,o.settings.offset_y=t.y,o.settings.keyboard_focus=!e.isOpera,r(a.items,function(e){o.items[e.id]&&o.items[e.id].setSelected(0)}),r(a.items,function(e){o.items[e.id]&&a.marked[e.value]&&o.items[e.id].setSelected(1),e.value===a.selectedValue&&o.items[e.id].setSelected(1)}),o.showMenu(0,s.clientHeight),i.add(n.doc,"mousedown",a.hideMenu,a),n.addClass(a.id,a.classPrefix+"Selected")}},hideMenu:function(e){var t=this;if(t.menu&&t.menu.isMenuVisible){if(n.removeClass(t.id,t.classPrefix+"Selected"),e&&"mousedown"==e.type&&(e.target.id==t.id+"_text"||e.target.id==t.id+"_open"))return;e&&n.getParent(e.target,".mceMenu")||(n.removeClass(t.id,t.classPrefix+"Selected"),i.remove(n.doc,"mousedown",t.hideMenu,t),t.menu.hideMenu())}},renderMenu:function(){var e,i=this;e=i.settings.control_manager.createDropMenu(i.id+"_menu",{menu_line:1,"class":i.classPrefix+"Menu mceNoIcons",max_width:250,max_height:150}),e.onHideMenu.add(function(){i.hideMenu(),i.focus()}),e.add({title:i.settings.title,"class":"mceMenuItemTitle",onclick:function(){i.settings.onselect("")!==!1&&i.select("")}}),r(i.items,function(r){r.value===t?e.add({title:r.title,role:"option","class":"mceMenuItemTitle",onclick:function(){i.settings.onselect("")!==!1&&i.select("")}}):(r.id=n.uniqueId(),r.role="option",r.onclick=function(){i.settings.onselect(r.value)!==!1&&i.select(r.value)},e.add(r))}),i.onRenderMenu.dispatch(i,e),i.menu=e},postRender:function(){var t=this,r=t.classPrefix;i.add(t.id,"click",t.showMenu,t),i.add(t.id,"keydown",function(e){32==e.keyCode&&(t.showMenu(e),i.cancel(e))}),i.add(t.id,"focus",function(){t._focused||(t.keyDownHandler=i.add(t.id,"keydown",function(e){40==e.keyCode&&(t.showMenu(),i.cancel(e))}),t.keyPressHandler=i.add(t.id,"keypress",function(e){var n;13==e.keyCode&&(n=t.selectedValue,t.selectedValue=null,i.cancel(e),t.settings.onselect(n))})),t._focused=1}),i.add(t.id,"blur",function(){i.remove(t.id,"keydown",t.keyDownHandler),i.remove(t.id,"keypress",t.keyPressHandler),t._focused=0}),(e.isIE6||!n.boxModel)&&(i.add(t.id,"mouseover",function(){n.hasClass(t.id,r+"Disabled")||n.addClass(t.id,r+"Hover")}),i.add(t.id,"mouseout",function(){n.hasClass(t.id,r+"Disabled")||n.removeClass(t.id,r+"Hover")})),t.onPostRender.dispatch(t,n.get(t.id))},destroy:function(){this.parent(),i.clear(this.id+"_text"),i.clear(this.id+"_open")}})}(tinymce),function(e){var t,n=e.DOM,i=e.dom.Event,r=e.each;e.util.Dispatcher,e.create("tinymce.ui.NativeListBox:tinymce.ui.ListBox",{NativeListBox:function(e,t){this.parent(e,t),this.classPrefix="mceNativeListBox"},setDisabled:function(e){n.get(this.id).disabled=e,this.setAriaProperty("disabled",e)},isDisabled:function(){return n.get(this.id).disabled},select:function(e){var n,i,o=this;return e==t?o.selectByIndex(-1):(i=e&&"function"==typeof e?e:function(t){return t==e},e!=o.selectedValue&&(r(o.items,function(e,t){return i(e.value)?(n=1,o.selectByIndex(t),!1):void 0}),n||o.selectByIndex(-1)),void 0)},selectByIndex:function(e){n.get(this.id).selectedIndex=e+1,this.selectedValue=this.items[e]?this.items[e].value:null},add:function(e,t,i){var r,o=this;i=i||{},i.value=t,o.isRendered()&&n.add(n.get(this.id),"option",i,e),r={title:e,value:t,attribs:i},o.items.push(r),o.onAdd.dispatch(o,r)},getLength:function(){return this.items.length},renderHTML:function(){var e,t=this;return e=n.createHTML("option",{value:""},"-- "+t.settings.title+" --"),r(t.items,function(t){e+=n.createHTML("option",{value:t.value},t.title)}),e=n.createHTML("select",{id:t.id,"class":"mceNativeListBox","aria-labelledby":t.id+"_aria"},e),e+=n.createHTML("span",{id:t.id+"_aria",style:"display: none"},t.settings.title)},postRender:function(){function t(e){var t=o.items[e.target.selectedIndex-1];t&&(t=t.value)&&(o.onChange.dispatch(o,t),o.settings.onselect&&o.settings.onselect(t))}var r,o=this,a=!0;o.rendered=!0,i.add(o.id,"change",t),i.add(o.id,"keydown",function(n){var s;return i.remove(o.id,"change",r),a=!1,s=i.add(o.id,"blur",function(){a||(a=!0,i.add(o.id,"change",t),i.remove(o.id,"blur",s))}),!e.isWebKit||37!=n.keyCode&&39!=n.keyCode?13==n.keyCode||32==n.keyCode?(t(n),i.cancel(n)):void 0:i.prevent(n)}),o.onPostRender.dispatch(o,n.get(o.id))}})}(tinymce),function(e){var t=e.DOM,n=e.dom.Event;e.each,e.create("tinymce.ui.MenuButton:tinymce.ui.Button",{MenuButton:function(n,i,r){this.parent(n,i,r),this.onRenderMenu=new e.util.Dispatcher(this),i.menu_container=i.menu_container||t.doc.body},showMenu:function(){var e,i,r,o=this,a=t.get(o.id);if(!o.isDisabled()){if(o.isMenuRendered||(o.renderMenu(),o.isMenuRendered=!0),o.isMenuVisible)return o.hideMenu();e=t.getPos(o.settings.menu_container),i=t.getPos(a),r=o.menu,r.settings.offset_x=i.x,r.settings.offset_y=i.y,r.settings.vp_offset_x=i.x,r.settings.vp_offset_y=i.y,r.settings.keyboard_focus=o._focused,r.showMenu(0,a.firstChild.clientHeight),n.add(t.doc,"mousedown",o.hideMenu,o),o.setState("Selected",1),o.isMenuVisible=1}},renderMenu:function(){var e,t=this;e=t.settings.control_manager.createDropMenu(t.id+"_menu",{menu_line:1,"class":this.classPrefix+"Menu",icons:t.settings.icons}),e.onHideMenu.add(function(){t.hideMenu(),t.focus()}),t.onRenderMenu.dispatch(t,e),t.menu=e},hideMenu:function(e){var i=this;e&&"mousedown"==e.type&&t.getParent(e.target,function(e){return e.id===i.id||e.id===i.id+"_open"})||(e&&t.getParent(e.target,".mceMenu")||(i.setState("Selected",0),n.remove(t.doc,"mousedown",i.hideMenu,i),i.menu&&i.menu.hideMenu()),i.isMenuVisible=0)},postRender:function(){var e=this,t=e.settings;n.add(e.id,"click",function(){e.isDisabled()||(t.onclick&&t.onclick(e.value),e.showMenu())})}})}(tinymce),function(e){var t=e.DOM,n=e.dom.Event;e.each,e.create("tinymce.ui.SplitButton:tinymce.ui.MenuButton",{SplitButton:function(e,t,n){this.parent(e,t,n),this.classPrefix="mceSplitButton"},renderHTML:function(){var e,n,i=this,r=i.settings;return e="<tbody><tr>",n=r.image?t.createHTML("img ",{src:r.image,role:"presentation","class":"mceAction "+r["class"]}):t.createHTML("span",{"class":"mceAction "+r["class"]},""),n+=t.createHTML("span",{"class":"mceVoiceLabel mceIconOnly",id:i.id+"_voice",style:"display:none;"},r.title),e+="<td >"+t.createHTML("a",{role:"button",id:i.id+"_action",tabindex:"-1",href:"javascript:;","class":"mceAction "+r["class"],onclick:"return false;",onmousedown:"return false;",title:r.title},n)+"</td>",n=t.createHTML("span",{"class":"mceOpen "+r["class"]},'<span style="display:none;" class="mceIconOnly" aria-hidden="true">▼</span>'),e+="<td >"+t.createHTML("a",{role:"button",id:i.id+"_open",tabindex:"-1",href:"javascript:;","class":"mceOpen "+r["class"],onclick:"return false;",onmousedown:"return false;",title:r.title},n)+"</td>",e+="</tr></tbody>",e=t.createHTML("table",{role:"presentation","class":"mceSplitButton mceSplitButtonEnabled "+r["class"],cellpadding:"0",cellspacing:"0",title:r.title},e),t.createHTML("div",{id:i.id,role:"button",tabindex:"0","aria-labelledby":i.id+"_voice","aria-haspopup":"true"},e)},postRender:function(){var i,r=this,o=r.settings;o.onclick&&(i=function(e){r.isDisabled()||(o.onclick(r.value),n.cancel(e))},n.add(r.id+"_action","click",i),n.add(r.id,["click","keydown"],function(e){var t=40;32!==e.keyCode&&13!==e.keyCode&&14!==e.keyCode||e.altKey||e.ctrlKey||e.metaKey?("click"===e.type||e.keyCode===t)&&(r.showMenu(),n.cancel(e)):(i(),n.cancel(e))})),n.add(r.id+"_open","click",function(e){r.showMenu(),n.cancel(e)}),n.add([r.id,r.id+"_open"],"focus",function(){r._focused=1}),n.add([r.id,r.id+"_open"],"blur",function(){r._focused=0}),(e.isIE6||!t.boxModel)&&(n.add(r.id,"mouseover",function(){t.hasClass(r.id,"mceSplitButtonDisabled")||t.addClass(r.id,"mceSplitButtonHover")}),n.add(r.id,"mouseout",function(){t.hasClass(r.id,"mceSplitButtonDisabled")||t.removeClass(r.id,"mceSplitButtonHover")}))},destroy:function(){this.parent(),n.clear(this.id+"_action"),n.clear(this.id+"_open"),n.clear(this.id)}})}(tinymce),function(e){var t=e.DOM,n=e.dom.Event,i=e.is,r=e.each;e.create("tinymce.ui.ColorSplitButton:tinymce.ui.SplitButton",{ColorSplitButton:function(t,n,i){var r=this;r.parent(t,n,i),r.settings=n=e.extend({colors:"000000,993300,333300,003300,003366,000080,333399,333333,800000,FF6600,808000,008000,008080,0000FF,666699,808080,FF0000,FF9900,99CC00,339966,33CCCC,3366FF,800080,999999,FF00FF,FFCC00,FFFF00,00FF00,00FFFF,00CCFF,993366,C0C0C0,FF99CC,FFCC99,FFFF99,CCFFCC,CCFFFF,99CCFF,CC99FF,FFFFFF",grid_width:8,default_color:"#888888"},r.settings),r.onShowMenu=new e.util.Dispatcher(r),r.onHideMenu=new e.util.Dispatcher(r),r.value=n.default_color},showMenu:function(){var i,r,o=this;if(!o.isDisabled()){if(o.isMenuRendered||(o.renderMenu(),o.isMenuRendered=!0),o.isMenuVisible)return o.hideMenu();i=t.get(o.id),t.show(o.id+"_menu"),t.addClass(i,"mceSplitButtonSelected"),r=t.getPos(i),t.setStyles(o.id+"_menu",{left:r.x,top:r.y+i.firstChild.clientHeight,zIndex:2e5}),i=0,n.add(t.doc,"mousedown",o.hideMenu,o),o.onShowMenu.dispatch(o),o._focused&&(o._keyHandler=n.add(o.id+"_menu","keydown",function(e){27==e.keyCode&&o.hideMenu()}),t.select("a",o.id+"_menu")[0].focus()),o.keyboardNav=new e.ui.KeyboardNavigation({root:o.id+"_menu",items:t.select("a",o.id+"_menu"),onCancel:function(){o.hideMenu(),o.focus()}}),o.keyboardNav.focus(),o.isMenuVisible=1}},hideMenu:function(e){var i=this;if(i.isMenuVisible){if(e&&"mousedown"==e.type&&t.getParent(e.target,function(e){return e.id===i.id+"_open"}))return;e&&t.getParent(e.target,".mceSplitButtonMenu")||(t.removeClass(i.id,"mceSplitButtonSelected"),n.remove(t.doc,"mousedown",i.hideMenu,i),n.remove(i.id+"_menu","keydown",i._keyHandler),t.hide(i.id+"_menu")),i.isMenuVisible=0,i.onHideMenu.dispatch(),i.keyboardNav.destroy()}},renderMenu:function(){var o,a,s,l,c,d,u=this,h=0,p=u.settings;return c=t.add(p.menu_container,"div",{role:"listbox",id:u.id+"_menu","class":p.menu_class+" "+p["class"],style:"position:absolute;left:0;top:-1000px;"}),o=t.add(c,"div",{"class":p["class"]+" mceSplitButtonMenu"}),t.add(o,"span",{"class":"mceMenuLine"}),a=t.add(o,"table",{role:"presentation","class":"mceColorSplitMenu"}),s=t.add(a,"tbody"),h=0,r(i(p.colors,"array")?p.colors:p.colors.split(","),function(n){n=n.replace(/^#/,""),h--||(l=t.add(s,"tr"),h=p.grid_width-1),a=t.add(l,"td");var i={href:"javascript:;",style:{backgroundColor:"#"+n},title:u.editor.getLang("colors."+n,n),"data-mce-color":"#"+n};e.isIE||(i.role="option"),a=t.add(a,"a",i),u.editor.forcedHighContrastMode&&(a=t.add(a,"canvas",{width:16,height:16,"aria-hidden":"true"}),a.getContext&&(d=a.getContext("2d"))?(d.fillStyle="#"+n,d.fillRect(0,0,16,16)):t.remove(a))}),p.more_colors_func&&(a=t.add(s,"tr"),a=t.add(a,"td",{colspan:p.grid_width,"class":"mceMoreColors"}),a=t.add(a,"a",{role:"option",id:u.id+"_more",href:"javascript:;",onclick:"return false;","class":"mceMoreColors"},p.more_colors_title),n.add(a,"click",function(e){return p.more_colors_func.call(p.more_colors_scope||this),n.cancel(e)})),t.addClass(o,"mceColorSplitMenu"),n.add(u.id+"_menu","mousedown",function(e){return n.cancel(e)}),n.add(u.id+"_menu","click",function(e){var n;return e=t.getParent(e.target,"a",s),e&&"a"==e.nodeName.toLowerCase()&&(n=e.getAttribute("data-mce-color"))&&u.setColor(n),!1}),c},setColor:function(e){this.displayColor(e),this.hideMenu(),this.settings.onselect(e)},displayColor:function(e){var n=this;t.setStyle(n.id+"_preview","backgroundColor",e),n.value=e},postRender:function(){var e=this,n=e.id;e.parent(),t.add(n+"_action","div",{id:n+"_preview","class":"mceColorPreview"}),t.setStyle(e.id+"_preview","backgroundColor",e.value)},destroy:function(){var e=this;e.parent(),n.clear(e.id+"_menu"),n.clear(e.id+"_more"),t.remove(e.id+"_menu"),e.keyboardNav&&e.keyboardNav.destroy()}})}(tinymce),function(e){var t=e.DOM,n=e.each,i=e.dom.Event;e.create("tinymce.ui.ToolbarGroup:tinymce.ui.Container",{renderHTML:function(){var n=this,i=[],r=n.controls,o=e.each,a=n.settings;return i.push('<div id="'+n.id+'" role="group" aria-labelledby="'+n.id+'_voice">'),i.push("<span role='application'>"),i.push('<span id="'+n.id+'_voice" class="mceVoiceLabel" style="display:none;">'+t.encode(a.name)+"</span>"),o(r,function(e){i.push(e.renderHTML())}),i.push("</span>"),i.push("</div>"),i.join("")},focus:function(){var e=this;t.get(e.id).focus()},postRender:function(){var i=this,r=[];n(i.controls,function(e){n(e.controls,function(e){e.id&&r.push(e)})}),i.keyNav=new e.ui.KeyboardNavigation({root:i.id,items:r,onCancel:function(){e.isWebKit&&t.get(i.editor.id+"_ifr").focus(),i.editor.focus()},excludeFromTabOrder:!i.settings.tab_focus_toolbar})},destroy:function(){var e=this;e.parent(),e.keyNav.destroy(),i.clear(e.id)}})}(tinymce),function(e){var t=e.DOM;e.each,e.create("tinymce.ui.Toolbar:tinymce.ui.Container",{renderHTML:function(){var e,n,i,r,o,a,s=this,l="",c=s.settings;for(a=s.controls,i=0;i<a.length;i++)n=a[i],r=a[i-1],o=a[i+1],0===i&&(e="mceToolbarStart",n.Button?e+=" mceToolbarStartButton":n.SplitButton?e+=" mceToolbarStartSplitButton":n.ListBox&&(e+=" mceToolbarStartListBox"),l+=t.createHTML("td",{"class":e},t.createHTML("span",null,"<!-- IE -->"))),r&&n.ListBox&&(r.Button||r.SplitButton)&&(l+=t.createHTML("td",{"class":"mceToolbarEnd"},t.createHTML("span",null,"<!-- IE -->"))),l+=t.stdMode?'<td style="position: relative">'+n.renderHTML()+"</td>":"<td>"+n.renderHTML()+"</td>",o&&n.ListBox&&(o.Button||o.SplitButton)&&(l+=t.createHTML("td",{"class":"mceToolbarStart"},t.createHTML("span",null,"<!-- IE -->")));return e="mceToolbarEnd",n.Button?e+=" mceToolbarEndButton":n.SplitButton?e+=" mceToolbarEndSplitButton":n.ListBox&&(e+=" mceToolbarEndListBox"),l+=t.createHTML("td",{"class":e},t.createHTML("span",null,"<!-- IE -->")),t.createHTML("table",{id:s.id,"class":"mceToolbar"+(c["class"]?" "+c["class"]:""),cellpadding:"0",cellspacing:"0",align:s.settings.align||"",role:"presentation",tabindex:"-1"},"<tbody><tr>"+l+"</tr></tbody>")}})}(tinymce),function(e){var t=e.util.Dispatcher;e.each,e.create("tinymce.AddOnManager",{AddOnManager:function(){var e=this;e.items=[],e.urls={},e.lookup={},e.onAdd=new t(e)},get:function(e){return this.lookup[e]?this.lookup[e].instance:void 0},dependencies:function(e){var t;return this.lookup[e]&&(t=this.lookup[e].dependencies),t||[]},requireLangPack:function(t){var n=e.settings;n&&n.language&&n.language_load!==!1&&e.ScriptLoader.add(this.urls[t]+"/langs/"+n.language+".js")},add:function(e,t,n){return this.items.push(t),this.lookup[e]={instance:t,dependencies:n},this.onAdd.dispatch(this,e,t),t},createUrl:function(e,t){return"object"==typeof t?t:{prefix:e.prefix,resource:t,suffix:e.suffix}},addComponents:function(t,n){var i=this.urls[t];e.each(n,function(t){e.ScriptLoader.add(i+"/"+t)})},load:function(t,n,i,r){function o(){var o=a.dependencies(t);e.each(o,function(e){var t=a.createUrl(n,e);a.load(t.resource,t,void 0,void 0)}),i&&(r?i.call(r):i.call(e.ScriptLoader))}var a=this,s=n;a.urls[t]||("object"==typeof n&&(s=n.prefix+n.resource+n.suffix),0!==s.indexOf("/")&&-1==s.indexOf("://")&&(s=e.baseURL+"/"+s),a.urls[t]=s.substring(0,s.lastIndexOf("/")),a.lookup[t]?o():e.ScriptLoader.add(s,o,r))}}),e.PluginManager=new e.AddOnManager,e.ThemeManager=new e.AddOnManager}(tinymce),function(e){var t,n=e.each,i=e.extend,r=e.DOM,o=e.dom.Event,a=(e.ThemeManager,e.PluginManager,e.explode),s=e.util.Dispatcher,l=0;e.documentBaseURL=window.location.href.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(e.documentBaseURL)||(e.documentBaseURL+="/"),e.baseURL=new e.util.URI(e.documentBaseURL).toAbsolute(e.baseURL),e.baseURI=new e.util.URI(e.baseURL),e.onBeforeUnload=new s(e),o.add(window,"beforeunload",function(t){e.onBeforeUnload.dispatch(e,t)}),e.onAddEditor=new s(e),e.onRemoveEditor=new s(e),e.EditorManager=i(e,{editors:[],i18n:{},activeEditor:null,init:function(t){function i(e){var t=e.id;return t||(t=e.name,t=t&&!r.get(t)?e.name:r.uniqueId(),e.setAttribute("id",t)),t}function s(t,n,i){var r=t[n];if(r)return e.is(r,"string")&&(i=r.replace(/\.\w+$/,""),i=i?e.resolve(i):0,r=e.resolve(r)),r.apply(i||this,Array.prototype.slice.call(arguments,2))}function c(e,t){return t.constructor===RegExp?t.test(e.className):r.hasClass(e,t)}var d,u=this,h=(e.ScriptLoader,[]);u.settings=t,o.bind(window,"ready",function(){var o,u;switch(s(t,"onpageload"),t.mode){case"exact":o=t.elements||"",o.length>0&&n(a(o),function(i){r.get(i)?(d=new e.Editor(i,t),h.push(d),d.render(1)):n(document.forms,function(o){n(o.elements,function(n){n.name===i&&(i="mce_editor_"+l++,r.setAttrib(n,"id",i),d=new e.Editor(i,t),h.push(d),d.render(1))})})});break;case"textareas":case"specific_textareas":n(r.select("textarea"),function(n){t.editor_deselector&&c(n,t.editor_deselector)||(!t.editor_selector||c(n,t.editor_selector))&&(d=new e.Editor(i(n),t),h.push(d),d.render(1))});break;default:t.types?n(t.types,function(o){n(r.select(o.selector),function(n){var r=new e.Editor(i(n),e.extend({},t,o));h.push(r),r.render(1)})}):t.selector&&n(r.select(t.selector),function(n){var r=new e.Editor(i(n),t);h.push(r),r.render(1)})}t.oninit&&(o=u=0,n(h,function(e){u++,e.initialized?o++:e.onInit.add(function(){o++,o==u&&s(t,"oninit")
}),o==u&&s(t,"oninit")}))})},get:function(e){return e===t?this.editors:this.editors.hasOwnProperty(e)?this.editors[e]:t},getInstanceById:function(e){return this.get(e)},add:function(t){var n=this,i=n.editors;return i[t.id]=t,i.push(t),n._setActive(t),n.onAddEditor.dispatch(n,t),e.adapter&&e.adapter.patchEditor(t),t},remove:function(e){var t,n=this,i=n.editors;if(!i[e.id])return null;for(delete i[e.id],t=0;t<i.length;t++)if(i[t]==e){i.splice(t,1);break}return n.activeEditor==e&&n._setActive(i[0]),e.destroy(),n.onRemoveEditor.dispatch(n,e),e},execCommand:function(t,n,i){function r(){s.destroy(),o.detachEvent("onunload",r),o=o.tinyMCE=o.tinymce=null}var o,a=this,s=a.get(i);switch(t){case"mceFocus":return s.focus(),!0;case"mceAddEditor":case"mceAddControl":return a.get(i)||new e.Editor(i,a.settings).render(),!0;case"mceAddFrameControl":return o=i.window,o.tinyMCE=tinyMCE,o.tinymce=e,e.DOM.doc=o.document,e.DOM.win=o,s=new e.Editor(i.element_id,i),s.render(),e.isIE&&o.attachEvent("onunload",r),i.page_window=null,!0;case"mceRemoveEditor":case"mceRemoveControl":return s&&s.remove(),!0;case"mceToggleEditor":return s?(s.isHidden()?s.show():s.hide(),!0):(a.execCommand("mceAddControl",0,i),!0)}return a.activeEditor?a.activeEditor.execCommand(t,n,i):!1},execInstanceCommand:function(e,t,n,i){var r=this.get(e);return r?r.execCommand(t,n,i):!1},triggerSave:function(){n(this.editors,function(e){e.save()})},addI18n:function(t,i){var r=this.i18n;e.is(t,"string")?n(i,function(e,n){r[t+"."+n]=e}):n(t,function(e,t){n(e,function(e,i){n(e,function(e,n){"common"===i?r[t+"."+n]=e:r[t+"."+i+"."+n]=e})})})},_setActive:function(e){this.selectedInstance=this.activeEditor=e}})}(tinymce),function(e){var t=e.DOM,n=e.dom.Event,i=e.extend,r=e.each,o=e.isGecko,a=e.isIE,s=(e.isWebKit,e.is),l=e.ThemeManager,c=e.PluginManager,d=e.explode;e.create("tinymce.Editor",{Editor:function(t,n){var r=this,o=!0;r.settings=n=i({id:t,language:"en",theme:"advanced",skin:"default",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:e.documentBaseURL,add_form_submit_trigger:o,submit_patch:o,add_unload_trigger:o,convert_urls:o,relative_urls:o,remove_script_host:o,table_inline_editing:!1,object_resizing:o,accessibility_focus:o,doctype:e.isIE6?'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">':"<!DOCTYPE>",visual:o,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",apply_source_formatting:o,directionality:"ltr",forced_root_block:"p",hidden_input:o,padd_empty_editor:o,render_ui:o,indentation:"30px",fix_table_elements:o,inline_styles:o,convert_fonts_to_spans:o,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,li,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,li,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,option,optgroup,datalist",validate:o,entity_encoding:"named",url_converter:r.convertURL,url_converter_scope:r,ie7_compat:o},n),r.id=r.editorId=t,r.isNotDirty=!1,r.plugins={},r.documentBaseURI=new e.util.URI(n.document_base_url||e.documentBaseURL,{base_uri:tinyMCE.baseURI}),r.baseURI=e.baseURI,r.contentCSS=[],r.contentStyles=[],r.setupEvents(),r.execCommands={},r.queryStateCommands={},r.queryValueCommands={},r.execCallback("setup",r)},render:function(){function i(){a.language&&a.language_load!==!1&&u.add(e.baseURL+"/langs/"+a.language+".js"),a.theme&&"function"!=typeof a.theme&&"-"!=a.theme.charAt(0)&&!l.urls[a.theme]&&l.load(a.theme,"themes/"+a.theme+"/editor_template"+e.suffix+".js"),r(d(a.plugins),function(t){if(t&&!c.urls[t])if("-"==t.charAt(0)){t=t.substr(1,t.length);var n=c.dependencies(t);r(n,function(t){var n={prefix:"plugins/",resource:t,suffix:"/editor_plugin"+e.suffix+".js"};t=c.createUrl(n,t),c.load(t.resource,t)})}else{if("safari"==t)return;c.load(t,{prefix:"plugins/",resource:t,suffix:"/editor_plugin"+e.suffix+".js"})}}),u.loadQueue(function(){o.removed||o.init()})}var o=this,a=o.settings,s=o.id,u=e.ScriptLoader;return n.domLoaded?(tinyMCE.settings=a,o.getElement()&&(!e.isIDevice||e.isIOS5)&&(!/TEXTAREA|INPUT/i.test(o.getElement().nodeName)&&a.hidden_input&&t.getParent(s,"form")&&t.insertAfter(t.create("input",{type:"hidden",name:s}),s),a.content_editable||(o.orgVisibility=o.getElement().style.visibility,o.getElement().style.visibility="hidden"),e.WindowManager&&(o.windowManager=new e.WindowManager(o)),"xml"==a.encoding&&o.onGetContent.add(function(e,n){n.save&&(n.content=t.encode(n.content))}),a.add_form_submit_trigger&&o.onSubmit.addToTop(function(){o.initialized&&(o.save(),o.isNotDirty=1)}),a.add_unload_trigger&&(o._beforeUnload=tinyMCE.onBeforeUnload.add(function(){!o.initialized||o.destroyed||o.isHidden()||o.save({format:"raw",no_events:!0})})),e.addUnload(o.destroy,o),a.submit_patch&&o.onBeforeRenderUI.add(function(){var t=o.getElement().form;t&&(t._mceOldSubmit||(t.submit.nodeType||t.submit.length||(o.formElement=t,t._mceOldSubmit=t.submit,t.submit=function(){return e.triggerSave(),o.isNotDirty=1,o.formElement._mceOldSubmit(o.formElement)}),t=null))}),i()),void 0):(n.add(window,"ready",function(){o.render()}),void 0)},init:function(){function n(t){var i,o=c.get(t),a=c.urls[t]||e.documentBaseURL.replace(/\/$/,"");o&&-1===e.inArray(k,t)&&(r(c.dependencies(t),function(e){n(e)}),i=new o(y,a),y.plugins[t]=i,i.init&&(i.init(y,a),k.push(t)))}var i,o,s,u,h,p,f,m,g,v,y=this,b=y.settings,x=y.getElement(),k=[];if(e.add(y),b.aria_label=b.aria_label||t.getAttrib(x,"aria-label",y.getLang("aria.rich_text_area")),b.theme&&("function"!=typeof b.theme?(b.theme=b.theme.replace(/-/,""),h=l.get(b.theme),y.theme=new h,y.theme.init&&y.theme.init(y,l.urls[b.theme]||e.documentBaseURL.replace(/\/$/,""))):y.theme=b.theme),r(d(b.plugins.replace(/\-/g,"")),n),b.popup_css!==!1&&(b.popup_css=b.popup_css?y.documentBaseURI.toAbsolute(b.popup_css):y.baseURI.toAbsolute("themes/"+b.theme+"/skins/"+b.skin+"/dialog.css")),b.popup_css_add&&(b.popup_css+=","+y.documentBaseURI.toAbsolute(b.popup_css_add)),y.controlManager=new e.ControlManager(y),y.onBeforeRenderUI.dispatch(y,y.controlManager),b.render_ui&&y.theme&&(y.orgDisplay=x.style.display,"function"!=typeof b.theme?(o=b.width||x.style.width||x.offsetWidth,s=b.height||x.style.height||x.offsetHeight,u=b.min_height||100,g=/^[0-9\.]+(|px)$/i,g.test(""+o)&&(o=Math.max(parseInt(o,10)+(h.deltaWidth||0),100)),g.test(""+s)&&(s=Math.max(parseInt(s,10)+(h.deltaHeight||0),u)),h=y.theme.renderUI({targetNode:x,width:o,height:s,deltaWidth:b.delta_width,deltaHeight:b.delta_height}),t.setStyles(h.sizeContainer||h.editorContainer,{width:o,height:s}),s=(h.iframeHeight||s)+("number"==typeof s?h.deltaHeight||0:""),u>s&&(s=u)):(h=b.theme(y,x),h.editorContainer.nodeType&&(h.editorContainer=h.editorContainer.id=h.editorContainer.id||y.id+"_parent"),h.iframeContainer.nodeType&&(h.iframeContainer=h.iframeContainer.id=h.iframeContainer.id||y.id+"_iframecontainer"),s=h.iframeHeight||x.offsetHeight,a&&y.onInit.add(function(e){e.dom.bind(e.getBody(),"beforedeactivate keydown",function(){e.lastIERng=e.selection.getRng()})})),y.editorContainer=h.editorContainer),b.content_css&&r(d(b.content_css),function(e){y.contentCSS.push(y.documentBaseURI.toAbsolute(e))}),b.content_style&&y.contentStyles.push(b.content_style),b.content_editable)return x=i=h=null,y.initContentBody();for(document.domain&&location.hostname!=document.domain&&(e.relaxedDomain=document.domain),y.iframeHTML=b.doctype+'<html><head xmlns="http://www.w3.org/1999/xhtml">',b.document_base_url!=e.documentBaseURL&&(y.iframeHTML+='<base href="'+y.documentBaseURI.getURI()+'" />'),e.isIE8&&(y.iframeHTML+=b.ie7_compat?'<meta http-equiv="X-UA-Compatible" content="IE=7" />':'<meta http-equiv="X-UA-Compatible" content="IE=edge" />'),y.iframeHTML+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',v=0;v<y.contentCSS.length;v++)y.iframeHTML+='<link type="text/css" rel="stylesheet" href="'+y.contentCSS[v]+'" />';y.contentCSS=[],f=b.body_id||"tinymce",-1!=f.indexOf("=")&&(f=y.getParam("body_id","","hash"),f=f[y.id]||f),m=b.body_class||"",-1!=m.indexOf("=")&&(m=y.getParam("body_class","","hash"),m=m[y.id]||""),y.iframeHTML+='</head><body id="'+f+'" class="mceContentBody '+m+'" onload="window.parent.tinyMCE.get(\''+y.id+"').onLoad.dispatch();\"><br></body></html>",e.relaxedDomain&&(a||e.isOpera&&parseFloat(opera.version())<11)&&(p='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinyMCE.get("'+y.id+'");document.write(ed.iframeHTML);document.close();ed.initContentBody();})()'),i=t.add(h.iframeContainer,"iframe",{id:y.id+"_ifr",src:p||'javascript:""',frameBorder:"0",allowTransparency:"true",title:b.aria_label,style:{width:"100%",height:s,display:"block"}}),y.contentAreaContainer=h.iframeContainer,h.editorContainer&&(t.get(h.editorContainer).style.display=y.orgDisplay),x.style.visibility=y.orgVisibility,t.get(y.id).style.display="none",t.setAttrib(y.id,"aria-hidden",!0),e.relaxedDomain&&p||y.initContentBody(),x=i=h=null},initContentBody:function(){var n,i,o=this,s=o.settings,l=t.get(o.id),c=o.getDoc();a&&e.relaxedDomain||s.content_editable||(c.open(),c.write(o.iframeHTML),c.close(),e.relaxedDomain&&(c.domain=e.relaxedDomain)),s.content_editable&&(t.addClass(l,"mceContentBody"),o.contentDocument=c=s.content_document||document,o.contentWindow=s.content_window||window,o.bodyElement=l,s.content_document=s.content_window=null),n=o.getBody(),n.disabled=!0,s.readonly||(n.contentEditable=o.getParam("content_editable_state",!0)),n.disabled=!1,o.schema=new e.html.Schema(s),o.dom=new e.dom.DOMUtils(c,{keep_values:!0,url_converter:o.convertURL,url_converter_scope:o,hex_colors:s.force_hex_style_colors,class_filter:s.class_filter,update_styles:!0,root_element:s.content_editable?o.id:null,schema:o.schema}),o.parser=new e.html.DomParser(s,o.schema),o.parser.addAttributeFilter("src,href,style",function(e,t){for(var n,i,r,a=e.length,s=o.dom;a--;)n=e[a],i=n.attr(t),r="data-mce-"+t,n.attributes.map[r]||("style"===t?n.attr(r,s.serializeStyle(s.parseStyle(i),n.name)):n.attr(r,o.convertURL(i,t,n.name)))}),o.parser.addNodeFilter("script",function(e){for(var t,n=e.length;n--;)t=e[n],t.attr("type","mce-"+(t.attr("type")||"text/javascript"))}),o.parser.addNodeFilter("#cdata",function(e){for(var t,n=e.length;n--;)t=e[n],t.type=8,t.name="#comment",t.value="[CDATA["+t.value+"]]"}),o.parser.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(t){for(var n,i=t.length,r=o.schema.getNonEmptyElements();i--;)n=t[i],n.isEmpty(r)&&(n.empty().append(new e.html.Node("br",1)).shortEnded=!0)}),o.serializer=new e.dom.Serializer(s,o.dom,o.schema),o.selection=new e.dom.Selection(o.dom,o.getWin(),o.serializer,o),o.formatter=new e.Formatter(o),o.undoManager=new e.UndoManager(o),o.forceBlocks=new e.ForceBlocks(o),o.enterKey=new e.EnterKey(o),o.editorCommands=new e.EditorCommands(o),o.onExecCommand.add(function(e,t){/^(FontName|FontSize)$/.test(t)||o.nodeChanged()}),o.serializer.onPreProcess.add(function(e,t){return o.onPreProcess.dispatch(o,t,e)}),o.serializer.onPostProcess.add(function(e,t){return o.onPostProcess.dispatch(o,t,e)}),o.onPreInit.dispatch(o),s.browser_spellcheck||s.gecko_spellcheck||(c.body.spellcheck=!1),s.readonly||o.bindNativeEvents(),o.controlManager.onPostRender.dispatch(o,o.controlManager),o.onPostRender.dispatch(o),o.quirks=e.util.Quirks(o),s.directionality&&(n.dir=s.directionality),s.nowrap&&(n.style.whiteSpace="nowrap"),s.protect&&o.onBeforeSetContent.add(function(e,t){r(s.protect,function(e){t.content=t.content.replace(e,function(e){return"<!--mce:protected "+escape(e)+"-->"})})}),o.onSetContent.add(function(){o.addVisual(o.getBody())}),s.padd_empty_editor&&o.onPostProcess.add(function(e,t){t.content=t.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")}),o.load({initial:!0,format:"html"}),o.startContent=o.getContent({format:"raw"}),o.initialized=!0,o.onInit.dispatch(o),o.execCallback("setupcontent_callback",o.id,n,c),o.execCallback("init_instance_callback",o),o.focus(!0),o.nodeChanged({initial:!0}),o.contentStyles.length>0&&(i="",r(o.contentStyles,function(e){i+=e+"\r\n"}),o.dom.addStyle(i)),r(o.contentCSS,function(e){o.dom.loadCSS(e)}),s.auto_focus&&setTimeout(function(){var t=e.get(s.auto_focus);t.selection.select(t.getBody(),1),t.selection.collapse(1),t.getBody().focus(),t.getWin().focus()},100),l=c=n=null},focus:function(t){var n,i,r,o,a=this,s=a.selection,l=a.settings.content_editable,c=a.getDoc();t||(a.lastIERng&&s.setRng(a.lastIERng),i=s.getRng(),i.item&&(r=i.item(0)),a._refreshContentEditable(),l||a.getWin().focus(),(e.isGecko||l)&&(o=a.getBody(),o.setActive?o.setActive():o.focus(),l&&s.normalize()),r&&r.ownerDocument==c&&(i=c.body.createControlRange(),i.addElement(r),i.select())),e.activeEditor!=a&&(null!=(n=e.activeEditor)&&n.onDeactivate.dispatch(n,a),a.onActivate.dispatch(a,n)),e._setActive(a)},execCallback:function(t){var n,i=this,r=i.settings[t];if(r)return i.callbackLookup&&(n=i.callbackLookup[t])&&(r=n.func,n=n.scope),s(r,"string")&&(n=r.replace(/\.\w+$/,""),n=n?e.resolve(n):0,r=e.resolve(r),i.callbackLookup=i.callbackLookup||{},i.callbackLookup[t]={func:r,scope:n}),r.apply(n||i,Array.prototype.slice.call(arguments,1))},translate:function(t){var n=this.settings.language||"en",i=e.i18n;return t?i[n+"."+t]||t.replace(/\{\#([^\}]+)\}/g,function(e,t){return i[n+"."+t]||"{#"+t+"}"}):""},getLang:function(t,n){return e.i18n[(this.settings.language||"en")+"."+t]||(s(n)?n:"{#"+t+"}")},getParam:function(t,n,i){var o,a=e.trim,l=s(this.settings[t])?this.settings[t]:n;return"hash"===i?(o={},s(l,"string")?r(l.indexOf("=")>0?l.split(/[;,](?![^=;,]*(?:[;,]|$))/):l.split(","),function(e){e=e.split("="),o[a(e[0])]=e.length>1?a(e[1]):a(e)}):o=l,o):l},nodeChanged:function(e){var t,n=this,i=n.selection;n.initialized&&(e=e||{},t=i.getStart()||n.getBody(),t=a&&t.ownerDocument!=n.getDoc()?n.getBody():t,e.parents=[],n.dom.getParent(t,function(t){return"BODY"==t.nodeName?!0:(e.parents.push(t),void 0)}),n.onNodeChange.dispatch(n,e?e.controlManager||n.controlManager:n.controlManager,t,i.isCollapsed(),e))},addButton:function(e,t){var n=this;n.buttons=n.buttons||{},n.buttons[e]=t},addCommand:function(e,t,n){this.execCommands[e]={func:t,scope:n||this}},addQueryStateHandler:function(e,t,n){this.queryStateCommands[e]={func:t,scope:n||this}},addQueryValueHandler:function(e,t,n){this.queryValueCommands[e]={func:t,scope:n||this}},addShortcut:function(e,t,n,i){var o,a=this;return a.settings.custom_shortcuts===!1?!1:(a.shortcuts=a.shortcuts||{},s(n,"string")&&(o=n,n=function(){a.execCommand(o,!1,null)}),s(n,"object")&&(o=n,n=function(){a.execCommand(o[0],o[1],o[2])}),r(d(e),function(e){var o={func:n,scope:i||this,desc:a.translate(t),alt:!1,ctrl:!1,shift:!1};r(d(e,"+"),function(e){switch(e){case"alt":case"ctrl":case"shift":o[e]=!0;break;default:o.charCode=e.charCodeAt(0),o.keyCode=e.toUpperCase().charCodeAt(0)}}),a.shortcuts[(o.ctrl?"ctrl":"")+","+(o.alt?"alt":"")+","+(o.shift?"shift":"")+","+o.keyCode]=o}),!0)},execCommand:function(e,t,n,o){var a,s,l=this,c=0;return/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint|SelectAll)$/.test(e)||o&&o.skip_focus||l.focus(),o=i({},o),l.onBeforeExecCommand.dispatch(l,e,t,n,o),o.terminate?!1:l.execCallback("execcommand_callback",l.id,l.selection.getNode(),e,t,n)?(l.onExecCommand.dispatch(l,e,t,n,o),!0):(a=l.execCommands[e])&&(s=a.func.call(a.scope,t,n),s!==!0)?(l.onExecCommand.dispatch(l,e,t,n,o),s):(r(l.plugins,function(i){return i.execCommand&&i.execCommand(e,t,n)?(l.onExecCommand.dispatch(l,e,t,n,o),c=1,!1):void 0}),c?!0:l.theme&&l.theme.execCommand&&l.theme.execCommand(e,t,n)?(l.onExecCommand.dispatch(l,e,t,n,o),!0):l.editorCommands.execCommand(e,t,n)?(l.onExecCommand.dispatch(l,e,t,n,o),!0):(l.getDoc().execCommand(e,t,n),l.onExecCommand.dispatch(l,e,t,n,o),void 0))},queryCommandState:function(e){var t,n,i=this;if(!i._isHidden()){if((t=i.queryStateCommands[e])&&(n=t.func.call(t.scope),n!==!0))return n;if(t=i.editorCommands.queryCommandState(e),-1!==t)return t;try{return this.getDoc().queryCommandState(e)}catch(r){}}},queryCommandValue:function(e){var t,n,i=this;if(!i._isHidden()){if((t=i.queryValueCommands[e])&&(n=t.func.call(t.scope),n!==!0))return n;if(t=i.editorCommands.queryCommandValue(e),s(t))return t;try{return this.getDoc().queryCommandValue(e)}catch(r){}}},show:function(){var e=this;t.show(e.getContainer()),t.hide(e.id),e.load()},hide:function(){var e=this,n=e.getDoc();a&&n&&n.execCommand("SelectAll"),e.save(),t.hide(e.getContainer()),t.setStyle(e.id,"display",e.orgDisplay)},isHidden:function(){return!t.isHidden(this.id)},setProgressState:function(e,t,n){return this.onSetProgressState.dispatch(this,e,t,n),e},load:function(e){var t,n=this,i=n.getElement();return i?(e=e||{},e.load=!0,t=n.setContent(s(i.value)?i.value:i.innerHTML,e),e.element=i,e.no_events||n.onLoadContent.dispatch(n,e),e.element=i=null,t):void 0},save:function(e){var n,i,o=this,a=o.getElement();if(a&&o.initialized)return e=e||{},e.save=!0,e.element=a,n=e.content=o.getContent(e),e.no_events||o.onSaveContent.dispatch(o,e),n=e.content,/TEXTAREA|INPUT/i.test(a.nodeName)?a.value=n:(a.innerHTML=n,(i=t.getParent(o.id,"form"))&&r(i.elements,function(e){return e.name==o.id?(e.value=n,!1):void 0})),e.element=a=null,n},setContent:function(t,n){var i,r=this,o=r.getBody();return n=n||{},n.format=n.format||"html",n.set=!0,n.content=t,n.no_events||r.onBeforeSetContent.dispatch(r,n),t=n.content,e.isIE||0!==t.length&&!/^\s+$/.test(t)?("raw"!==n.format&&(t=new e.html.Serializer({},r.schema).serialize(r.parser.parse(t))),n.content=e.trim(t),r.dom.setHTML(o,n.content),n.no_events||r.onSetContent.dispatch(r,n),r.settings.content_editable&&document.activeElement!==r.getBody()||r.selection.normalize(),n.content):(i=r.settings.forced_root_block,t=i?"<"+i+'><br data-mce-bogus="1"></'+i+">":'<br data-mce-bogus="1">',o.innerHTML=t,r.selection.select(o,!0),r.selection.collapse(!0),void 0)},getContent:function(t){var n,i=this,r=i.getBody();return t=t||{},t.format=t.format||"html",t.get=!0,t.getInner=!0,t.no_events||i.onBeforeGetContent.dispatch(i,t),n="raw"==t.format?r.innerHTML:"text"==t.format?r.innerText||r.textContent:i.serializer.serialize(r,t),t.content="text"!=t.format?e.trim(n):n,t.no_events||i.onGetContent.dispatch(i,t),t.content},isDirty:function(){var t=this;return e.trim(t.startContent)!=e.trim(t.getContent({format:"raw",no_events:1}))&&!t.isNotDirty},getContainer:function(){var e=this;return e.container||(e.container=t.get(e.editorContainer||e.id+"_parent")),e.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return t.get(this.settings.content_element||this.id)},getWin:function(){var e,n=this;return n.contentWindow||(e=t.get(n.id+"_ifr"),e&&(n.contentWindow=e.contentWindow)),n.contentWindow},getDoc:function(){var e,t=this;return t.contentDocument||(e=t.getWin(),e&&(t.contentDocument=e.document)),t.contentDocument},getBody:function(){return this.bodyElement||this.getDoc().body},convertURL:function(e,t,n){var i=this,r=i.settings;return r.urlconverter_callback?i.execCallback("urlconverter_callback",e,n,!0,t):!r.convert_urls||n&&"LINK"==n.nodeName||0===e.indexOf("file:")?e:r.relative_urls?i.documentBaseURI.toRelative(e):e=i.documentBaseURI.toAbsolute(e,r.remove_script_host)},addVisual:function(e){var t,n=this,i=n.settings,o=n.dom;e=e||n.getBody(),s(n.hasVisual)||(n.hasVisual=i.visual),r(o.select("table,a",e),function(e){var r;switch(e.nodeName){case"TABLE":return t=i.visual_table_class||"mceItemTable",r=o.getAttrib(e,"border"),r&&"0"!=r||(n.hasVisual?o.addClass(e,t):o.removeClass(e,t)),void 0;case"A":return o.getAttrib(e,"href",!1)||(r=o.getAttrib(e,"name")||e.id,t="mceItemAnchor",r&&(n.hasVisual?o.addClass(e,t):o.removeClass(e,t))),void 0}}),n.onVisualAid.dispatch(n,e,n.hasVisual)},remove:function(){var i=this,r=i.getContainer(),o=i.getDoc();i.removed||(i.removed=1,a&&o&&o.execCommand("SelectAll"),i.save(),t.setStyle(i.id,"display",i.orgDisplay),i.settings.content_editable||(n.unbind(i.getWin()),n.unbind(i.getDoc())),n.unbind(i.getBody()),n.clear(r),i.execCallback("remove_instance_callback",i),i.onRemove.dispatch(i),i.onExecCommand.listeners=[],e.remove(i),t.remove(r))},destroy:function(t){var i=this;i.destroyed||(o&&(n.unbind(i.getDoc()),n.unbind(i.getWin()),n.unbind(i.getBody())),t||(e.removeUnload(i.destroy),tinyMCE.onBeforeUnload.remove(i._beforeUnload),i.theme&&i.theme.destroy&&i.theme.destroy(),i.controlManager.destroy(),i.selection.destroy(),i.dom.destroy()),i.formElement&&(i.formElement.submit=i.formElement._mceOldSubmit,i.formElement._mceOldSubmit=null),i.contentAreaContainer=i.formElement=i.container=i.settings.content_element=i.bodyElement=i.contentDocument=i.contentWindow=null,i.selection&&(i.selection=i.selection.win=i.selection.dom=i.selection.dom.doc=null),i.destroyed=1)},_refreshContentEditable:function(){var e,t,n=this;n._isHidden()&&(e=n.getBody(),t=e.parentNode,t.removeChild(e),t.appendChild(e),e.focus())},_isHidden:function(){var e;return o?(e=this.selection.getSel(),!e||!e.rangeCount||0===e.rangeCount):0}})}(tinymce),function(e){var t=e.each;e.Editor.prototype.setupEvents=function(){var n=this,i=n.settings;t(["onPreInit","onBeforeRenderUI","onPostRender","onLoad","onInit","onRemove","onActivate","onDeactivate","onClick","onEvent","onMouseUp","onMouseDown","onDblClick","onKeyDown","onKeyUp","onKeyPress","onContextMenu","onSubmit","onReset","onPaste","onPreProcess","onPostProcess","onBeforeSetContent","onBeforeGetContent","onSetContent","onGetContent","onLoadContent","onSaveContent","onNodeChange","onChange","onBeforeExecCommand","onExecCommand","onUndo","onRedo","onVisualAid","onSetProgressState","onSetAttrib"],function(t){n[t]=new e.util.Dispatcher(n)}),i.cleanup_callback&&(n.onBeforeSetContent.add(function(e,t){t.content=e.execCallback("cleanup_callback","insert_to_editor",t.content,t)}),n.onPreProcess.add(function(e,t){t.set&&e.execCallback("cleanup_callback","insert_to_editor_dom",t.node,t),t.get&&e.execCallback("cleanup_callback","get_from_editor_dom",t.node,t)}),n.onPostProcess.add(function(e,t){t.set&&(t.content=e.execCallback("cleanup_callback","insert_to_editor",t.content,t)),t.get&&(t.content=e.execCallback("cleanup_callback","get_from_editor",t.content,t))})),i.save_callback&&n.onGetContent.add(function(e,t){t.save&&(t.content=e.execCallback("save_callback",e.id,t.content,e.getBody()))}),i.handle_event_callback&&n.onEvent.add(function(e,t,i){n.execCallback("handle_event_callback",t,e,i)===!1&&(t.preventDefault(),t.stopPropagation())}),i.handle_node_change_callback&&n.onNodeChange.add(function(e,t,n){e.execCallback("handle_node_change_callback",e.id,n,-1,-1,!0,e.selection.isCollapsed())}),i.save_callback&&n.onSaveContent.add(function(e,t){var n=e.execCallback("save_callback",e.id,t.content,e.getBody());n&&(t.content=n)}),i.onchange_callback&&n.onChange.add(function(e,t){e.execCallback("onchange_callback",e,t)})},e.Editor.prototype.bindNativeEvents=function(){function n(e,t){e.type,s.removed||s.onEvent.dispatch(s,e,t)!==!1&&s[a[e.fakeType||e.type]].dispatch(s,e,t)}function i(){s.focus(!0)}function r(t,n){65==n.keyCode&&e.VK.metaKeyPressed(n)||s.selection.normalize(),s.nodeChanged()}function o(n,i){(n.altKey||n.ctrlKey||n.metaKey)&&t(s.shortcuts,function(t){var r=e.isMac?n.metaKey:n.ctrlKey;if(t.ctrl==r&&t.alt==n.altKey&&t.shift==n.shiftKey)return n.keyCode==t.keyCode||n.charCode&&n.charCode==t.charCode?(n.preventDefault(),i&&t.func.call(t.scope),!0):void 0})}var a,s=this,l=s.settings,c=s.dom;a={mouseup:"onMouseUp",mousedown:"onMouseDown",click:"onClick",keyup:"onKeyUp",keydown:"onKeyDown",keypress:"onKeyPress",submit:"onSubmit",reset:"onReset",contextmenu:"onContextMenu",dblclick:"onDblClick",paste:"onPaste"},t(a,function(t,i){var r=l.content_editable?s.getBody():s.getDoc();switch(i){case"contextmenu":c.bind(r,i,n);break;case"paste":c.bind(s.getBody(),i,n);break;case"submit":case"reset":c.bind(s.getElement().form||e.DOM.getParent(s.id,"form"),i,n);break;default:c.bind(r,i,n)}}),c.bind(l.content_editable?s.getBody():e.isGecko?s.getDoc():s.getWin(),"focus",function(){s.focus(!0)}),l.content_editable&&e.isOpera&&(c.bind(s.getBody(),"click",i),c.bind(s.getBody(),"keydown",i)),s.onMouseUp.add(r),s.onKeyUp.add(function(t,n){var i=n.keyCode;(i>=33&&36>=i||i>=37&&40>=i||13==i||45==i||46==i||8==i||e.isMac&&(91==i||93==i)||n.ctrlKey)&&r(t,n)}),s.onReset.add(function(){s.setContent(s.startContent,{format:"raw"})}),s.onKeyUp.add(function(e,t){o(t)}),s.onKeyPress.add(function(e,t){o(t)}),s.onKeyDown.add(function(e,t){o(t,!0)}),e.isOpera&&s.onClick.add(function(e,t){t.preventDefault()})}}(tinymce),function(e){var t,n=e.each,i=!0,r=!1;e.EditorCommands=function(o){function a(e,t,n){var o;return e=e.toLowerCase(),(o=y.exec[e])?(o(e,t,n),i):r}function s(e){var t;return e=e.toLowerCase(),(t=y.state[e])?t(e):-1}function l(e){var t;return e=e.toLowerCase(),(t=y.value[e])?t(e):r}function c(e,t){t=t||"exec",n(e,function(e,i){n(i.toLowerCase().split(","),function(n){y[t][n]=e})})}function d(e,n,i){return n===t&&(n=r),i===t&&(i=null),o.getDoc().execCommand(e,n,i)}function u(e){return x.match(e)}function h(e,n){x.toggle(e,n?{value:n}:t)}function p(e){m=v.getBookmark(e)}function f(){v.moveToBookmark(m)}var m,g=o.dom,v=o.selection,y={state:{},exec:{},value:{}},b=o.settings,x=o.formatter;e.extend(this,{execCommand:a,queryCommandState:s,queryCommandValue:l,addCommands:c}),c({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){o.undoManager.add()},"Cut,Copy,Paste":function(t){var n,r=o.getDoc();try{d(t)}catch(a){n=i}(n||!r.queryCommandSupported(t))&&(e.isGecko?o.windowManager.confirm(o.getLang("clipboard_msg"),function(e){e&&open("http://www.mozilla.org/editor/midasdemo/securityprefs.html","_blank")}):o.windowManager.alert(o.getLang("clipboard_no_support")))},unlink:function(e){v.isCollapsed()&&v.select(v.getNode()),d(e),v.collapse(r)},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(e){var t=e.substring(7);n("left,center,right,full".split(","),function(e){t!=e&&x.remove("align"+e)}),h("align"+t),a("mceRepaint")},"InsertUnorderedList,InsertOrderedList":function(e){var t,n;d(e),t=g.getParent(v.getNode(),"ol,ul"),t&&(n=t.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(n.nodeName)&&(p(),g.split(n,t),f()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){h(e)},"ForeColor,HiliteColor,FontName":function(e,t,n){h(e,n)},FontSize:function(t,n,i){var r,o;i>=1&&7>=i&&(o=e.explode(b.font_size_style_values),r=e.explode(b.font_size_classes),i=r?r[i-1]||i:o[i-1]||i),h(t,i)},RemoveFormat:function(e){x.remove(e)},mceBlockQuote:function(){h("blockquote")},FormatBlock:function(e,t,n){return h(n||"p")},mceCleanup:function(){var e=v.getBookmark();o.setContent(o.getContent({cleanup:i}),{cleanup:i}),v.moveToBookmark(e)},mceRemoveNode:function(e,t,n){var r=n||v.getNode();r!=o.getBody()&&(p(),o.dom.remove(r,i),f())},mceSelectNodeDepth:function(e,t,n){var i=0;g.getParent(v.getNode(),function(e){return 1==e.nodeType&&i++==n?(v.select(e),r):void 0},o.getBody())},mceSelectNode:function(e,t,n){v.select(n)},mceInsertContent:function(t,n,i){var r,a,s,l,c,d,u,h,p,f,m,y,b,x;if(r=o.parser,a=new e.html.Serializer({},o.schema),b='<span id="mce_marker" data-mce-type="bookmark">﻿</span>',d={content:i,format:"html"},v.onBeforeSetContent.dispatch(v,d),i=d.content,-1==i.indexOf("{$caret}")&&(i+="{$caret}"),i=i.replace(/\{\$caret\}/,b),v.isCollapsed()||o.getDoc().execCommand("Delete",!1,null),s=v.getNode(),d={context:s.nodeName.toLowerCase()},c=r.parse(i,d),m=c.lastChild,"mce_marker"==m.attr("id"))for(u=m,m=m.prev;m;m=m.walk(!0))if(3==m.type||!g.isBlock(m.name)){m.parent.insert(u,m,"br"===m.name);break}if(d.invalid){for(v.setContent(b),s=v.getNode(),l=o.getBody(),9==s.nodeType?s=m=l:m=s;m!==l;)s=m,m=m.parentNode;i=s==l?l.innerHTML:g.getOuterHTML(s),i=a.serialize(r.parse(i.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return a.serialize(c)}))),s==l?g.setHTML(l,i):g.setOuterHTML(s,i)}else i=a.serialize(c),m=s.firstChild,y=s.lastChild,!m||m===y&&"BR"===m.nodeName?g.setHTML(s,i):v.setContent(i);u=g.get("mce_marker"),h=g.getRect(u),p=g.getViewPort(o.getWin()),(h.y+h.h>p.y+p.h||h.y<p.y||h.x>p.x+p.w||h.x<p.x)&&(x=e.isIE?o.getDoc().documentElement:o.getBody(),x.scrollLeft=h.x,x.scrollTop=h.y-p.h+25),f=g.createRng(),m=u.previousSibling,m&&3==m.nodeType?f.setStart(m,m.nodeValue.length):(f.setStartBefore(u),f.setEndBefore(u)),g.remove(u),v.setRng(f),v.onSetContent.dispatch(v,d),o.addVisual()},mceInsertRawHTML:function(e,t,n){v.setContent("tiny_mce_marker"),o.setContent(o.getContent().replace(/tiny_mce_marker/g,function(){return n}))},mceToggleFormat:function(e,t,n){h(n)},mceSetContent:function(e,t,n){o.setContent(n)},"Indent,Outdent":function(e){var t,i,r;t=b.indentation,i=/[a-z%]+$/i.exec(t),t=parseInt(t),s("InsertUnorderedList")||s("InsertOrderedList")?d(e):(b.forced_root_block||g.getParent(v.getNode(),g.isBlock)||x.apply("div"),n(v.getSelectedBlocks(),function(n){"outdent"==e?(r=Math.max(0,parseInt(n.style.paddingLeft||0)-t),g.setStyle(n,"paddingLeft",r?r+i:"")):g.setStyle(n,"paddingLeft",parseInt(n.style.paddingLeft||0)+t+i)}))},mceRepaint:function(){if(e.isGecko)try{p(i),v.getSel()&&v.getSel().selectAllChildren(o.getBody()),v.collapse(i),f()}catch(t){}},mceToggleFormat:function(e,t,n){x.toggle(n)},InsertHorizontalRule:function(){o.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){o.hasVisual=!o.hasVisual,o.addVisual()},mceReplaceContent:function(e,t,n){o.execCommand("mceInsertContent",!1,n.replace(/\{\$selection\}/g,v.getContent({format:"text"})))},mceInsertLink:function(e,t,n){var i;"string"==typeof n&&(n={href:n}),i=g.getParent(v.getNode(),"a"),n.href=n.href.replace(" ","%20"),i&&n.href||x.remove("link"),n.href&&x.apply("link",n,i)},selectAll:function(){var e=g.getRoot(),t=g.createRng();v.getRng().setStart?(t.setStart(e,0),t.setEnd(e,e.childNodes.length),v.setRng(t)):d("SelectAll")}}),c({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(t){var n="align"+t.substring(7),r=v.isCollapsed()?[g.getParent(v.getNode(),g.isBlock)]:v.getSelectedBlocks(),o=e.map(r,function(e){return!!x.matchNode(e,n)});return-1!==e.inArray(o,i)},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){return u(e)},mceBlockQuote:function(){return u("blockquote")},Outdent:function(){var e;if(b.inline_styles){if((e=g.getParent(v.getStart(),g.isBlock))&&parseInt(e.style.paddingLeft)>0)return i;if((e=g.getParent(v.getEnd(),g.isBlock))&&parseInt(e.style.paddingLeft)>0)return i}return s("InsertUnorderedList")||s("InsertOrderedList")||!b.inline_styles&&!!g.getParent(v.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(e){var t=g.getParent(v.getNode(),"ul,ol");return t&&("insertunorderedlist"===e&&"UL"===t.tagName||"insertorderedlist"===e&&"OL"===t.tagName)}},"state"),c({"FontSize,FontName":function(e){var t,n=0;return(t=g.getParent(v.getNode(),"span"))&&(n="fontsize"==e?t.style.fontSize:t.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase()),n}},"value"),c({Undo:function(){o.undoManager.undo()},Redo:function(){o.undoManager.redo()}})}}(tinymce),function(e){var t=e.util.Dispatcher;e.UndoManager=function(n){function i(){return e.trim(n.getContent({format:"raw",no_events:1}).replace(/<span[^>]+data-mce-bogus[^>]+>[\u200B\uFEFF]+<\/span>/g,""))}function r(){o.typing=!1,o.add()}var o,a,s,l,c,d=0,u=[];return onBeforeAdd=new t(o),s=new t(o),l=new t(o),c=new t(o),s.add(function(e,t){return e.hasUndo()?n.onChange.dispatch(n,t,e):void 0}),l.add(function(e,t){return n.onUndo.dispatch(n,t,e)}),c.add(function(e,t){return n.onRedo.dispatch(n,t,e)}),n.onInit.add(function(){o.add()}),n.onBeforeExecCommand.add(function(e,t,n,i,r){"Undo"==t||"Redo"==t||"mceRepaint"==t||r&&r.skip_undo||o.beforeChange()}),n.onExecCommand.add(function(e,t,n,i,r){"Undo"==t||"Redo"==t||"mceRepaint"==t||r&&r.skip_undo||o.add()}),n.onSaveContent.add(r),n.dom.bind(n.dom.getRoot(),"dragend",r),n.dom.bind(n.getBody(),"focusout",function(){!n.removed&&o.typing&&r()}),n.onKeyUp.add(function(e,t){var n=t.keyCode;(n>=33&&36>=n||n>=37&&40>=n||45==n||13==n||t.ctrlKey)&&r()}),n.onKeyDown.add(function(e,t){var n=t.keyCode;return n>=33&&36>=n||n>=37&&40>=n||45==n?(o.typing&&r(),void 0):((16>n||n>20)&&224!=n&&91!=n&&!o.typing&&(o.beforeChange(),o.typing=!0,o.add()),void 0)}),n.onMouseDown.add(function(){o.typing&&r()}),n.addShortcut("ctrl+z","undo_desc","Undo"),n.addShortcut("ctrl+y","redo_desc","Redo"),o={data:u,typing:!1,onBeforeAdd:onBeforeAdd,onAdd:s,onUndo:l,onRedo:c,beforeChange:function(){a=n.selection.getBookmark(2,!0)
},add:function(e){var t,r,s=n.settings;if(e=e||{},e.content=i(),o.onBeforeAdd.dispatch(o,e),r=u[d],r&&r.content==e.content)return null;if(u[d]&&(u[d].beforeBookmark=a),s.custom_undo_redo_levels&&u.length>s.custom_undo_redo_levels){for(t=0;t<u.length-1;t++)u[t]=u[t+1];u.length--,d=u.length}return e.bookmark=n.selection.getBookmark(2,!0),d<u.length-1&&(u.length=d+1),u.push(e),d=u.length-1,o.onAdd.dispatch(o,e),n.isNotDirty=0,e},undo:function(){var e;return o.typing&&(o.add(),o.typing=!1),d>0&&(e=u[--d],n.setContent(e.content,{format:"raw"}),n.selection.moveToBookmark(e.beforeBookmark),o.onUndo.dispatch(o,e)),e},redo:function(){var e;return d<u.length-1&&(e=u[++d],n.setContent(e.content,{format:"raw"}),n.selection.moveToBookmark(e.bookmark),o.onRedo.dispatch(o,e)),e},clear:function(){u=[],d=0,o.typing=!1},hasUndo:function(){return d>0||this.typing},hasRedo:function(){return d<u.length-1&&!this.typing}}}}(tinymce),tinymce.ForceBlocks=function(e){function t(){var t,a,s,l,c,d,u,h,p,f=r.getStart(),m=e.getBody(),g=-16777215;if(f&&1===f.nodeType&&n.forced_root_block){for(;f&&f!=m;){if(o[f.nodeName])return;f=f.parentNode}for(t=r.getRng(),t.setStart?(a=t.startContainer,s=t.startOffset,l=t.endContainer,c=t.endOffset):(t.item&&(f=t.item(0),t=e.getDoc().body.createTextRange(),t.moveToElementText(f)),p=t.parentElement().ownerDocument===e.getDoc(),tmpRng=t.duplicate(),tmpRng.collapse(!0),s=-1*tmpRng.move("character",g),tmpRng.collapsed||(tmpRng=t.duplicate(),tmpRng.collapse(!1),c=-1*tmpRng.move("character",g)-s)),f=m.firstChild;f;)if(3===f.nodeType||1==f.nodeType&&!o[f.nodeName]){if(3===f.nodeType&&0==f.nodeValue.length){u=f,f=f.nextSibling,i.remove(u);continue}d||(d=i.create(n.forced_root_block),f.parentNode.insertBefore(d,f),h=!0),u=f,f=f.nextSibling,d.appendChild(u)}else d=null,f=f.nextSibling;if(h){if(t.setStart)t.setStart(a,s),t.setEnd(l,c),r.setRng(t);else if(p)try{t=e.getDoc().body.createTextRange(),t.moveToElementText(m),t.collapse(!0),t.moveStart("character",s),c>0&&t.moveEnd("character",c),t.select()}catch(v){}e.nodeChanged()}}}var n=e.settings,i=e.dom,r=e.selection,o=e.schema.getBlockElements();n.forced_root_block&&(e.onKeyUp.add(t),e.onNodeChange.add(t))},function(e){var t=(e.DOM,e.dom.Event),n=e.each,i=e.extend;e.create("tinymce.ControlManager",{ControlManager:function(t,i){var r=this;i=i||{},r.editor=t,r.controls={},r.onAdd=new e.util.Dispatcher(r),r.onPostRender=new e.util.Dispatcher(r),r.prefix=i.prefix||t.id+"_",r._cls={},r.onPostRender.add(function(){n(r.controls,function(e){e.postRender()})})},get:function(e){return this.controls[this.prefix+e]||this.controls[e]},setActive:function(e,t){var n=null;return(n=this.get(e))&&n.setActive(t),n},setDisabled:function(e,t){var n=null;return(n=this.get(e))&&n.setDisabled(t),n},add:function(e){var t=this;return e&&(t.controls[e.id]=e,t.onAdd.dispatch(e,t)),e},createControl:function(e){var t,i,r,o,a=this,s=a.editor;for(a.controlFactories||(a.controlFactories=[],n(s.plugins,function(e){e.createControl&&a.controlFactories.push(e)})),o=a.controlFactories,i=0,r=o.length;r>i;i++)if(t=o[i].createControl(e,a))return a.add(t);return"|"===e||"separator"===e?a.createSeparator():s.buttons&&(t=s.buttons[e])?a.createButton(e,t):a.add(t)},createDropMenu:function(t,n,r){var o,a,s,l,c=this,d=c.editor;return n=i({"class":"mceDropDown",constrain:d.settings.constrain_menus},n),n["class"]=n["class"]+" "+d.getParam("skin")+"Skin",(s=d.getParam("skin_variant"))&&(n["class"]+=" "+d.getParam("skin")+"Skin"+s.substring(0,1).toUpperCase()+s.substring(1)),n["class"]+="rtl"==d.settings.directionality?" mceRtl":"",t=c.prefix+t,l=r||c._cls.dropmenu||e.ui.DropMenu,o=c.controls[t]=new l(t,n),o.onAddItem.add(function(e,t){var n=t.settings;n.title=d.getLang(n.title,n.title),n.onclick||(n.onclick=function(){n.cmd&&d.execCommand(n.cmd,n.ui||!1,n.value)})}),d.onRemove.add(function(){o.destroy()}),e.isIE&&(o.onShowMenu.add(function(){d.focus(),a=d.selection.getBookmark(1)}),o.onHideMenu.add(function(){a&&(d.selection.moveToBookmark(a),a=0)})),c.add(o)},createListBox:function(n,r,o){function a(t){return t.settings.use_accessible_selects&&!e.isGecko}var s,l,c=this,d=c.editor;return c.get(n)?null:(r.title=d.translate(r.title),r.scope=r.scope||d,r.onselect||(r.onselect=function(e){d.execCommand(r.cmd,r.ui||!1,e||r.value)}),r=i({title:r.title,"class":"mce_"+n,scope:r.scope,control_manager:c},r),n=c.prefix+n,d.settings.use_native_selects||a(d)?s=new e.ui.NativeListBox(n,r):(l=o||c._cls.listbox||e.ui.ListBox,s=new l(n,r,d)),c.controls[n]=s,e.isWebKit&&s.onPostRender.add(function(e,n){t.add(n,"mousedown",function(){d.bookmark=d.selection.getBookmark(1)}),t.add(n,"focus",function(){d.selection.moveToBookmark(d.bookmark),d.bookmark=null})}),s.hideMenu&&d.onMouseDown.add(s.hideMenu,s),c.add(s))},createButton:function(t,n,r){var o,a,s=this,l=s.editor;return s.get(t)?null:(n.title=l.translate(n.title),n.label=l.translate(n.label),n.scope=n.scope||l,n.onclick||n.menu_button||(n.onclick=function(){l.execCommand(n.cmd,n.ui||!1,n.value)}),n=i({title:n.title,"class":"mce_"+t,unavailable_prefix:l.getLang("unavailable",""),scope:n.scope,control_manager:s},n),t=s.prefix+t,n.menu_button?(a=r||s._cls.menubutton||e.ui.MenuButton,o=new a(t,n,l),l.onMouseDown.add(o.hideMenu,o)):(a=s._cls.button||e.ui.Button,o=new a(t,n,l)),s.add(o))},createMenuButton:function(e,t,n){return t=t||{},t.menu_button=1,this.createButton(e,t,n)},createSplitButton:function(t,n,r){var o,a,s=this,l=s.editor;return s.get(t)?null:(n.title=l.translate(n.title),n.scope=n.scope||l,n.onclick||(n.onclick=function(e){l.execCommand(n.cmd,n.ui||!1,e||n.value)}),n.onselect||(n.onselect=function(e){l.execCommand(n.cmd,n.ui||!1,e||n.value)}),n=i({title:n.title,"class":"mce_"+t,scope:n.scope,control_manager:s},n),t=s.prefix+t,a=r||s._cls.splitbutton||e.ui.SplitButton,o=s.add(new a(t,n,l)),l.onMouseDown.add(o.hideMenu,o),o)},createColorSplitButton:function(t,n,r){var o,a,s,l=this,c=l.editor;return l.get(t)?null:(n.title=c.translate(n.title),n.scope=n.scope||c,n.onclick||(n.onclick=function(t){e.isIE&&(s=c.selection.getBookmark(1)),c.execCommand(n.cmd,n.ui||!1,t||n.value)}),n.onselect||(n.onselect=function(e){c.execCommand(n.cmd,n.ui||!1,e||n.value)}),n=i({title:n.title,"class":"mce_"+t,menu_class:c.getParam("skin")+"Skin",scope:n.scope,more_colors_title:c.getLang("more_colors")},n),t=l.prefix+t,a=r||l._cls.colorsplitbutton||e.ui.ColorSplitButton,o=new a(t,n,c),c.onMouseDown.add(o.hideMenu,o),c.onRemove.add(function(){o.destroy()}),e.isIE&&(o.onShowMenu.add(function(){c.focus(),s=c.selection.getBookmark(1)}),o.onHideMenu.add(function(){s&&(c.selection.moveToBookmark(s),s=0)})),l.add(o))},createToolbar:function(t,n,i){var r,o,a=this;return t=a.prefix+t,o=i||a._cls.toolbar||e.ui.Toolbar,r=new o(t,n,a.editor),a.get(t)?null:a.add(r)},createToolbarGroup:function(t,n,i){var r,o,a=this;return t=a.prefix+t,o=i||this._cls.toolbarGroup||e.ui.ToolbarGroup,r=new o(t,n,a.editor),a.get(t)?null:a.add(r)},createSeparator:function(t){var n=t||this._cls.separator||e.ui.Separator;return new n},setControlType:function(e,t){return this._cls[e.toLowerCase()]=t},destroy:function(){n(this.controls,function(e){e.destroy()}),this.controls=null}})}(tinymce),function(e){var t=e.util.Dispatcher,n=e.each,i=e.isIE,r=e.isOpera;e.create("tinymce.WindowManager",{WindowManager:function(e){var n=this;n.editor=e,n.onOpen=new t(n),n.onClose=new t(n),n.params={},n.features={}},open:function(t,o){var a,s,l,c,d=this,u="",h="modal"==d.editor.settings.dialog_type,p=e.DOM.getViewPort();t=t||{},o=o||{},s=r?p.w:screen.width,l=r?p.h:screen.height,t.name=t.name||"mc_"+(new Date).getTime(),t.width=parseInt(t.width||320),t.height=parseInt(t.height||240),t.resizable=!0,t.left=t.left||parseInt(s/2)-t.width/2,t.top=t.top||parseInt(l/2)-t.height/2,o.inline=!1,o.mce_width=t.width,o.mce_height=t.height,o.mce_auto_focus=t.auto_focus,h&&i&&(t.center=!0,t.help=!1,t.dialogWidth=t.width+"px",t.dialogHeight=t.height+"px",t.scroll=t.scrollbars||!1),n(t,function(t,n){e.is(t,"boolean")&&(t=t?"yes":"no"),/^(name|url)$/.test(n)||(u+=i&&h?(u?";":"")+n+":"+t:(u?",":"")+n+"="+t)}),d.features=t,d.params=o,d.onOpen.dispatch(d,t,o),c=t.url||t.file,c=e._addVer(c);try{i&&h?(a=1,window.showModalDialog(c,window,u)):a=window.open(c,t.name,u)}catch(f){}a||alert(d.editor.getLang("popup_blocked"))},close:function(e){e.close(),this.onClose.dispatch(this)},createInstance:function(t,n,i,r,o,a){var s=e.resolve(t);return new s(n,i,r,o,a)},confirm:function(e,t,n,i){i=i||window,t.call(n||this,i.confirm(this._decode(this.editor.getLang(e,e))))},alert:function(e,t,n,i){var r=this;i=i||window,i.alert(r._decode(r.editor.getLang(e,e))),t&&t.call(n||r)},resizeBy:function(e,t,n){n.resizeBy(e,t)},_decode:function(t){return e.DOM.decode(t).replace(/\\n/g,"\n")}})}(tinymce),function(e){e.Formatter=function(t){function n(e){return!!t.schema.getTextBlocks()[e.toLowerCase()]}function i(e,t){return R.getParents(e,t,R.getRoot())}function r(e){return 1===e.nodeType&&"_mce_caret"===e.id}function o(){l({alignleft:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"left"},defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"center"},defaultBlock:"div"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"}},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"}}],alignright:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"right"},defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"right"}}],alignfull:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"justify"},defaultBlock:"div"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},wrap_links:!1},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},wrap_links:!1},fontname:{inline:"span",styles:{fontFamily:"%value"}},fontsize:{inline:"span",styles:{fontSize:"%value"}},fontsize_class:{inline:"span",attributes:{"class":"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(e,t,n){I(n,function(t,n){R.setAttrib(e,n,t)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]}),I("p h1 h2 h3 h4 h5 h6 div address pre div code dt dd samp".split(/\s/),function(e){l(e,{block:e,remove:"all"})}),l(t.settings.formats)}function a(){t.addShortcut("ctrl+b","bold_desc","Bold"),t.addShortcut("ctrl+i","italic_desc","Italic"),t.addShortcut("ctrl+u","underline_desc","Underline");for(var e=1;6>=e;e++)t.addShortcut("ctrl+"+e,"",["FormatBlock",!1,"h"+e]);t.addShortcut("ctrl+7","",["FormatBlock",!1,"p"]),t.addShortcut("ctrl+8","",["FormatBlock",!1,"div"]),t.addShortcut("ctrl+9","",["FormatBlock",!1,"address"])}function s(e){return e?F[e]:F}function l(e,t){e&&("string"!=typeof e?I(e,function(e,t){l(t,e)}):(t=t.length?t:[t],I(t,function(e){e.deep===P&&(e.deep=!e.selector),e.split===P&&(e.split=!e.selector||e.inline),e.remove===P&&e.selector&&!e.inline&&(e.remove="none"),e.selector&&e.inline&&(e.mixed=!0,e.block_expand=!0),"string"==typeof e.classes&&(e.classes=e.classes.split(/\s+/))}),F[e]=t))}function c(i,o,a){function l(e,t){t=t||b,e&&(t.onformat&&t.onformat(e,t,o,a),I(t.styles,function(t,n){R.setStyle(e,n,x(t,o))}),I(t.attributes,function(t,n){R.setAttrib(e,n,x(t,o))}),I(t.classes,function(t){t=x(t,o),R.hasClass(e,t)||R.addClass(e,t)}))}function d(){function e(e,t){var n=new O(t);for(a=n.current();a;a=n.prev())if(a.childNodes.length>1||a==e||"BR"==a.tagName)return a}var n=t.selection.getRng(),i=n.startContainer,r=n.endContainer;if(i!=r&&0===n.endOffset){var o=e(i,r),s=3==o.nodeType?o.length:o.childNodes.length;n.setEnd(o,s)}return n}function u(t,n,i,r,o){var a,s,l=[],c=-1,d=-1,u=-1;return I(t.childNodes,function(e,t){return"UL"===e.nodeName||"OL"===e.nodeName?(c=t,a=e,!1):void 0}),I(t.childNodes,function(e,t){"SPAN"===e.nodeName&&"bookmark"==R.getAttrib(e,"data-mce-type")&&(e.id==n.id+"_start"?d=t:e.id==n.id+"_end"&&(u=t))}),0>=c||c>d&&u>c?(I(e.grep(t.childNodes),o),0):(s=R.clone(i,q),I(e.grep(t.childNodes),function(e,t){(c>d&&c>t||d>c&&t>c)&&(l.push(e),e.parentNode.removeChild(e))}),c>d?t.insertBefore(s,a):d>c&&t.insertBefore(s,a.nextSibling),r.push(s),I(l,function(e){s.appendChild(e)}),s)}function p(t,a,s){var c,d,p=[],f=!0;c=b.inline||b.block,d=R.create(c),l(d),H.walk(t,function(t){function m(t){var x,k,w,C,T;return T=f,x=t.nodeName.toLowerCase(),k=t.parentNode.nodeName.toLowerCase(),1===t.nodeType&&X(t)&&(T=f,f="true"===X(t),C=!0),y(x,"br")?(v=0,b.block&&R.remove(t),void 0):b.wrapper&&h(t,i,o)?(v=0,void 0):f&&!C&&b.block&&!b.wrapper&&n(x)?(t=R.rename(t,c),l(t),p.push(t),v=0,void 0):b.selector&&(I(g,function(e){"collapsed"in e&&e.collapsed!==_||R.is(t,e.selector)&&!r(t)&&(l(t,e),w=!0)}),!b.inline||w)?(v=0,void 0):(f&&!C&&z(c,x)&&z(k,c)&&(s||3!==t.nodeType||1!==t.nodeValue.length||65279!==t.nodeValue.charCodeAt(0))&&!r(t)?(v||(v=R.clone(d,q),t.parentNode.insertBefore(v,t),p.push(v)),v.appendChild(t)):"li"==x&&a?v=u(t,a,d,p,m):(v=0,I(e.grep(t.childNodes),m),C&&(f=T),v=0),void 0)}var v;I(t,m)}),b.wrap_links===!1&&I(p,function(t){function n(t){var i,r,o;if("A"===t.nodeName){for(r=R.clone(d,q),p.push(r),o=e.grep(t.childNodes),i=0;i<o.length;i++)r.appendChild(o[i]);t.appendChild(r)}I(e.grep(t.childNodes),n)}n(t)}),I(p,function(e){function t(e){var t=0;return I(e.childNodes,function(e){k(e)||M(e)||t++}),t}function n(e){var t,n;return I(e.childNodes,function(e){return 1!=e.nodeType||M(e)||r(e)?void 0:(t=e,q)}),t&&v(t,b)&&(n=R.clone(t,q),l(n),R.replace(n,e,U),R.remove(t,1)),n||e}var a;if(a=t(e),(p.length>1||!j(e))&&0===a)return R.remove(e,1),void 0;if(b.inline||b.wrapper){if(b.exact||1!==a||(e=n(e)),I(g,function(t){I(R.select(t.inline,e),function(e){var n;if(t.wrap_links===!1){n=e.parentNode;do if("A"===n.nodeName)return;while(n=n.parentNode)}C(t,o,e,t.exact?e:null)})}),h(e.parentNode,i,o))return R.remove(e,1),e=0,U;b.merge_with_parents&&R.getParent(e.parentNode,function(t){return h(t,i,o)?(R.remove(e,1),e=0,U):void 0}),e&&b.merge_siblings!==!1&&(e=D(S(e),e),e=D(e,S(e,U)))}})}var f,m,g=s(i),b=g[0],_=B.isCollapsed();if(b)if(a)a.nodeType?(m=R.createRng(),m.setStartBefore(a),m.setEndAfter(a),p(w(m,g),null,!0)):p(a,null,!0);else if(_&&b.inline&&!R.select("td.mceSelected,th.mceSelected").length)E("apply",i,o);else{var T=t.selection.getNode();$||!g[0].defaultBlock||R.getParent(T,R.isBlock)||c(g[0].defaultBlock),t.selection.setRng(d()),f=B.getBookmark(),p(w(B.getRng(U),g),f),b.styles&&(b.styles.color||b.styles.textDecoration)&&(e.walk(T,K,"childNodes"),K(T)),B.moveToBookmark(f),N(B.getRng(U)),t.nodeChanged()}}function d(n,r,o){function a(t){var n,i,o,s,l;if(3!==t.nodeType){if(1===t.nodeType&&X(t)&&(s=b,b="true"===X(t),l=!0),n=e.grep(t.childNodes),b&&!l)for(i=0,o=v.length;o>i&&!C(v[i],r,t,t);i++);if(y.deep&&n.length){for(i=0,o=n.length;o>i;i++)a(n[i]);l&&(b=s)}}}function l(e){var t;return I(i(e.parentNode).reverse(),function(e){var i;t||"_start"==e.id||"_end"==e.id||(i=h(e,n,r),i&&i.split!==!1&&(t=e))}),t}function c(e,t,n,i){var o,a,s,l,c,d;if(e){for(d=e.parentNode,o=t.parentNode;o&&o!=d;o=o.parentNode){for(a=R.clone(o,q),c=0;c<v.length;c++)if(C(v[c],r,a,a)){a=0;break}a&&(s&&a.appendChild(s),l||(l=a),s=a)}!i||y.mixed&&j(e)||(t=R.split(e,t)),s&&(n.parentNode.insertBefore(s,n),l.appendChild(n))}return t}function d(e){return c(l(e),e,e,!0)}function u(e){var t=R.get(e?"_start":"_end"),n=t[e?"firstChild":"lastChild"];return M(n)&&(n=n[e?"firstChild":"lastChild"]),R.remove(t,!0),n}function f(e){var n,i;e=w(e,v,U),y.split&&(n=A(e,U),i=A(e),n!=i?(/^(TR|TD)$/.test(n.nodeName)&&n.firstChild&&(n=("TD"==n.nodeName?n.firstChild:n.firstChild.firstChild)||n),n=_(n,"span",{id:"_start","data-mce-type":"bookmark"}),i=_(i,"span",{id:"_end","data-mce-type":"bookmark"}),d(n),d(i),n=u(U),i=u()):n=i=d(n),e.startContainer=n.parentNode,e.startOffset=W(n),e.endContainer=i.parentNode,e.endOffset=W(i)+1),H.walk(e,function(e){I(e,function(e){a(e),1===e.nodeType&&"underline"===t.dom.getStyle(e,"text-decoration")&&e.parentNode&&"underline"===G(e.parentNode)&&C({deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,e)})})}var m,g,v=s(n),y=v[0],b=!0;return o?(o.nodeType?(g=R.createRng(),g.setStartBefore(o),g.setEndAfter(o),f(g)):f(o),void 0):(B.isCollapsed()&&y.inline&&!R.select("td.mceSelected,th.mceSelected").length?E("remove",n,r):(m=B.getBookmark(),f(B.getRng(U)),B.moveToBookmark(m),y.inline&&p(n,r,B.getStart())&&N(B.getRng(!0)),t.nodeChanged()),void 0)}function u(e,t,n){var i=s(e);!p(e,t,n)||"toggle"in i[0]&&!i[0].toggle?c(e,t,n):d(e,t,n)}function h(e,t,n,i){function r(e,t,r){var o,a,s,l=t[r];if(t.onmatch)return t.onmatch(e,t,r);if(l)if(l.length===P){for(o in l)if(l.hasOwnProperty(o)){if(a="attributes"===r?R.getAttrib(e,o):b(e,o),i&&!a&&!t.exact)return;if((!i||t.exact)&&!y(a,x(l[o],n)))return}}else for(s=0;s<l.length;s++)if("attributes"===r?R.getAttrib(e,l[s]):b(e,l[s]))return t;return t}var o,a,l,c=s(t);if(c&&e)for(a=0;a<c.length;a++)if(o=c[a],v(e,o)&&r(e,o,"attributes")&&r(e,o,"styles")){if(l=o.classes)for(a=0;a<l.length;a++)if(!R.hasClass(e,l[a]))return;return o}}function p(e,t,n){function i(n){return n=R.getParent(n,function(n){return!!h(n,e,t,!0)}),h(n,e,t)}var r;return n?i(n):(n=B.getNode(),i(n)?U:(r=B.getStart(),r!=n&&i(r)?U:q))}function f(e,t){var n,i=[],r={};return n=B.getStart(),R.getParent(n,function(n){var o,a;for(o=0;o<e.length;o++)a=e[o],!r[a]&&h(n,a,t)&&(r[a]=!0,i.push(a))},R.getRoot()),i}function m(e){var t,n,r,o,a,l=s(e);if(l)for(t=B.getStart(),n=i(t),o=l.length-1;o>=0;o--){if(a=l[o].selector,!a)return U;for(r=n.length-1;r>=0;r--)if(R.is(n[r],a))return U}return q}function g(e,n,r){var o;return L||(L={},o={},t.onNodeChange.addToTop(function(e,t,n){var r=i(n),a={};I(L,function(e,t){I(r,function(n){return h(n,t,{},e.similar)?(o[t]||(I(e,function(e){e(!0,{node:n,format:t,parents:r})}),o[t]=e),a[t]=e,!1):void 0})}),I(o,function(e,t){a[t]||(delete o[t],I(e,function(e){e(!1,{node:n,format:t,parents:r})}))})})),I(e.split(","),function(e){L[e]||(L[e]=[],L[e].similar=r),L[e].push(n)}),this}function v(e,t){return y(e,t.inline)?U:y(e,t.block)?U:t.selector?R.is(e,t.selector):void 0}function y(e,t){return e=e||"",t=t||"",e=""+(e.nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()==t.toLowerCase()}function b(e,t){var n=R.getStyle(e,t);return("color"==t||"backgroundColor"==t)&&(n=R.toHex(n)),"fontWeight"==t&&700==n&&(n="bold"),""+n}function x(e,t){return"string"!=typeof e?e=e(t):t&&(e=e.replace(/%(\w+)/g,function(e,n){return t[n]||e})),e}function k(e){return e&&3===e.nodeType&&/^([\t \r\n]+|)$/.test(e.nodeValue)}function _(e,t,n){var i=R.create(t,n);return e.parentNode.insertBefore(i,e),i.appendChild(e),i}function w(e,r,o){function a(e){function t(e){return"BR"==e.nodeName&&e.getAttribute("data-mce-bogus")&&!e.nextSibling}var n,i,o,a,s;if(n=i=e?m:v,a=e?"previousSibling":"nextSibling",s=R.getRoot(),3==n.nodeType&&!k(n)&&(e?g>0:b<n.nodeValue.length))return n;for(;;){if(!r[0].block_expand&&j(i))return i;for(o=i[a];o;o=o[a])if(!M(o)&&!k(o)&&!t(o))return i;if(i.parentNode==s){n=i;break}i=i.parentNode}return n}function s(e,t){for(t===P&&(t=3===e.nodeType?e.length:e.childNodes.length);e&&e.hasChildNodes();)e=e.childNodes[t],e&&(t=3===e.nodeType?e.length:e.childNodes.length);return{node:e,offset:t}}function l(e){for(var t=e;t;){if(1===t.nodeType&&X(t))return"false"===X(t)?t:e;t=t.parentNode}return e}function c(e,n,i){function r(e,t){var n,r,a=e.nodeValue;return"undefined"==typeof t&&(t=i?a.length:0),i?(n=a.lastIndexOf(" ",t),r=a.lastIndexOf(" ",t),n=n>r?n:r,-1===n||o||n++):(n=a.indexOf(" ",t),r=a.indexOf(" ",t),n=-1!==n&&(-1===r||r>n)?n:r),n}var a,s,l,c;if(3===e.nodeType){if(l=r(e,n),-1!==l)return{container:e,offset:l};c=e}for(a=new O(e,R.getParent(e,j)||t.getBody());s=a[i?"prev":"next"]();)if(3===s.nodeType){if(c=s,l=r(s),-1!==l)return{container:s,offset:l}}else if(j(s))break;return c?(n=i?0:c.length,{container:c,offset:n}):void 0}function d(t,n){var o,a,s,l;for(3==t.nodeType&&0===t.nodeValue.length&&t[n]&&(t=t[n]),o=i(t),a=0;a<o.length;a++)for(s=0;s<r.length;s++)if(l=r[s],!("collapsed"in l&&l.collapsed!==e.collapsed)&&R.is(o[a],l.selector))return o[a];return t}function u(e,t){var o;if(r[0].wrapper||(o=R.getParent(e,r[0].block)),o||(o=R.getParent(3==e.nodeType?e.parentNode:e,n)),o&&r[0].wrapper&&(o=i(o,"ul,ol").reverse()[0]||o),!o)for(o=e;o[t]&&!j(o[t])&&(o=o[t],!y(o,"br")););return o||e}var h,p,f,m=e.startContainer,g=e.startOffset,v=e.endContainer,b=e.endOffset;if(1==m.nodeType&&m.hasChildNodes()&&(h=m.childNodes.length-1,m=m.childNodes[g>h?h:g],3==m.nodeType&&(g=0)),1==v.nodeType&&v.hasChildNodes()&&(h=v.childNodes.length-1,v=v.childNodes[b>h?h:b-1],3==v.nodeType&&(b=v.nodeValue.length)),m=l(m),v=l(v),(M(m.parentNode)||M(m))&&(m=M(m)?m:m.parentNode,m=m.nextSibling||m,3==m.nodeType&&(g=0)),(M(v.parentNode)||M(v))&&(v=M(v)?v:v.parentNode,v=v.previousSibling||v,3==v.nodeType&&(b=v.length)),r[0].inline&&(e.collapsed&&(f=c(m,g,!0),f&&(m=f.container,g=f.offset),f=c(v,b),f&&(v=f.container,b=f.offset)),p=s(v,b),p.node)){for(;p.node&&0===p.offset&&p.node.previousSibling;)p=s(p.node.previousSibling);p.node&&p.offset>0&&3===p.node.nodeType&&" "===p.node.nodeValue.charAt(p.offset-1)&&p.offset>1&&(v=p.node,v.splitText(p.offset-1))}return(r[0].inline||r[0].block_expand)&&(r[0].inline&&3==m.nodeType&&0!==g||(m=a(!0)),r[0].inline&&3==v.nodeType&&b!==v.nodeValue.length||(v=a())),r[0].selector&&r[0].expand!==q&&!r[0].inline&&(m=d(m,"previousSibling"),v=d(v,"nextSibling")),(r[0].block||r[0].selector)&&(m=u(m,"previousSibling"),v=u(v,"nextSibling"),r[0].block&&(j(m)||(m=a(!0)),j(v)||(v=a()))),1==m.nodeType&&(g=W(m),m=m.parentNode),1==v.nodeType&&(b=W(v)+1,v=v.parentNode),{startContainer:m,startOffset:g,endContainer:v,endOffset:b}}function C(e,t,n,i){var r,o,a;if(!v(n,e))return q;if("all"!=e.remove)for(I(e.styles,function(e,r){e=x(e,t),"number"==typeof r&&(r=e,i=0),(!i||y(b(i,r),e))&&R.setStyle(n,r,""),a=1}),a&&""==R.getAttrib(n,"style")&&(n.removeAttribute("style"),n.removeAttribute("data-mce-style")),I(e.attributes,function(e,r){var o;if(e=x(e,t),"number"==typeof r&&(r=e,i=0),!i||y(R.getAttrib(i,r),e)){if("class"==r&&(e=R.getAttrib(n,r),e&&(o="",I(e.split(/\s+/),function(e){/mce\w+/.test(e)&&(o+=(o?" ":"")+e)}),o)))return R.setAttrib(n,r,o),void 0;"class"==r&&n.removeAttribute("className"),V.test(r)&&n.removeAttribute("data-mce-"+r),n.removeAttribute(r)}}),I(e.classes,function(e){e=x(e,t),(!i||R.hasClass(i,e))&&R.removeClass(n,e)}),o=R.getAttribs(n),r=0;r<o.length;r++)if(0!==o[r].nodeName.indexOf("_"))return q;return"none"!=e.remove?(T(n,e),U):void 0}function T(t,n){function i(e,t,n){return e=S(e,t,n),!e||"BR"==e.nodeName||j(e)}var r,o=t.parentNode;n.block&&($?o==R.getRoot()&&(n.list_block&&y(t,n.list_block)||I(e.grep(t.childNodes),function(e){z($,e.nodeName.toLowerCase())?r?r.appendChild(e):r=_(e,$):r=0})):j(t)&&!j(o)&&(i(t,q)||i(t.firstChild,U,1)||t.insertBefore(R.create("br"),t.firstChild),i(t,U)||i(t.lastChild,q,1)||t.appendChild(R.create("br")))),n.selector&&n.inline&&!y(n.inline,t)||R.remove(t,1)}function S(e,t,n){if(e)for(t=t?"nextSibling":"previousSibling",e=n?e:e[t];e;e=e[t])if(1==e.nodeType||!k(e))return e}function M(e){return e&&1==e.nodeType&&"bookmark"==e.getAttribute("data-mce-type")}function D(t,n){function i(e,t){function n(e){var t={};return I(R.getAttribs(e),function(n){var i=n.nodeName.toLowerCase();0!==i.indexOf("_")&&"style"!==i&&(t[i]=R.getAttrib(e,i))}),t}function i(e,t){var n,i;for(i in e)if(e.hasOwnProperty(i)){if(n=t[i],n===P)return q;if(e[i]!=n)return q;delete t[i]}for(i in t)if(t.hasOwnProperty(i))return q;return U}return e.nodeName!=t.nodeName?q:i(n(e),n(t))?i(R.parseStyle(R.getAttrib(e,"style")),R.parseStyle(R.getAttrib(t,"style")))?U:q:q}function r(e,t){for(o=e;o;o=o[t]){if(3==o.nodeType&&0!==o.nodeValue.length)return e;if(1==o.nodeType&&!M(o))return o}return e}var o,a;if(t&&n&&(t=r(t,"previousSibling"),n=r(n,"nextSibling"),i(t,n))){for(o=t.nextSibling;o&&o!=n;)a=o,o=o.nextSibling,t.appendChild(a);return R.remove(n),I(e.grep(n.childNodes),function(e){t.appendChild(e)}),t}return n}function n(e){return/^(h[1-6]|p|div|pre|address|dl|dt|dd)$/.test(e)}function A(e,n){var i,r,o;return i=e[n?"startContainer":"endContainer"],r=e[n?"startOffset":"endOffset"],1==i.nodeType&&(o=i.childNodes.length-1,!n&&r&&r--,i=i.childNodes[r>o?o:r]),3===i.nodeType&&n&&r>=i.nodeValue.length&&(i=new O(i,t.getBody()).next()||i),3!==i.nodeType||n||0!==r||(i=new O(i,t.getBody()).prev()||i),i}function E(n,i,r){function o(e){var n=R.create("span",{id:v,"data-mce-bogus":!0,style:y?"color:red":""});return e&&n.appendChild(t.getDoc().createTextNode(Y)),n}function a(e,t){for(;e;){if(3===e.nodeType&&e.nodeValue!==Y||e.childNodes.length>1)return!1;t&&1===e.nodeType&&t.push(e),e=e.firstChild}return!0}function l(e){for(;e;){if(e.id===v)return e;e=e.parentNode}}function u(e){var t;if(e)for(t=new O(e,e),e=t.current();e;e=t.next())if(3===e.nodeType)return e}function p(e,t){var n,i;if(e)i=B.getRng(!0),a(e)?(t!==!1&&(i.setStartBefore(e),i.setEndBefore(e)),R.remove(e)):(n=u(e),n.nodeValue.charAt(0)===Y&&(n=n.deleteData(0,1)),R.remove(e,1)),B.setRng(i);else if(e=l(B.getStart()),!e)for(;e=R.get(v);)p(e,!1)}function f(){var e,t,n,a,d,h,p;e=B.getRng(!0),a=e.startOffset,h=e.startContainer,p=h.nodeValue,t=l(B.getStart()),t&&(n=u(t)),p&&a>0&&a<p.length&&/\w/.test(p.charAt(a))&&/\w/.test(p.charAt(a-1))?(d=B.getBookmark(),e.collapse(!0),e=w(e,s(i)),e=H.split(e),c(i,r,e),B.moveToBookmark(d)):(t&&n.nodeValue===Y?c(i,r,t):(t=o(!0),n=t.firstChild,e.insertNode(t),a=1,c(i,r,t)),B.setCursorLocation(n,a))}function m(){var e,t,n,a,l,c,u,p,f=B.getRng(!0),m=[];for(e=f.startContainer,t=f.startOffset,l=e,3==e.nodeType&&((t!=e.nodeValue.length||e.nodeValue===Y)&&(a=!0),l=l.parentNode);l;){if(h(l,i,r)){c=l;break}l.nextSibling&&(a=!0),m.push(l),l=l.parentNode}if(c)if(a)n=B.getBookmark(),f.collapse(!0),f=w(f,s(i),!0),f=H.split(f),d(i,r,f),B.moveToBookmark(n);else{for(p=o(),l=p,u=m.length-1;u>=0;u--)l.appendChild(R.clone(m[u],!1)),l=l.firstChild;l.appendChild(R.doc.createTextNode(Y)),l=l.firstChild,R.insertAfter(p,c),B.setCursorLocation(l,1)}}function g(){var t;t=l(B.getStart()),t&&!R.isEmpty(t)&&e.walk(t,function(e){1!=e.nodeType||e.id===v||R.isEmpty(e)||R.setAttrib(e,"data-mce-bogus",null)},"childNodes")}var v="_mce_caret",y=t.settings.caret_debug;self._hasCaretEvents||(t.onBeforeGetContent.addToTop(function(){var e,t=[];if(a(l(B.getStart()),t))for(e=t.length;e--;)R.setAttrib(t[e],"data-mce-bogus","1")}),e.each("onMouseUp onKeyUp".split(" "),function(e){t[e].addToTop(function(){p(),g()})}),t.onKeyDown.addToTop(function(e,t){var n=t.keyCode;(8==n||37==n||39==n)&&p(l(B.getStart())),g()}),B.onSetContent.add(g),self._hasCaretEvents=!0),"apply"==n?f():m()}function N(e){var t,n,i,r,o,a=e.startContainer,s=e.startOffset;if(3==a.nodeType&&s>=a.nodeValue.length&&(s=W(a),a=a.parentNode,t=!0),1==a.nodeType)for(r=a.childNodes,a=r[Math.min(s,r.length-1)],n=new O(a,R.getParent(a,R.isBlock)),(s>r.length-1||t)&&n.next(),i=n.current();i;i=n.next())if(3==i.nodeType&&!k(i))return o=R.create("a",null,Y),i.parentNode.insertBefore(o,i),e.setStart(i,0),B.setRng(e),R.remove(o),void 0}var L,P,F={},I=e.each,R=t.dom,B=t.selection,O=e.dom.TreeWalker,H=new e.dom.RangeUtils(R),z=t.schema.isValidChild,j=(e.isArray,R.isBlock),$=t.settings.forced_root_block,W=R.nodeIndex,Y="﻿",V=/^(src|href|style)$/,q=!1,U=!0,X=R.getContentEditable,G=function(e){var n;return t.dom.getParent(e,function(e){return n=t.dom.getStyle(e,"text-decoration"),n&&"none"!==n}),n},K=function(e){var n;1===e.nodeType&&e.parentNode&&1===e.parentNode.nodeType&&(n=G(e.parentNode),t.dom.getStyle(e,"color")&&n?t.dom.setStyle(e,"text-decoration",n):t.dom.getStyle(e,"textdecoration")===n&&t.dom.setStyle(e,"text-decoration",null))};e.extend(this,{get:s,register:l,apply:c,remove:d,toggle:u,match:p,matchAll:f,matchNode:h,canApply:m,formatChanged:g}),o(),a()}}(tinymce),tinymce.onAddEditor.add(function(e,t){function n(t,n){e.each(n,function(e,n){e&&a.setStyle(t,n,e)}),a.rename(t,"span")}function i(n,i){a=n.dom,s.convert_fonts_to_spans&&e.each(a.select("font,u,strike",i.node),function(e){r[e.nodeName.toLowerCase()](t.dom,e)})}var r,o,a,s=t.settings;s.inline_styles&&(o=e.explode(s.font_size_legacy_values),r={font:function(e,t){n(t,{backgroundColor:t.style.backgroundColor,color:t.color,fontFamily:t.face,fontSize:o[parseInt(t.size,10)-1]})},u:function(e,t){n(t,{textDecoration:"underline"})},strike:function(e,t){n(t,{textDecoration:"line-through"})}},t.onPreProcess.add(i),t.onSetContent.add(i),t.onInit.add(function(){t.selection.onSetContent.add(i)}))}),function(e){var t=e.dom.TreeWalker;e.EnterKey=function(n){function i(i){function c(e){return e&&r.isBlock(e)&&!/^(TD|TH|CAPTION|FORM)$/.test(e.nodeName)&&!/^(fixed|absolute)/i.test(e.style.position)&&"true"!==r.getContentEditable(e)}function d(t){var n;e.isIE&&r.isBlock(t)&&(n=o.getRng(),t.appendChild(r.create("span",null," ")),o.select(t),t.lastChild.outerHTML="",o.setRng(n))}function u(e){for(var t,n=e,i=[];n=n.firstChild;){if(r.isBlock(n))return;1!=n.nodeType||l[n.nodeName.toLowerCase()]||i.push(n)}for(t=i.length;t--;)n=i[t],!n.hasChildNodes()||n.firstChild==n.lastChild&&""===n.firstChild.nodeValue?r.remove(n):"A"==n.nodeName&&" "===(n.innerText||n.textContent)&&r.remove(n)}function h(e){var i,a,s,c,d,u,h=e;if(s=r.createRng(),e.hasChildNodes()){for(i=new t(e,e);a=i.current();){if(3==a.nodeType){s.setStart(a,0),s.setEnd(a,0);break}if(l[a.nodeName.toLowerCase()]){s.setStartBefore(a),s.setEndBefore(a);break}h=a,a=i.next()}a||(s.setStart(h,0),s.setEnd(h,0))}else"BR"==e.nodeName?e.nextSibling&&r.isBlock(e.nextSibling)?((!M||9>M)&&(u=r.create("br"),e.parentNode.insertBefore(u,e)),s.setStartBefore(e),s.setEndBefore(e)):(s.setStartAfter(e),s.setEndAfter(e)):(s.setStart(e,0),s.setEnd(e,0));o.setRng(s),r.remove(u),d=r.getViewPort(n.getWin()),c=r.getPos(e).y,(c<d.y||c+25>d.y+d.h)&&n.getWin().scrollTo(0,c<d.y?c:c-d.h+25)}function p(t){var n,i,o,s=C;if(n=t||"TABLE"==L?r.create(t||F):S.cloneNode(!1),o=n,a.keep_styles!==!1)do if(/^(SPAN|STRONG|B|EM|I|FONT|STRIKE|U)$/.test(s.nodeName)){if("_mce_caret"==s.id)continue;i=s.cloneNode(!1),r.setAttrib(i,"id",""),n.hasChildNodes()?(i.appendChild(n.firstChild),n.appendChild(i)):(o=i,n.appendChild(i))}while(s=s.parentNode);return e.isIE||(o.innerHTML='<br data-mce-bogus="1">'),n}function f(e){var n,i,r;if(3==C.nodeType&&(e?T>0:T<C.nodeValue.length))return!1;if(C.parentNode==S&&I&&!e)return!0;if(e&&1==C.nodeType&&C==S.firstChild)return!0;if("TABLE"===C.nodeName||C.previousSibling&&"TABLE"==C.previousSibling.nodeName)return I&&!e||!I&&e;for(n=new t(C,S),3==C.nodeType&&(e&&0==T?n.prev():e||T!=C.nodeValue.length||n.next());i=n.current();){if(1===i.nodeType){if(!i.getAttribute("data-mce-bogus")&&(r=i.nodeName.toLowerCase(),l[r]&&"br"!==r))return!1}else if(3===i.nodeType&&!/^[ \t\r\n]*$/.test(i.nodeValue))return!1;e?n.prev():n.next()}return!0}function m(e,t){var n,i,o,a,s,l=F||"P";if(i=r.getParent(e,r.isBlock),!i||!c(i)){if(i=i||w,!i.hasChildNodes())return n=r.create(l),i.appendChild(n),R.setStart(n,0),R.setEnd(n,0),n;for(a=e;a.parentNode!=i;)a=a.parentNode;for(;a&&!r.isBlock(a);)o=a,a=a.previousSibling;if(o){for(n=r.create(l),o.parentNode.insertBefore(n,o),a=o;a&&!r.isBlock(a);)s=a.nextSibling,n.appendChild(a),a=s;R.setStart(e,t),R.setEnd(e,t)}}return e}function g(){function e(e){for(var t=N[e?"firstChild":"lastChild"];t&&1!=t.nodeType;)t=t[e?"nextSibling":"previousSibling"];return t===S}A=F?p(F):r.create("BR"),e(!0)&&e()?r.replace(A,N):e(!0)?N.parentNode.insertBefore(A,N):e()?(r.insertAfter(A,N),d(A)):(_=R.cloneRange(),_.setStartAfter(S),_.setEndAfter(N),E=_.extractContents(),r.insertAfter(E,N),r.insertAfter(A,N)),r.remove(S),h(A),s.add()}function v(){for(var e,n=new t(C,S);e=n.current();){if("BR"==e.nodeName)return!0;e=n.next()}}function y(){var t,n,i;C&&3==C.nodeType&&T>=C.nodeValue.length&&(e.isIE||v()||(t=r.create("br"),R.insertNode(t),R.setStartAfter(t),R.setEndAfter(t),n=!0)),t=r.create("br"),R.insertNode(t),e.isIE&&"PRE"==L&&(!M||8>M)&&t.parentNode.insertBefore(r.doc.createTextNode("\r"),t),i=r.create("span",{},"&nbsp;"),t.parentNode.insertBefore(i,t),o.scrollIntoView(i),r.remove(i),n?(R.setStartBefore(t),R.setEndBefore(t)):(R.setStartAfter(t),R.setEndAfter(t)),o.setRng(R),s.add()
}function b(e){do 3===e.nodeType&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild;while(e)}function x(e){var t,n,i=r.getRoot();for(t=e;t!==i&&"false"!==r.getContentEditable(t);)"true"===r.getContentEditable(t)&&(n=t),t=t.parentNode;return t!==i?n:i}function k(t){var n;e.isIE||(t.normalize(),n=t.lastChild,(!n||/^(left|right)$/gi.test(r.getStyle(n,"float",!0)))&&r.add(t,"br"))}var _,w,C,T,S,M,D,A,E,N,L,P,F,I,R=o.getRng(!0);if(!R.collapsed)return n.execCommand("Delete"),void 0;if(!i.isDefaultPrevented()&&(C=R.startContainer,T=R.startOffset,F=(a.force_p_newlines?"p":"")||a.forced_root_block,F=F?F.toUpperCase():"",M=r.doc.documentMode,D=i.shiftKey,1==C.nodeType&&C.hasChildNodes()&&(I=T>C.childNodes.length-1,C=C.childNodes[Math.min(T,C.childNodes.length-1)]||C,T=I&&3==C.nodeType?C.nodeValue.length:0),w=x(C))){if(s.beforeChange(),!r.isBlock(w)&&w!=r.getRoot())return(!F||D)&&y(),void 0;if((F&&!D||!F&&D)&&(C=m(C,T)),S=r.getParent(C,r.isBlock),N=S?r.getParent(S.parentNode,r.isBlock):null,L=S?S.nodeName.toUpperCase():"",P=N?N.nodeName.toUpperCase():"","LI"!=P||i.ctrlKey||(S=N,L=P),"LI"==L){if(!F&&D)return y(),void 0;if(r.isEmpty(S))return/^(UL|OL|LI)$/.test(N.parentNode.nodeName)?!1:(g(),void 0)}if("PRE"==L&&a.br_in_pre!==!1){if(!D)return y(),void 0}else if(!F&&!D&&"LI"!=L||F&&D)return y(),void 0;F=F||"P",f()?(A=/^(H[1-6]|PRE)$/.test(L)&&"HGROUP"!=P?p(F):p(),a.end_container_on_empty_block&&c(N)&&r.isEmpty(S)?A=r.split(N,S):r.insertAfter(A,S),h(A)):f(!0)?(A=S.parentNode.insertBefore(p(),S),d(A)):(_=R.cloneRange(),_.setEndAfter(S),E=_.extractContents(),b(E),A=E.firstChild,r.insertAfter(E,S),u(A),k(S),h(A)),r.setAttrib(A,"id",""),s.add()}}var r=n.dom,o=n.selection,a=n.settings,s=n.undoManager,l=n.schema.getNonEmptyElements();n.onKeyDown.add(function(e,t){13==t.keyCode&&i(t)!==!1&&t.preventDefault()})}}(tinymce),function(e){function t(){function t(e){"remove"===e&&this.each(function(e,t){var n=r(t);n&&n.remove()}),this.find("span.mceEditor,div.mceEditor").each(function(e,t){var n=tinyMCE.get(t.id.replace(/_parent$/,""));n&&n.remove()})}function i(e){var i,r=this;if(e!==n)t.call(r),r.each(function(t,n){var i;(i=tinyMCE.get(n.id))&&i.setContent(e)});else if(r.length>0&&(i=tinyMCE.get(r[0].id)))return i.getContent()}function r(e){var t=null;return e&&e.id&&o.tinymce&&(t=tinyMCE.get(e.id)),t}function a(e){return!!(e&&e.length&&o.tinymce&&e.is(":tinymce"))}var s={};e.each(["text","html","val"],function(t,o){var l=s[o]=e.fn[o],c="text"===o;e.fn[o]=function(t){var o=this;if(!a(o))return l.apply(o,arguments);if(t!==n)return i.call(o.filter(":tinymce"),t),l.apply(o.not(":tinymce"),arguments),o;var s="",d=arguments;return(c?o:o.eq(0)).each(function(t,n){var i=r(n);s+=i?c?i.getContent().replace(/<(?:"[^"]*"|'[^']*'|[^'">])*>/g,""):i.getContent({save:!0}):l.apply(e(n),d)}),s}}),e.each(["append","prepend"],function(t,i){var o=s[i]=e.fn[i],l="prepend"===i;e.fn[i]=function(e){var t=this;return a(t)?e!==n?(t.filter(":tinymce").each(function(t,n){var i=r(n);i&&i.setContent(l?e+i.getContent():i.getContent()+e)}),o.apply(t.not(":tinymce"),arguments),t):void 0:o.apply(t,arguments)}}),e.each(["remove","replaceWith","replaceAll","empty"],function(n,i){var r=s[i]=e.fn[i];e.fn[i]=function(){return t.call(this,i),r.apply(this,arguments)}}),s.attr=e.fn.attr,e.fn.attr=function(t,o){var l=this,c=arguments;if(!t||"value"!==t||!a(l))return o!==n?s.attr.apply(l,c):s.attr.apply(l,c);if(o!==n)return i.call(l.filter(":tinymce"),o),s.attr.apply(l.not(":tinymce"),c),l;var d=l[0],u=r(d);return u?u.getContent({save:!0}):s.attr.apply(e(d),c)}}var n,i,r=[],o=window;e.fn.tinymce=function(n){function a(){var i=[],r=0;t&&(t(),t=null),u.each(function(e,t){var o,a=t.id,s=n.oninit;a||(t.id=a=tinymce.DOM.uniqueId()),o=new tinymce.Editor(a,n),i.push(o),o.onInit.add(function(){var e,t=s;u.css("visibility",""),s&&++r==i.length&&(tinymce.is(t,"string")&&(e=-1===t.indexOf(".")?null:tinymce.resolve(t.replace(/\.\w+$/,"")),t=tinymce.resolve(t)),t.apply(e||tinymce,i))})}),e.each(i,function(e,t){t.render()})}var s,l,c,d,u=this,h="",p="";return u.length?n?(u.css("visibility","hidden"),o.tinymce||i||!(s=n.script_url)?1===i?r.push(a):a():(i=1,l=s.substring(0,s.lastIndexOf("/")),/_(src|dev)\.js/g.test(s)&&(p="_src"),c=s.lastIndexOf("?"),-1!=c&&(h=s.substring(c+1)),o.tinyMCEPreInit=o.tinyMCEPreInit||{base:l,suffix:p,query:h},-1!=s.indexOf("gzip")&&(d=n.language||"en",s=s+(/\?/.test(s)?"&":"?")+"js=true&core=true&suffix="+escape(p)+"&themes="+escape(n.theme)+"&plugins="+escape(n.plugins)+"&languages="+d,o.tinyMCE_GZ||(tinyMCE_GZ={start:function(){function t(e){tinymce.ScriptLoader.markDone(tinyMCE.baseURI.toAbsolute(e))}tinymce.suffix=p,t("langs/"+d+".js"),t("themes/"+n.theme+"/editor_template"+p+".js"),t("themes/"+n.theme+"/langs/"+d+".js"),e.each(n.plugins.split(","),function(e,n){n&&(t("plugins/"+n+"/editor_plugin"+p+".js"),t("plugins/"+n+"/langs/"+d+".js"))})},end:function(){}})),e.ajax({type:"GET",url:s,dataType:"script",cache:!0,success:function(){tinymce.dom.Event.domLoaded=1,i=2,n.script_loaded&&n.script_loaded(),a(),e.each(r,function(e,t){t()})}})),u):tinyMCE.get(u[0].id):u},e.extend(e.expr[":"],{tinymce:function(e){return!!(e.id&&"tinyMCE"in window&&tinyMCE.get(e.id))}})}(jQuery),window.Modernizr=function(e,t,n){function i(e){b.cssText=e}function r(e,t){return i(_.join(e+";")+(t||""))}function o(e,t){return typeof e===t}function a(e,t){return!!~(""+e).indexOf(t)}function s(e,t){for(var i in e){var r=e[i];if(!a(r,"-")&&b[r]!==n)return"pfx"==t?r:!0}return!1}function l(e,t,i){for(var r in e){var a=t[e[r]];if(a!==n)return i===!1?e[r]:o(a,"function")?a.bind(i||t):a}return!1}function c(e,t,n){var i=e.charAt(0).toUpperCase()+e.slice(1),r=(e+" "+C.join(i+" ")+i).split(" ");return o(t,"string")||o(t,"undefined")?s(r,t):(r=(e+" "+T.join(i+" ")+i).split(" "),l(r,t,n))}function d(){f.input=function(n){for(var i=0,r=n.length;r>i;i++)D[n[i]]=n[i]in x;return D.list&&(D.list=!!t.createElement("datalist")&&!!e.HTMLDataListElement),D}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),f.inputtypes=function(e){for(var i,r,o,a=0,s=e.length;s>a;a++)x.setAttribute("type",r=e[a]),i="text"!==x.type,i&&(x.value=k,x.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(r)&&x.style.WebkitAppearance!==n?(g.appendChild(x),o=t.defaultView,i=o.getComputedStyle&&"textfield"!==o.getComputedStyle(x,null).WebkitAppearance&&0!==x.offsetHeight,g.removeChild(x)):/^(search|tel)$/.test(r)||(i=/^(url|email)$/.test(r)?x.checkValidity&&x.checkValidity()===!1:x.value!=k)),M[e[a]]=!!i;return M}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var u,h,p="2.6.2",f={},m=!0,g=t.documentElement,v="modernizr",y=t.createElement(v),b=y.style,x=t.createElement("input"),k=":)",_=({}.toString," -webkit- -moz- -o- -ms- ".split(" ")),w="Webkit Moz O ms",C=w.split(" "),T=w.toLowerCase().split(" "),S={},M={},D={},A=[],E=A.slice,N=function(e,n,i,r){var o,a,s,l,c=t.createElement("div"),d=t.body,u=d||t.createElement("body");if(parseInt(i,10))for(;i--;)s=t.createElement("div"),s.id=r?r[i]:v+(i+1),c.appendChild(s);return o=["&#173;",'<style id="s',v,'">',e,"</style>"].join(""),c.id=v,(d?c:u).innerHTML+=o,u.appendChild(c),d||(u.style.background="",u.style.overflow="hidden",l=g.style.overflow,g.style.overflow="hidden",g.appendChild(u)),a=n(c,e),d?c.parentNode.removeChild(c):(u.parentNode.removeChild(u),g.style.overflow=l),!!a},L=function(t){var n=e.matchMedia||e.msMatchMedia;if(n)return n(t).matches;var i;return N("@media "+t+" { #"+v+" { position: absolute; } }",function(t){i="absolute"==(e.getComputedStyle?getComputedStyle(t,null):t.currentStyle).position}),i},P=function(){function e(e,r){r=r||t.createElement(i[e]||"div"),e="on"+e;var a=e in r;return a||(r.setAttribute||(r=t.createElement("div")),r.setAttribute&&r.removeAttribute&&(r.setAttribute(e,""),a=o(r[e],"function"),o(r[e],"undefined")||(r[e]=n),r.removeAttribute(e))),r=null,a}var i={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return e}(),F={}.hasOwnProperty;h=o(F,"undefined")||o(F.call,"undefined")?function(e,t){return t in e&&o(e.constructor.prototype[t],"undefined")}:function(e,t){return F.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var n=E.call(arguments,1),i=function(){if(this instanceof i){var r=function(){};r.prototype=t.prototype;var o=new r,a=t.apply(o,n.concat(E.call(arguments)));return Object(a)===a?a:o}return t.apply(e,n.concat(E.call(arguments)))};return i}),S.canvas=function(){var e=t.createElement("canvas");return!!e.getContext&&!!e.getContext("2d")},S.canvastext=function(){return!!f.canvas&&!!o(t.createElement("canvas").getContext("2d").fillText,"function")},S.touch=function(){var n;return"ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch?n=!0:N(["@media (",_.join("touch-enabled),("),v,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(e){n=9===e.offsetTop}),n},S.rgba=function(){return i("background-color:rgba(150,255,150,.5)"),a(b.backgroundColor,"rgba")},S.hsla=function(){return i("background-color:hsla(120,40%,100%,.5)"),a(b.backgroundColor,"rgba")||a(b.backgroundColor,"hsla")},S.multiplebgs=function(){return i("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(b.background)},S.backgroundsize=function(){return c("backgroundSize")},S.borderimage=function(){return c("borderImage")},S.borderradius=function(){return c("borderRadius")},S.boxshadow=function(){return c("boxShadow")},S.textshadow=function(){return""===t.createElement("div").style.textShadow},S.opacity=function(){return r("opacity:.55"),/^0.55$/.test(b.opacity)},S.cssanimations=function(){return c("animationName")},S.csscolumns=function(){return c("columnCount")},S.cssgradients=function(){var e="background-image:",t="gradient(linear,left top,right bottom,from(#9f9),to(white));",n="linear-gradient(left top,#9f9, white);";return i((e+"-webkit- ".split(" ").join(t+e)+_.join(n+e)).slice(0,-e.length)),a(b.backgroundImage,"gradient")},S.cssreflections=function(){return c("boxReflect")},S.csstransforms=function(){return!!c("transform")},S.csstransitions=function(){return c("transition")},S.fontface=function(){var e;return N('@font-face {font-family:"font";src:url("https://")}',function(n,i){var r=t.getElementById("smodernizr"),o=r.sheet||r.styleSheet,a=o?o.cssRules&&o.cssRules[0]?o.cssRules[0].cssText:o.cssText||"":"";e=/src/i.test(a)&&0===a.indexOf(i.split(" ")[0])}),e},S.generatedcontent=function(){var e;return N(["#",v,"{font:0/0 a}#",v,':after{content:"',k,'";visibility:hidden;font:3px/1 a}'].join(""),function(t){e=t.offsetHeight>=3}),e};for(var I in S)h(S,I)&&(u=I.toLowerCase(),f[u]=S[I](),A.push((f[u]?"":"no-")+u));return f.input||d(),f.addTest=function(e,t){if("object"==typeof e)for(var i in e)h(e,i)&&f.addTest(i,e[i]);else{if(e=e.toLowerCase(),f[e]!==n)return f;t="function"==typeof t?t():t,"undefined"!=typeof m&&m&&(g.className+=" "+(t?"":"no-")+e),f[e]=t}return f},i(""),y=x=null,function(e,t){function n(e,t){var n=e.createElement("p"),i=e.getElementsByTagName("head")[0]||e.documentElement;return n.innerHTML="x<style>"+t+"</style>",i.insertBefore(n.lastChild,i.firstChild)}function i(){var e=v.elements;return"string"==typeof e?e.split(" "):e}function r(e){var t=g[e[f]];return t||(t={},m++,e[f]=m,g[m]=t),t}function o(e,n,i){if(n||(n=t),d)return n.createElement(e);i||(i=r(n));var o;return o=i.cache[e]?i.cache[e].cloneNode():p.test(e)?(i.cache[e]=i.createElem(e)).cloneNode():i.createElem(e),o.canHaveChildren&&!h.test(e)?i.frag.appendChild(o):o}function a(e,n){if(e||(e=t),d)return e.createDocumentFragment();n=n||r(e);for(var o=n.frag.cloneNode(),a=0,s=i(),l=s.length;l>a;a++)o.createElement(s[a]);return o}function s(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(n){return v.shivMethods?o(n,e,t):t.createElem(n)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+i().join().replace(/\w+/g,function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'})+");return n}")(v,t.frag)}function l(e){e||(e=t);var i=r(e);return v.shivCSS&&!c&&!i.hasCSS&&(i.hasCSS=!!n(e,"article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}")),d||s(e,i),e}var c,d,u=e.html5||{},h=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,p=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,f="_html5shiv",m=0,g={};!function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",c="hidden"in e,d=1==e.childNodes.length||function(){t.createElement("a");var e=t.createDocumentFragment();return"undefined"==typeof e.cloneNode||"undefined"==typeof e.createDocumentFragment||"undefined"==typeof e.createElement}()}catch(n){c=!0,d=!0}}();var v={elements:u.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:u.shivCSS!==!1,supportsUnknownElements:d,shivMethods:u.shivMethods!==!1,type:"default",shivDocument:l,createElement:o,createDocumentFragment:a};e.html5=v,l(t)}(this,t),f._version=p,f._prefixes=_,f._domPrefixes=T,f._cssomPrefixes=C,f.mq=L,f.hasEvent=P,f.testProp=function(e){return s([e])},f.testAllProps=c,f.testStyles=N,f.prefixed=function(e,t,n){return t?c(e,t,n):c(e,"pfx")},g.className=g.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(m?" js "+A.join(" "):""),f}(this,this.document),function(e,t,n){function i(e){return"[object Function]"==g.call(e)}function r(e){return"string"==typeof e}function o(){}function a(e){return!e||"loaded"==e||"complete"==e||"uninitialized"==e}function s(){var e=v.shift();y=1,e?e.t?f(function(){("c"==e.t?h.injectCss:h.injectJs)(e.s,0,e.a,e.x,e.e,1)},0):(e(),s()):y=0}function l(e,n,i,r,o,l,c){function d(t){if(!p&&a(u.readyState)&&(b.r=p=1,!y&&s(),u.onload=u.onreadystatechange=null,t)){"img"!=e&&f(function(){k.removeChild(u)},50);for(var i in S[n])S[n].hasOwnProperty(i)&&S[n][i].onload()}}var c=c||h.errorTimeout,u=t.createElement(e),p=0,g=0,b={t:i,s:n,e:o,a:l,x:c};1===S[n]&&(g=1,S[n]=[]),"object"==e?u.data=n:(u.src=n,u.type=e),u.width=u.height="0",u.onerror=u.onload=u.onreadystatechange=function(){d.call(this,g)},v.splice(r,0,b),"img"!=e&&(g||2===S[n]?(k.insertBefore(u,x?null:m),f(d,c)):S[n].push(u))}function c(e,t,n,i,o){return y=0,t=t||"j",r(e)?l("c"==t?w:_,e,t,this.i++,n,i,o):(v.splice(this.i++,0,e),1==v.length&&s()),this}function d(){var e=h;return e.loader={load:c,i:0},e}var u,h,p=t.documentElement,f=e.setTimeout,m=t.getElementsByTagName("script")[0],g={}.toString,v=[],y=0,b="MozAppearance"in p.style,x=b&&!!t.createRange().compareNode,k=x?p:m.parentNode,p=e.opera&&"[object Opera]"==g.call(e.opera),p=!!t.attachEvent&&!p,_=b?"object":p?"script":"img",w=p?"script":_,C=Array.isArray||function(e){return"[object Array]"==g.call(e)},T=[],S={},M={timeout:function(e,t){return t.length&&(e.timeout=t[0]),e}};h=function(e){function t(e){var t,n,i,e=e.split("!"),r=T.length,o=e.pop(),a=e.length,o={url:o,origUrl:o,prefixes:e};for(n=0;a>n;n++)i=e[n].split("="),(t=M[i.shift()])&&(o=t(o,i));for(n=0;r>n;n++)o=T[n](o);return o}function a(e,r,o,a,s){var l=t(e),c=l.autoCallback;l.url.split(".").pop().split("?").shift(),l.bypass||(r&&(r=i(r)?r:r[e]||r[a]||r[e.split("/").pop().split("?")[0]]),l.instead?l.instead(e,r,o,a,s):(S[l.url]?l.noexec=!0:S[l.url]=1,o.load(l.url,l.forceCSS||!l.forceJS&&"css"==l.url.split(".").pop().split("?").shift()?"c":n,l.noexec,l.attrs,l.timeout),(i(r)||i(c))&&o.load(function(){d(),r&&r(l.origUrl,s,a),c&&c(l.origUrl,s,a),S[l.url]=2})))}function s(e,t){function n(e,n){if(e){if(r(e))n||(u=function(){var e=[].slice.call(arguments);h.apply(this,e),p()}),a(e,u,t,0,c);else if(Object(e)===e)for(l in s=function(){var t,n=0;for(t in e)e.hasOwnProperty(t)&&n++;return n}(),e)e.hasOwnProperty(l)&&(!n&&!--s&&(i(u)?u=function(){var e=[].slice.call(arguments);h.apply(this,e),p()}:u[l]=function(e){return function(){var t=[].slice.call(arguments);e&&e.apply(this,t),p()}}(h[l])),a(e[l],u,t,l,c))}else!n&&p()}var s,l,c=!!e.test,d=e.load||e.both,u=e.callback||o,h=u,p=e.complete||o;n(c?e.yep:e.nope,!!d),d&&n(d)}var l,c,u=this.yepnope.loader;if(r(e))a(e,0,u,0);else if(C(e))for(l=0;l<e.length;l++)c=e[l],r(c)?a(c,0,u,0):C(c)?h(c):Object(c)===c&&s(c,u);else Object(e)===e&&s(e,u)},h.addPrefix=function(e,t){M[e]=t},h.addFilter=function(e){T.push(e)},h.errorTimeout=1e4,null==t.readyState&&t.addEventListener&&(t.readyState="loading",t.addEventListener("DOMContentLoaded",u=function(){t.removeEventListener("DOMContentLoaded",u,0),t.readyState="complete"},0)),e.yepnope=d(),e.yepnope.executeStack=s,e.yepnope.injectJs=function(e,n,i,r,l,c){var d,u,p=t.createElement("script"),r=r||h.errorTimeout;p.src=e;for(u in i)p.setAttribute(u,i[u]);n=c?s:n||o,p.onreadystatechange=p.onload=function(){!d&&a(p.readyState)&&(d=1,n(),p.onload=p.onreadystatechange=null)},f(function(){d||(d=1,n(1))},r),l?p.onload():m.parentNode.insertBefore(p,m)},e.yepnope.injectCss=function(e,n,i,r,a,l){var c,r=t.createElement("link"),n=l?s:n||o;r.href=e,r.rel="stylesheet",r.type="text/css";for(c in i)r.setAttribute(c,i[c]);a||(m.parentNode.insertBefore(r,m),f(n,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},function(){$(window).bind("page:fetch",function(){return $("body").append("<div class='modal'></div>"),$("body").addClass("loading")})}.call(this),function(){return tinymce.PluginManager.requireLangPack("uploadimage"),tinymce.create("tinymce.plugins.UploadImagePlugin",{init:function(e,t){return e.addCommand("mceUploadImage",function(){return e.windowManager.open({file:t+"/dialog.html",width:320+parseInt(e.getLang("uploadimage.delta_width",0)),height:180+parseInt(e.getLang("uploadimage.delta_height",0)),inline:1},{plugin_url:t})}),e.addButton("uploadimage",{title:"uploadimage.desc",cmd:"mceUploadImage",image:t+"/img/uploadimage.png"}),e.onNodeChange.add(function(e,t,n){return t.setActive("uploadimage","IMG"===n.nodeName)})},createControl:function(){return null},getInfo:function(){return{longname:"UploadImage plugin",author:"Per Christian B. Viken (borrows heavily from work done by Peter Shoukry of 77effects.com)",authorurl:"eastblue.org/oss",infourl:"eastblue.org/oss",version:"1.0"}}}),tinymce.PluginManager.add("uploadimage",tinymce.plugins.UploadImagePlugin)}(),function(){function e(e,t){var n;e||(e={});for(n in t)e[n]=t[n];return e}function t(){var e,t=arguments.length,n={},i=function(e,t){var n,r;"object"!=typeof e&&(e={});for(r in t)t.hasOwnProperty(r)&&(n=t[r],e[r]=n&&"object"==typeof n&&"[object Array]"!==Object.prototype.toString.call(n)&&"number"!=typeof n.nodeType?i(e[r]||{},n):t[r]);return e};for(e=0;t>e;e++)n=i(n,arguments[e]);return n}function n(e,t){return parseInt(e,t||10)}function i(e){return"string"==typeof e}function r(e){return"object"==typeof e}function o(e){return"[object Array]"===Object.prototype.toString.call(e)}function a(e){return"number"==typeof e}function s(e){return ht.log(e)/ht.LN10}function l(e){return ht.pow(10,e)}function c(e,t){for(var n=e.length;n--;)if(e[n]===t){e.splice(n,1);break}}function d(e){return e!==Y&&null!==e}function u(e,t,n){var o,a;if(i(t))d(n)?e.setAttribute(t,n):e&&e.getAttribute&&(a=e.getAttribute(t));else if(d(t)&&r(t))for(o in t)e.setAttribute(o,t[o]);return a}function h(e){return o(e)?e:[e]}function p(){var e,t,n=arguments,i=n.length;for(e=0;i>e;e++)if(t=n[e],"undefined"!=typeof t&&null!==t)return t}function f(t,n){Tt&&n&&n.opacity!==Y&&(n.filter="alpha(opacity="+100*n.opacity+")"),e(t.style,n)}function m(t,n,i,r,o){return t=dt.createElement(t),n&&e(t,n),o&&f(t,{padding:0,border:zt,margin:0}),i&&f(t,i),r&&r.appendChild(t),t}function g(t,n){var i=function(){};return i.prototype=new t,e(i.prototype,n),i}function v(e,t,i,r){var o=U.lang,e=+e||0,a=-1===t?(e.toString().split(".")[1]||"").length:isNaN(t=yt(t))?2:t,t=void 0===i?o.decimalPoint:i,r=void 0===r?o.thousandsSep:r,o=0>e?"-":"",i=String(n(e=yt(e).toFixed(a))),s=i.length>3?i.length%3:0;return o+(s?i.substr(0,s)+r:"")+i.substr(s).replace(/(\d{3})(?=\d)/g,"$1"+r)+(a?t+yt(e-i).toFixed(a).slice(2):"")}function y(e,t){return Array((t||2)+1-String(e).length).join(0)+e}function b(e,t,n){var i=e[t];e[t]=function(){var e=Array.prototype.slice.call(arguments);return e.unshift(i),n.apply(this,e)}}function x(e,t){for(var n,i,r,o,a,s="{",l=!1,c=[];-1!==(s=e.indexOf(s));){if(n=e.slice(0,s),l){for(i=n.split(":"),r=i.shift().split("."),a=r.length,n=t,o=0;a>o;o++)n=n[r[o]];i.length&&(i=i.join(":"),r=/\.([0-9])/,o=U.lang,a=void 0,/f$/.test(i)?(a=(a=i.match(r))?a[1]:-1,n=v(n,a,o.decimalPoint,i.indexOf(",")>-1?o.thousandsSep:"")):n=X(i,n))}c.push(n),e=e.slice(s+1),s=(l=!l)?"}":"{"}return c.push(e),c.join("")}function k(e){return ht.pow(10,ft(ht.log(e)/ht.LN10))}function _(e,t,n,i){var r,n=p(n,1);for(r=e/n,t||(t=[1,2,2.5,5,10],i&&i.allowDecimals===!1&&(1===n?t=[1,2,5,10]:.1>=n&&(t=[1/n]))),i=0;i<t.length&&(e=t[i],!(r<=(t[i]+(t[i+1]||t[i]))/2));i++);return e*=n}function w(e,t){var n,i=t||[[$t,[1,2,5,10,20,25,50,100,200,500]],[Wt,[1,2,5,10,15,30]],[Yt,[1,2,5,10,15,30]],[Vt,[1,2,3,4,6,8,12]],[qt,[1,2]],[Ut,[1,2]],[Xt,[1,2,3,4,6]],[Gt,null]],r=i[i.length-1],o=Q[r[0]],a=r[1];for(n=0;n<i.length&&(r=i[n],o=Q[r[0]],a=r[1],!(i[n+1]&&e<=(o*a[a.length-1]+Q[i[n+1][0]])/2));n++);return o===Q[Gt]&&5*o>e&&(a=[1,2,5]),o===Q[Gt]&&5*o>e&&(a=[1,2,5]),i=_(e/o,a,r[0]===Gt?k(e/o):1),{unitRange:o,count:i,unitName:r[0]}}function C(t,n,i,r){var o,a=[],s={},l=U.global.useUTC,c=new Date(n),u=t.unitRange,h=t.count;if(d(n)){u>=Q[Wt]&&(c.setMilliseconds(0),c.setSeconds(u>=Q[Yt]?0:h*ft(c.getSeconds()/h))),u>=Q[Yt]&&c[ot](u>=Q[Vt]?0:h*ft(c[J]()/h)),u>=Q[Vt]&&c[at](u>=Q[qt]?0:h*ft(c[et]()/h)),u>=Q[qt]&&c[st](u>=Q[Xt]?1:h*ft(c[nt]()/h)),u>=Q[Xt]&&(c[lt](u>=Q[Gt]?0:h*ft(c[it]()/h)),o=c[rt]()),u>=Q[Gt]&&(o-=o%h,c[ct](o)),u===Q[Ut]&&c[st](c[nt]()-c[tt]()+p(r,1)),n=1,o=c[rt]();for(var r=c.getTime(),f=c[it](),m=c[nt](),g=l?0:(864e5+6e4*c.getTimezoneOffset())%864e5;i>r;)a.push(r),u===Q[Gt]?r=Z(o+n*h,0):u===Q[Xt]?r=Z(o,f+n*h):l||u!==Q[qt]&&u!==Q[Ut]?r+=u*h:r=Z(o,f,m+n*h*(u===Q[qt]?1:7)),n++;a.push(r),rn(on(a,function(e){return u<=Q[Vt]&&e%Q[qt]===g}),function(e){s[e]=qt})}return a.info=e(t,{higherRanks:s,totalRange:u*h}),a}function T(){this.symbol=this.color=0}function S(e,t){var n,i,r=e.length;for(i=0;r>i;i++)e[i].ss_i=i;for(e.sort(function(e,i){return n=t(e,i),0===n?e.ss_i-i.ss_i:n}),i=0;r>i;i++)delete e[i].ss_i}function M(e){for(var t=e.length,n=e[0];t--;)e[t]<n&&(n=e[t]);return n}function D(e){for(var t=e.length,n=e[0];t--;)e[t]>n&&(n=e[t]);return n}function A(e,t){for(var n in e)e[n]&&e[n]!==t&&e[n].destroy&&e[n].destroy(),delete e[n]}function E(e){q||(q=m(Ht)),e&&q.appendChild(e),q.innerHTML=""}function N(e,t){var n="Highcharts error #"+e+": www.highcharts.com/errors/"+e;if(t)throw n;ut.console&&console.log(n)}function L(e){return parseFloat(e.toPrecision(14))}function P(e,t){G=p(e,t.animation)}function F(){var e=U.global.useUTC,t=e?"getUTC":"get",n=e?"setUTC":"set";Z=e?Date.UTC:function(e,t,n,i,r,o){return new Date(e,t,p(n,1),p(i,0),p(r,0),p(o,0)).getTime()},J=t+"Minutes",et=t+"Hours",tt=t+"Day",nt=t+"Date",it=t+"Month",rt=t+"FullYear",ot=n+"Minutes",at=n+"Hours",st=n+"Date",lt=n+"Month",ct=n+"FullYear"}function I(){}function R(e,t,n,i){this.axis=e,this.pos=t,this.type=n||"",this.isNew=!0,!n&&!i&&this.addLabel()}function B(e,t){this.axis=e,t&&(this.options=t,this.id=t.id)}function O(e,t,n,i,r,o){var a=e.chart.inverted;this.axis=e,this.isNegative=n,this.options=t,this.x=i,this.total=0,this.points={},this.stack=r,this.percent="percent"===o,this.alignOptions={align:t.align||(a?n?"left":"right":"center"),verticalAlign:t.verticalAlign||(a?"middle":n?"bottom":"top"),y:p(t.y,a?4:n?14:-6),x:p(t.x,a?n?-6:6:0)},this.textAlign=t.textAlign||(a?n?"right":"left":"center")}function H(){this.init.apply(this,arguments)}function z(){this.init.apply(this,arguments)}function j(e,t){this.init(e,t)}function $(e,t){this.init(e,t)}function W(){this.init.apply(this,arguments)}var Y,V,q,U,X,G,K,Q,Z,J,et,tt,nt,it,rt,ot,at,st,lt,ct,dt=document,ut=window,ht=Math,pt=ht.round,ft=ht.floor,mt=ht.ceil,gt=ht.max,vt=ht.min,yt=ht.abs,bt=ht.cos,xt=ht.sin,kt=ht.PI,_t=2*kt/360,wt=navigator.userAgent,Ct=ut.opera,Tt=/msie/i.test(wt)&&!Ct,St=8===dt.documentMode,Mt=/AppleWebKit/.test(wt),Dt=/Firefox/.test(wt),At=/(Mobile|Android|Windows Phone)/.test(wt),Et="http://www.w3.org/2000/svg",Nt=!!dt.createElementNS&&!!dt.createElementNS(Et,"svg").createSVGRect,Lt=Dt&&parseInt(wt.split("Firefox/")[1],10)<4,Pt=!Nt&&!Tt&&!!dt.createElement("canvas").getContext,Ft=dt.documentElement.ontouchstart!==Y,It={},Rt=0,Bt=function(){},Ot=[],Ht="div",zt="none",jt="rgba(192,192,192,"+(Nt?1e-4:.002)+")",$t="millisecond",Wt="second",Yt="minute",Vt="hour",qt="day",Ut="week",Xt="month",Gt="year",Kt="stroke-width",Qt={};ut.Highcharts=ut.Highcharts?N(16,!0):{},X=function(t,n,i){if(!d(n)||isNaN(n))return"Invalid date";var r,t=p(t,"%Y-%m-%d %H:%M:%S"),o=new Date(n),a=o[et](),s=o[tt](),l=o[nt](),c=o[it](),u=o[rt](),h=U.lang,f=h.weekdays,o=e({a:f[s].substr(0,3),A:f[s],d:y(l),e:l,b:h.shortMonths[c],B:h.months[c],m:y(c+1),y:u.toString().substr(2,2),Y:u,H:y(a),I:y(a%12||12),l:a%12||12,M:y(o[J]()),p:12>a?"AM":"PM",P:12>a?"am":"pm",S:y(o.getSeconds()),L:y(pt(n%1e3),3)},Highcharts.dateFormats);for(r in o)for(;-1!==t.indexOf("%"+r);)t=t.replace("%"+r,"function"==typeof o[r]?o[r](n):o[r]);return i?t.substr(0,1).toUpperCase()+t.substr(1):t},T.prototype={wrapColor:function(e){this.color>=e&&(this.color=0)},wrapSymbol:function(e){this.symbol>=e&&(this.symbol=0)}},Q=function(){for(var e=0,t=arguments,n=t.length,i={};n>e;e++)i[t[e++]]=t[e];return i}($t,1,Wt,1e3,Yt,6e4,Vt,36e5,qt,864e5,Ut,6048e5,Xt,26784e5,Gt,31556952e3),K={init:function(e,t,n){var i,r,o,t=t||"",a=e.shift,s=t.indexOf("C")>-1,l=s?7:3,t=t.split(" "),n=[].concat(n),c=function(e){for(i=e.length;i--;)"M"===e[i]&&e.splice(i+1,0,e[i+1],e[i+2],e[i+1],e[i+2])};if(s&&(c(t),c(n)),e.isArea&&(r=t.splice(t.length-6,6),o=n.splice(n.length-6,6)),a<=n.length/l)for(;a--;)n=[].concat(n).splice(0,l).concat(n);if(e.shift=0,t.length)for(e=n.length;t.length<e;)a=[].concat(t).splice(t.length-l,l),s&&(a[l-6]=a[l-2],a[l-5]=a[l-1]),t=t.concat(a);return r&&(t=t.concat(r),n=n.concat(o)),[t,n]},step:function(e,t,n,i){var r=[],o=e.length;if(1===n)r=i;else if(o===t.length&&1>n)for(;o--;)i=parseFloat(e[o]),r[o]=isNaN(i)?e[o]:n*parseFloat(t[o]-i)+i;else r=t;return r}},function(t){ut.HighchartsAdapter=ut.HighchartsAdapter||t&&{init:function(e){var n,r=t.fx,o=r.step,a=t.Tween,s=a&&a.propHooks;n=t.cssHooks.opacity,t.extend(t.easing,{easeOutQuad:function(e,t,n,i,r){return-i*(t/=r)*(t-2)+n}}),t.each(["cur","_default","width","height","opacity"],function(e,t){var n,i,l=o;"cur"===t?l=r.prototype:"_default"===t&&a&&(l=s[t],t="set"),(n=l[t])&&(l[t]=function(r){return r=e?r:this,i=r.elem,i.attr?i.attr(r.prop,"cur"===t?Y:r.now):n.apply(this,arguments)})}),b(n,"get",function(e,t,n){return t.attr?t.opacity||0:e.call(this,t,n)}),n=function(t){var n,i=t.elem;t.started||(n=e.init(i,i.d,i.toD),t.start=n[0],t.end=n[1],t.started=!0),i.attr("d",e.step(t.start,t.end,t.pos,i.toD))},a?s.d={set:n}:o.d=n,this.each=Array.prototype.forEach?function(e,t){return Array.prototype.forEach.call(e,t)}:function(e,t){for(var n=0,i=e.length;i>n;n++)if(t.call(e[n],e[n],n,e)===!1)return n},t.fn.highcharts=function(){var e,t,n="Chart",r=arguments;return i(r[0])&&(n=r[0],r=Array.prototype.slice.call(r,1)),e=r[0],e!==Y&&(e.chart=e.chart||{},e.chart.renderTo=this[0],new Highcharts[n](e,r[1]),t=this),e===Y&&(t=Ot[u(this[0],"data-highcharts-chart")]),t}},getScript:t.getScript,inArray:t.inArray,adapterRun:function(e,n){return t(e)[n]()},grep:t.grep,map:function(e,t){for(var n=[],i=0,r=e.length;r>i;i++)n[i]=t.call(e[i],e[i],i,e);return n},offset:function(e){return t(e).offset()},addEvent:function(e,n,i){t(e).bind(n,i)},removeEvent:function(e,n,i){var r=dt.removeEventListener?"removeEventListener":"detachEvent";dt[r]&&e&&!e[r]&&(e[r]=function(){}),t(e).unbind(n,i)},fireEvent:function(n,i,r,o){var a,s=t.Event(i),l="detached"+i;!Tt&&r&&(delete r.layerX,delete r.layerY),e(s,r),n[i]&&(n[l]=n[i],n[i]=null),t.each(["preventDefault","stopPropagation"],function(e,t){var n=s[t];s[t]=function(){try{n.call(s)}catch(e){"preventDefault"===t&&(a=!0)}}}),t(n).trigger(s),n[l]&&(n[i]=n[l],n[l]=null),o&&!s.isDefaultPrevented()&&!a&&o(s)},washMouseEvent:function(e){var t=e.originalEvent||e;return t.pageX===Y&&(t.pageX=e.pageX,t.pageY=e.pageY),t},animate:function(e,n,i){var r=t(e);e.style||(e.style={}),n.d&&(e.toD=n.d,n.d=1),r.stop(),r.animate(n,i)},stop:function(e){t(e).stop()}}}(ut.jQuery);var Zt=ut.HighchartsAdapter,Jt=Zt||{};Zt&&Zt.init.call(Zt,K);var en=Jt.adapterRun,tn=Jt.getScript,nn=Jt.inArray,rn=Jt.each,on=Jt.grep,an=Jt.offset,sn=Jt.map,ln=Jt.addEvent,cn=Jt.removeEvent,dn=Jt.fireEvent,un=Jt.washMouseEvent,hn=Jt.animate,pn=Jt.stop,Jt={enabled:!0,x:0,y:15,style:{color:"#666",cursor:"default",fontSize:"11px",lineHeight:"14px"}};U={colors:"#2f7ed8,#0d233a,#8bbc21,#910000,#1aadce,#492970,#f28f43,#77a1e5,#c42525,#a6c96a".split(","),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),shortMonths:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),decimalPoint:".",numericSymbols:"k,M,G,T,P,E".split(","),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:","},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/3.0.4/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/3.0.4/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:5,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacingTop:10,spacingRight:10,spacingBottom:15,spacingLeft:10,style:{fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Verdana, Arial, Helvetica, sans-serif',fontSize:"12px"},backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",margin:15,style:{color:"#274b6d",fontSize:"16px"}},subtitle:{text:"",align:"center",style:{color:"#4d759e"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:{enabled:!0,lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:t(Jt,{align:"center",enabled:!1,formatter:function(){return null===this.y?"":v(this.y,-1)},verticalAlign:"bottom",y:0}),cropThreshold:300,pointRange:0,showInLegend:!0,states:{hover:{marker:{}},select:{marker:{}}},stickyTracking:!0}},labels:{style:{position:"absolute",color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderWidth:1,borderColor:"#909090",borderRadius:5,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{cursor:"pointer",color:"#274b6d",fontSize:"12px"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},symbolWidth:16,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"1em"},style:{position:"absolute",backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:Nt,backgroundColor:"rgba(255, 255, 255, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>{point.y}</b><br/>',shadow:!0,snap:At?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}};var fn=U.plotOptions,Zt=fn.line;F();var mn=function(e){var i,r,o=[];return function(e){e&&e.stops?r=sn(e.stops,function(e){return mn(e[1])}):(i=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/.exec(e))?o=[n(i[1]),n(i[2]),n(i[3]),parseFloat(i[4],10)]:(i=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(e))?o=[n(i[1],16),n(i[2],16),n(i[3],16),1]:(i=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(e))&&(o=[n(i[1]),n(i[2]),n(i[3]),1])
}(e),{get:function(n){var i;return r?(i=t(e),i.stops=[].concat(i.stops),rn(r,function(e,t){i.stops[t]=[i.stops[t][0],e.get(n)]})):i=o&&!isNaN(o[0])?"rgb"===n?"rgb("+o[0]+","+o[1]+","+o[2]+")":"a"===n?o[3]:"rgba("+o.join(",")+")":e,i},brighten:function(e){if(r)rn(r,function(t){t.brighten(e)});else if(a(e)&&0!==e){var t;for(t=0;3>t;t++)o[t]+=n(255*e),o[t]<0&&(o[t]=0),o[t]>255&&(o[t]=255)}return this},rgba:o,setOpacity:function(e){return o[3]=e,this}}};I.prototype={init:function(e,t){this.element="span"===t?m(t):dt.createElementNS(Et,t),this.renderer=e,this.attrSetters={}},opacity:1,animate:function(e,n,i){n=p(n,G,!0),pn(this),n?(n=t(n),i&&(n.complete=i),hn(this,e,n)):(this.attr(e),i&&i())},attr:function(e,t){var r,o,a,s,l,c,h,f=this.element,m=f.nodeName.toLowerCase(),g=this.renderer,v=this.attrSetters,y=this.shadows,b=this;if(i(e)&&d(t)&&(r=e,e={},e[r]=t),i(e))r=e,"circle"===m?r={x:"cx",y:"cy"}[r]||r:"strokeWidth"===r&&(r="stroke-width"),b=u(f,r)||this[r]||0,"d"!==r&&"visibility"!==r&&(b=parseFloat(b));else{for(r in e)if(l=!1,o=e[r],a=v[r]&&v[r].call(this,o,r),a!==!1){if(a!==Y&&(o=a),"d"===r)o&&o.join&&(o=o.join(" ")),/(NaN| {2}|^$)/.test(o)&&(o="M 0 0");else if("x"===r&&"text"===m)for(a=0;a<f.childNodes.length;a++)s=f.childNodes[a],u(s,"x")===u(f,"x")&&u(s,"x",o);else if(!this.rotation||"x"!==r&&"y"!==r)if("fill"===r)o=g.color(o,f,r);else if("circle"!==m||"x"!==r&&"y"!==r)if("rect"===m&&"r"===r)u(f,{rx:o,ry:o}),l=!0;else if("translateX"===r||"translateY"===r||"rotation"===r||"verticalAlign"===r||"scaleX"===r||"scaleY"===r)l=h=!0;else if("stroke"===r)o=g.color(o,f,r);else if("dashstyle"===r){if(r="stroke-dasharray",o=o&&o.toLowerCase(),"solid"===o)o=zt;else if(o){for(o=o.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),a=o.length;a--;)o[a]=n(o[a])*p(e["stroke-width"],this["stroke-width"]);o=o.join(",")}}else"width"===r?o=n(o):"align"===r?(r="text-anchor",o={left:"start",center:"middle",right:"end"}[o]):"title"===r&&(a=f.getElementsByTagName("title")[0],a||(a=dt.createElementNS(Et,"title"),f.appendChild(a)),a.textContent=o);else r={x:"cx",y:"cy"}[r]||r;else h=!0;if("strokeWidth"===r&&(r="stroke-width"),("stroke-width"===r||"stroke"===r)&&(this[r]=o,this.stroke&&this["stroke-width"]?(u(f,"stroke",this.stroke),u(f,"stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===r&&0===o&&this.hasStroke&&(f.removeAttribute("stroke"),this.hasStroke=!1),l=!0),this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(r)&&(c||(this.symbolAttr(e),c=!0),l=!0),y&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(r))for(a=y.length;a--;)u(y[a],r,"height"===r?gt(o-(y[a].cutHeight||0),0):o);("width"===r||"height"===r)&&"rect"===m&&0>o&&(o=0),this[r]=o,"text"===r?(o!==this.textStr&&delete this.bBox,this.textStr=o,this.added&&g.buildText(this)):l||u(f,r,o)}h&&this.updateTransform()}return b},addClass:function(e){var t=this.element,n=u(t,"class")||"";return-1===n.indexOf(e)&&u(t,"class",n+" "+e),this},symbolAttr:function(e){var t=this;rn("x,y,r,start,end,width,height,innerR,anchorX,anchorY".split(","),function(n){t[n]=p(e[n],t[n])}),t.attr({d:t.renderer.symbols[t.symbolName](t.x,t.y,t.width,t.height,t)})},clip:function(e){return this.attr("clip-path",e?"url("+this.renderer.url+"#"+e.id+")":zt)},crisp:function(e,t,n,i,r){var o,a,s={},l={},e=e||this.strokeWidth||this.attr&&this.attr("stroke-width")||0;a=pt(e)%2/2,l.x=ft(t||this.x||0)+a,l.y=ft(n||this.y||0)+a,l.width=ft((i||this.width||0)-2*a),l.height=ft((r||this.height||0)-2*a),l.strokeWidth=e;for(o in l)this[o]!==l[o]&&(this[o]=s[o]=l[o]);return s},css:function(t){var n,i=this.element,r=t&&t.width&&"text"===i.nodeName.toLowerCase(),o="",a=function(e,t){return"-"+t.toLowerCase()};if(t&&t.color&&(t.fill=t.color),this.styles=t=e(this.styles,t),Pt&&r&&delete t.width,Tt&&!Nt)r&&delete t.width,f(this.element,t);else{for(n in t)o+=n.replace(/([A-Z])/g,a)+":"+t[n]+";";u(i,"style",o)}return r&&this.added&&this.renderer.buildText(this),this},on:function(e,t){var n=this.element;return Ft&&"click"===e&&(n.ontouchstart=function(e){e.preventDefault(),t.call(n,e)}),n["on"+e]=t,this},setRadialReference:function(e){return this.element.radialReference=e,this},translate:function(e,t){return this.attr({translateX:e,translateY:t})},invert:function(){return this.inverted=!0,this.updateTransform(),this},htmlCss:function(t){var n=this.element;return(n=t&&"SPAN"===n.tagName&&t.width)&&(delete t.width,this.textWidth=n,this.updateTransform()),this.styles=e(this.styles,t),f(this.element,t),this},htmlGetBBox:function(){var e=this.element,t=this.bBox;return t||("text"===e.nodeName&&(e.style.position="absolute"),t=this.bBox={x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}),t},htmlUpdateTransform:function(){if(this.added){var e=this.renderer,t=this.element,i=this.translateX||0,r=this.translateY||0,o=this.x||0,a=this.y||0,s=this.textAlign||"left",l={left:0,center:.5,right:1}[s],c=s&&"left"!==s,u=this.shadows;if(f(t,{marginLeft:i,marginTop:r}),u&&rn(u,function(e){f(e,{marginLeft:i+1,marginTop:r+1})}),this.inverted&&rn(t.childNodes,function(n){e.invertChild(n,t)}),"SPAN"===t.tagName){var h,m,g,u=this.rotation;h=0;var v,y=1,b=0;g=n(this.textWidth);var x=this.xCorr||0,k=this.yCorr||0,_=[u,s,t.innerHTML,this.textWidth].join(",");_!==this.cTT&&(d(u)&&(h=u*_t,y=bt(h),b=xt(h),this.setSpanRotation(u,b,y)),h=p(this.elemWidth,t.offsetWidth),m=p(this.elemHeight,t.offsetHeight),h>g&&/[ \-]/.test(t.textContent||t.innerText)&&(f(t,{width:g+"px",display:"block",whiteSpace:"normal"}),h=g),g=e.fontMetrics(t.style.fontSize).b,x=0>y&&-h,k=0>b&&-m,v=0>y*b,x+=b*g*(v?1-l:l),k-=y*g*(u?v?l:1-l:1),c&&(x-=h*l*(0>y?-1:1),u&&(k-=m*l*(0>b?-1:1)),f(t,{textAlign:s})),this.xCorr=x,this.yCorr=k),f(t,{left:o+x+"px",top:a+k+"px"}),Mt&&(m=t.offsetHeight),this.cTT=_}}else this.alignOnAdd=!0},setSpanRotation:function(e){var t={};t[Tt?"-ms-transform":Mt?"-webkit-transform":Dt?"MozTransform":Ct?"-o-transform":""]=t.transform="rotate("+e+"deg)",f(this.element,t)},updateTransform:function(){var e=this.translateX||0,t=this.translateY||0,n=this.scaleX,i=this.scaleY,r=this.inverted,o=this.rotation;r&&(e+=this.attr("width"),t+=this.attr("height")),e=["translate("+e+","+t+")"],r?e.push("rotate(90) scale(-1,1)"):o&&e.push("rotate("+o+" "+(this.x||0)+" "+(this.y||0)+")"),(d(n)||d(i))&&e.push("scale("+p(n,1)+" "+p(i,1)+")"),e.length&&u(this.element,"transform",e.join(" "))},toFront:function(){var e=this.element;return e.parentNode.appendChild(e),this},align:function(e,t,n){var r,o,a,s,l={};return o=this.renderer,a=o.alignedObjects,e?(this.alignOptions=e,this.alignByTranslate=t,(!n||i(n))&&(this.alignTo=r=n||"renderer",c(a,this),a.push(this),n=null)):(e=this.alignOptions,t=this.alignByTranslate,r=this.alignTo),n=p(n,o[r],o),r=e.align,o=e.verticalAlign,a=(n.x||0)+(e.x||0),s=(n.y||0)+(e.y||0),("right"===r||"center"===r)&&(a+=(n.width-(e.width||0))/{right:1,center:2}[r]),l[t?"translateX":"x"]=pt(a),("bottom"===o||"middle"===o)&&(s+=(n.height-(e.height||0))/({bottom:1,middle:2}[o]||1)),l[t?"translateY":"y"]=pt(s),this[this.placed?"animate":"attr"](l),this.placed=!0,this.alignAttr=l,this},getBBox:function(){var t,n=this.bBox,i=this.renderer,r=this.rotation;t=this.element;var o=this.styles,a=r*_t;if(!n){if(t.namespaceURI===Et||i.forExport){try{n=t.getBBox?e({},t.getBBox()):{width:t.offsetWidth,height:t.offsetHeight}}catch(s){}(!n||n.width<0)&&(n={width:0,height:0})}else n=this.htmlGetBBox();i.isSVG&&(i=n.width,t=n.height,Tt&&o&&"11px"===o.fontSize&&"22.7"===t.toPrecision(3)&&(n.height=t=14),r&&(n.width=yt(t*xt(a))+yt(i*bt(a)),n.height=yt(t*bt(a))+yt(i*xt(a)))),this.bBox=n}return n},show:function(){return this.attr({visibility:"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(e){var t=this;t.animate({opacity:0},{duration:e||150,complete:function(){t.hide()}})},add:function(e){var t,i=this.renderer,r=e||i,o=r.element||i.box,a=o.childNodes,s=this.element,l=u(s,"zIndex");if(e&&(this.parentGroup=e),this.parentInverted=e&&e.inverted,void 0!==this.textStr&&i.buildText(this),l&&(r.handleZ=!0,l=n(l)),r.handleZ)for(r=0;r<a.length;r++)if(e=a[r],i=u(e,"zIndex"),e!==s&&(n(i)>l||!d(l)&&d(i))){o.insertBefore(s,e),t=!0;break}return t||o.appendChild(s),this.added=!0,dn(this,"add"),this},safeRemoveChild:function(e){var t=e.parentNode;t&&t.removeChild(e)},destroy:function(){var e,t,n=this,i=n.element||{},r=n.shadows,o=n.renderer.isSVG&&"SPAN"===i.nodeName&&i.parentNode;if(i.onclick=i.onmouseout=i.onmouseover=i.onmousemove=i.point=null,pn(n),n.clipPath&&(n.clipPath=n.clipPath.destroy()),n.stops){for(t=0;t<n.stops.length;t++)n.stops[t]=n.stops[t].destroy();n.stops=null}for(n.safeRemoveChild(i),r&&rn(r,function(e){n.safeRemoveChild(e)});o&&0===o.childNodes.length;)i=o.parentNode,n.safeRemoveChild(o),o=i;n.alignTo&&c(n.renderer.alignedObjects,n);for(e in n)delete n[e];return null},shadow:function(e,t,n){var i,r,o,a,s,l,c=[],d=this.element;if(e){for(a=p(e.width,3),s=(e.opacity||.15)/a,l=this.parentInverted?"(-1,-1)":"("+p(e.offsetX,1)+", "+p(e.offsetY,1)+")",i=1;a>=i;i++)r=d.cloneNode(0),o=2*a+1-2*i,u(r,{isShadow:"true",stroke:e.color||"black","stroke-opacity":s*i,"stroke-width":o,transform:"translate"+l,fill:zt}),n&&(u(r,"height",gt(u(r,"height")-o,0)),r.cutHeight=o),t?t.element.appendChild(r):d.parentNode.insertBefore(r,d),c.push(r);this.shadows=c}return this}};var gn=function(){this.init.apply(this,arguments)};gn.prototype={Element:I,init:function(e,t,n,i){var r,o,a=location;r=this.createElement("svg").attr({version:"1.1"}),o=r.element,e.appendChild(o),-1===e.innerHTML.indexOf("xmlns")&&u(o,"xmlns",Et),this.isSVG=!0,this.box=o,this.boxWrapper=r,this.alignedObjects=[],this.url=(Dt||Mt)&&dt.getElementsByTagName("base").length?a.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",this.createElement("desc").add().element.appendChild(dt.createTextNode("Created with Highcharts 3.0.4")),this.defs=this.createElement("defs").add(),this.forExport=i,this.gradients={},this.setSize(t,n,!1);var s;Dt&&e.getBoundingClientRect&&(this.subPixelFix=t=function(){f(e,{left:0,top:0}),s=e.getBoundingClientRect(),f(e,{left:mt(s.left)-s.left+"px",top:mt(s.top)-s.top+"px"})},t(),ln(ut,"resize",t))},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var e=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),A(this.gradients||{}),this.gradients=null,e&&(this.defs=e.destroy()),this.subPixelFix&&cn(ut,"resize",this.subPixelFix),this.alignedObjects=null},createElement:function(e){var t=new this.Element;return t.init(this,e),t},draw:function(){},buildText:function(e){for(var t=e.element,i=this,r=i.forExport,o=p(e.textStr,"").toString().replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g),a=t.childNodes,s=/style="([^"]+)"/,l=/href="(http[^"]+)"/,c=u(t,"x"),d=e.styles,h=d&&d.width&&n(d.width),m=d&&d.lineHeight,g=a.length;g--;)t.removeChild(a[g]);h&&!e.added&&this.box.appendChild(t),""===o[o.length-1]&&o.pop(),rn(o,function(n,o){var a,p=0,n=n.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||");a=n.split("|||"),rn(a,function(n){if(""!==n||1===a.length){var g,v={},y=dt.createElementNS(Et,"tspan");if(s.test(n)&&(g=n.match(s)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),u(y,"style",g)),l.test(n)&&!r&&(u(y,"onclick",'location.href="'+n.match(l)[1]+'"'),f(y,{cursor:"pointer"})),n=(n.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">")," "!==n&&(y.appendChild(dt.createTextNode(n)),p?v.dx=0:v.x=c,u(y,v),!p&&o&&(!Nt&&r&&f(y,{display:"block"}),u(y,"dy",m||i.fontMetrics(/px$/.test(y.style.fontSize)?y.style.fontSize:d.fontSize).h,Mt&&y.offsetHeight)),t.appendChild(y),p++,h))for(var b,n=n.replace(/([^\^])-/g,"$1- ").split(" "),x=[];n.length||x.length;)delete e.bBox,b=e.getBBox().width,v=b>h,v&&1!==n.length?(y.removeChild(y.firstChild),x.unshift(n.pop())):(n=x,x=[],n.length&&(y=dt.createElementNS(Et,"tspan"),u(y,{dy:m||16,x:c}),g&&u(y,"style",g),t.appendChild(y),b>h&&(h=b))),n.length&&y.appendChild(dt.createTextNode(n.join(" ").replace(/- /g,"-")))}})})},button:function(n,i,r,o,a,s,l){var c,d,u,h,p,f=this.label(n,i,r,null,null,null,null,null,"button"),m=0,n={x1:0,y1:0,x2:0,y2:1},a=t({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:n,stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},a);return u=a.style,delete a.style,s=t(a,{stroke:"#68A",fill:{linearGradient:n,stops:[[0,"#FFF"],[1,"#ACF"]]}},s),h=s.style,delete s.style,l=t(a,{stroke:"#68A",fill:{linearGradient:n,stops:[[0,"#9BD"],[1,"#CDF"]]}},l),p=l.style,delete l.style,ln(f.element,Tt?"mouseover":"mouseenter",function(){f.attr(s).css(h)}),ln(f.element,Tt?"mouseout":"mouseleave",function(){c=[a,s,l][m],d=[u,h,p][m],f.attr(c).css(d)}),f.setState=function(e){(m=e)?2===e&&f.attr(l).css(p):f.attr(a).css(u)},f.on("click",function(){o.call(f)}).attr(a).css(e({cursor:"default"},u))},crispLine:function(e,t){return e[1]===e[4]&&(e[1]=e[4]=pt(e[1])-t%2/2),e[2]===e[5]&&(e[2]=e[5]=pt(e[2])+t%2/2),e},path:function(t){var n={fill:zt};return o(t)?n.d=t:r(t)&&e(n,t),this.createElement("path").attr(n)},circle:function(e,t,n){return e=r(e)?e:{x:e,y:t,r:n},this.createElement("circle").attr(e)},arc:function(e,t,n,i,o,a){return r(e)&&(t=e.y,n=e.r,i=e.innerR,o=e.start,a=e.end,e=e.x),e=this.symbol("arc",e||0,t||0,n||0,n||0,{innerR:i||0,start:o||0,end:a||0}),e.r=n,e},rect:function(e,t,n,i,o,a){return o=r(e)?e.r:o,o=this.createElement("rect").attr({rx:o,ry:o,fill:zt}),o.attr(r(e)?e:o.crisp(a,e,t,gt(n,0),gt(i,0)))},setSize:function(e,t,n){var i=this.alignedObjects,r=i.length;for(this.width=e,this.height=t,this.boxWrapper[p(n,!0)?"animate":"attr"]({width:e,height:t});r--;)i[r].align()},g:function(e){var t=this.createElement("g");return d(e)?t.attr({"class":"highcharts-"+e}):t},image:function(t,n,i,r,o){var a={preserveAspectRatio:zt};return arguments.length>1&&e(a,{x:n,y:i,width:r,height:o}),a=this.createElement("image").attr(a),a.element.setAttributeNS?a.element.setAttributeNS("http://www.w3.org/1999/xlink","href",t):a.element.setAttribute("hc-svg-href",t),a},symbol:function(t,n,i,r,o,a){var s,l,c,d=this.symbols[t],d=d&&d(pt(n),pt(i),r,o,a),u=/^url\((.*?)\)$/;return d?(s=this.path(d),e(s,{symbolName:t,x:n,y:i,width:r,height:o}),a&&e(s,a)):u.test(t)&&(c=function(e,t){e.element&&(e.attr({width:t[0],height:t[1]}),e.alignByTranslate||e.translate(pt((r-t[0])/2),pt((o-t[1])/2)))},l=t.match(u)[1],t=It[l],s=this.image(l).attr({x:n,y:i}),s.isImg=!0,t?c(s,t):(s.attr({width:0,height:0}),m("img",{onload:function(){c(s,It[l]=[this.width,this.height])},src:l}))),s},symbols:{circle:function(e,t,n,i){var r=.166*n;return["M",e+n/2,t,"C",e+n+r,t,e+n+r,t+i,e+n/2,t+i,"C",e-r,t+i,e-r,t,e+n/2,t,"Z"]},square:function(e,t,n,i){return["M",e,t,"L",e+n,t,e+n,t+i,e,t+i,"Z"]},triangle:function(e,t,n,i){return["M",e+n/2,t,"L",e+n,t+i,e,t+i,"Z"]},"triangle-down":function(e,t,n,i){return["M",e,t,"L",e+n,t,e+n/2,t+i,"Z"]},diamond:function(e,t,n,i){return["M",e+n/2,t,"L",e+n,t+i/2,e+n/2,t+i,e,t+i/2,"Z"]},arc:function(e,t,n,i,r){var o=r.start,n=r.r||n||i,a=r.end-.001,i=r.innerR,s=r.open,l=bt(o),c=xt(o),d=bt(a),a=xt(a),r=r.end-o<kt?0:1;return["M",e+n*l,t+n*c,"A",n,n,0,r,1,e+n*d,t+n*a,s?"M":"L",e+i*d,t+i*a,"A",i,i,0,r,0,e+i*l,t+i*c,s?"":"Z"]}},clipRect:function(e,t,n,i){var r="highcharts-"+Rt++,o=this.createElement("clipPath").attr({id:r}).add(this.defs),e=this.rect(e,t,n,i,0).add(o);return e.id=r,e.clipPath=o,e},color:function(e,n,i){var r,a,s,l,c,h,p,f,m=this,g=/^rgba/,v=[];if(e&&e.linearGradient?a="linearGradient":e&&e.radialGradient&&(a="radialGradient"),a){i=e[a],s=m.gradients,c=e.stops,n=n.radialReference,o(i)&&(e[a]=i={x1:i[0],y1:i[1],x2:i[2],y2:i[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===a&&n&&!d(i.gradientUnits)&&(i=t(i,{cx:n[0]-n[2]/2+i.cx*n[2],cy:n[1]-n[2]/2+i.cy*n[2],r:i.r*n[2],gradientUnits:"userSpaceOnUse"}));for(f in i)"id"!==f&&v.push(f,i[f]);for(f in c)v.push(c[f]);return v=v.join(","),s[v]?e=s[v].id:(i.id=e="highcharts-"+Rt++,s[v]=l=m.createElement(a).attr(i).add(m.defs),l.stops=[],rn(c,function(e){g.test(e[1])?(r=mn(e[1]),h=r.get("rgb"),p=r.get("a")):(h=e[1],p=1),e=m.createElement("stop").attr({offset:e[0],"stop-color":h,"stop-opacity":p}).add(l),l.stops.push(e)})),"url("+m.url+"#"+e+")"}return g.test(e)?(r=mn(e),u(n,i+"-opacity",r.get("a")),r.get("rgb")):(n.removeAttribute(i+"-opacity"),e)},text:function(e,t,n,i){var r=U.chart.style,o=Pt||!Nt&&this.forExport;return i&&!this.forExport?this.html(e,t,n):(t=pt(p(t,0)),n=pt(p(n,0)),e=this.createElement("text").attr({x:t,y:n,text:e}).css({fontFamily:r.fontFamily,fontSize:r.fontSize}),o&&e.css({position:"absolute"}),e.x=t,e.y=n,e)},html:function(t,n,i){var r=U.chart.style,o=this.createElement("span"),a=o.attrSetters,s=o.element,l=o.renderer;return a.text=function(e){return e!==s.innerHTML&&delete this.bBox,s.innerHTML=e,!1},a.x=a.y=a.align=function(e,t){return"align"===t&&(t="textAlign"),o[t]=e,o.htmlUpdateTransform(),!1},o.attr({text:t,x:pt(n),y:pt(i)}).css({position:"absolute",whiteSpace:"nowrap",fontFamily:r.fontFamily,fontSize:r.fontSize}),o.css=o.htmlCss,l.isSVG&&(o.add=function(t){var n,i=l.box.parentNode,r=[];if(t){if(n=t.div,!n){for(;t;)r.push(t),t=t.parentGroup;rn(r.reverse(),function(t){var r;n=t.div=t.div||m(Ht,{className:u(t.element,"class")},{position:"absolute",left:(t.translateX||0)+"px",top:(t.translateY||0)+"px"},n||i),r=n.style,e(t.attrSetters,{translateX:function(e){r.left=e+"px"},translateY:function(e){r.top=e+"px"},visibility:function(e,t){r[t]=e}})})}}else n=i;return n.appendChild(s),o.added=!0,o.alignOnAdd&&o.htmlUpdateTransform(),o}),o},fontMetrics:function(e){var e=n(e||11),e=24>e?e+4:pt(1.2*e),t=pt(.8*e);return{h:e,b:t}},label:function(n,i,r,o,a,s,l,c,u){function h(){var e,n;e=S.element.style,v=(void 0===y||void 0===b||T.styles.textAlign)&&S.getBBox(),T.width=(y||v.width||0)+2*D+A,T.height=(b||v.height||0)+2*D,_=D+C.fontMetrics(e&&e.fontSize).b,w&&(g||(e=pt(-M*D),n=c?-_:0,T.box=g=o?C.symbol(o,e,n,T.width,T.height):C.rect(e,n,T.width,T.height,0,N[Kt]),g.add(T)),g.isImg||g.attr(t({width:T.width,height:T.height},N)),N=null)}function p(){var e,t=T.styles,t=t&&t.textAlign,n=A+D*(1-M);e=c?0:_,!d(y)||"center"!==t&&"right"!==t||(n+={center:.5,right:1}[t]*(y-v.width)),(n!==S.x||e!==S.y)&&S.attr({x:n,y:e}),S.x=n,S.y=e}function f(e,t){g?g.attr(e,t):N[e]=t}function m(){S.add(T),T.attr({text:n,x:i,y:r}),g&&d(a)&&T.attr({anchorX:a,anchorY:s})}var g,v,y,b,x,k,_,w,C=this,T=C.g(u),S=C.text("",0,0,l).attr({zIndex:1}),M=0,D=3,A=0,E=0,N={},l=T.attrSetters;ln(T,"add",m),l.width=function(e){return y=e,!1},l.height=function(e){return b=e,!1},l.padding=function(e){return d(e)&&e!==D&&(D=e,p()),!1},l.paddingLeft=function(e){return d(e)&&e!==A&&(A=e,p()),!1},l.align=function(e){return M={left:0,center:.5,right:1}[e],!1},l.text=function(e,t){return S.attr(t,e),h(),p(),!1},l[Kt]=function(e,t){return w=!0,E=e%2/2,f(t,e),!1},l.stroke=l.fill=l.r=function(e,t){return"fill"===t&&(w=!0),f(t,e),!1},l.anchorX=function(e,t){return a=e,f(t,e+E-x),!1},l.anchorY=function(e,t){return s=e,f(t,e-k),!1},l.x=function(e){return T.x=e,e-=M*((y||v.width)+D),x=pt(e),T.attr("translateX",x),!1},l.y=function(e){return k=T.y=pt(e),T.attr("translateY",k),!1};var L=T.css;return e(T,{css:function(e){if(e){var n={},e=t(e);rn("fontSize,fontWeight,fontFamily,color,lineHeight,width,textDecoration".split(","),function(t){e[t]!==Y&&(n[t]=e[t],delete e[t])}),S.css(n)}return L.call(T,e)},getBBox:function(){return{width:v.width+2*D,height:v.height+2*D,x:v.x-D,y:v.y-D}},shadow:function(e){return g&&g.shadow(e),T},destroy:function(){cn(T,"add",m),cn(T.element,"mouseenter"),cn(T.element,"mouseleave"),S&&(S=S.destroy()),g&&(g=g.destroy()),I.prototype.destroy.call(T),T=C=h=p=f=m=null}})}},V=gn;var vn;if(!Nt&&!Pt){Highcharts.VMLElement=vn={init:function(e,t){var n=["<",t,' filled="f" stroked="f"'],i=["position: ","absolute",";"],r=t===Ht;("shape"===t||r)&&i.push("left:0;top:0;width:1px;height:1px;"),i.push("visibility: ",r?"hidden":"visible"),n.push(' style="',i.join(""),'"/>'),t&&(n=r||"span"===t||"img"===t?n.join(""):e.prepVML(n),this.element=m(n)),this.renderer=e,this.attrSetters={}},add:function(e){var t=this.renderer,n=this.element,i=t.box,i=e?e.element||e:i;return e&&e.inverted&&t.invertChild(n,i),i.appendChild(n),this.added=!0,this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform(),dn(this,"add"),this},updateTransform:I.prototype.htmlUpdateTransform,setSpanRotation:function(e,t,n){f(this.element,{filter:e?["progid:DXImageTransform.Microsoft.Matrix(M11=",n,", M12=",-t,", M21=",t,", M22=",n,", sizingMethod='auto expand')"].join(""):zt})},attr:function(e,t){var n,r,o,s,l,c=this.element||{},h=c.style,p=c.nodeName,f=this.renderer,g=this.symbolName,v=this.shadows,y=this.attrSetters,b=this;if(i(e)&&d(t)&&(n=e,e={},e[n]=t),i(e))n=e,b="strokeWidth"===n||"stroke-width"===n?this.strokeweight:this[n];else for(n in e)if(r=e[n],l=!1,o=y[n]&&y[n].call(this,r,n),o!==!1&&null!==r){if(o!==Y&&(r=o),g&&/^(x|y|r|start|end|width|height|innerR|anchorX|anchorY)/.test(n))s||(this.symbolAttr(e),s=!0),l=!0;else if("d"===n){r=r||[],this.d=r.join(" "),o=r.length,l=[];for(var x;o--;)a(r[o])?l[o]=pt(10*r[o])-5:"Z"===r[o]?l[o]="x":(l[o]=r[o],!r.isArc||"wa"!==r[o]&&"at"!==r[o]||(x="wa"===r[o]?1:-1,l[o+5]===l[o+7]&&(l[o+7]-=x),l[o+6]===l[o+8]&&(l[o+8]-=x)));if(r=l.join(" ")||"x",c.path=r,v)for(o=v.length;o--;)v[o].path=v[o].cutOff?this.cutOffPath(r,v[o].cutOff):r;l=!0}else if("visibility"===n){if(v)for(o=v.length;o--;)v[o].style[n]=r;"DIV"===p&&(r="hidden"===r?"-999em":0,St||(h[n]=r?"visible":"hidden"),n="top"),h[n]=r,l=!0}else"zIndex"===n?(r&&(h[n]=r),l=!0):-1!==nn(n,["x","y","width","height"])?(this[n]=r,"x"===n||"y"===n?n={x:"left",y:"top"}[n]:r=gt(0,r),this.updateClipping?(this[n]=r,this.updateClipping()):h[n]=r,l=!0):"class"===n&&"DIV"===p?c.className=r:"stroke"===n?(r=f.color(r,c,n),n="strokecolor"):"stroke-width"===n||"strokeWidth"===n?(c.stroked=r?!0:!1,n="strokeweight",this[n]=r,a(r)&&(r+="px")):"dashstyle"===n?((c.getElementsByTagName("stroke")[0]||m(f.prepVML(["<stroke/>"]),null,null,c))[n]=r||"solid",this.dashstyle=r,l=!0):"fill"===n?"SPAN"===p?h.color=r:"IMG"!==p&&(c.filled=r!==zt?!0:!1,r=f.color(r,c,n,this),n="fillcolor"):"opacity"===n?l=!0:"shape"===p&&"rotation"===n?(this[n]=c.style[n]=r,c.style.left=-pt(xt(r*_t)+1)+"px",c.style.top=pt(bt(r*_t))+"px"):"translateX"===n||"translateY"===n||"rotation"===n?(this[n]=r,this.updateTransform(),l=!0):"text"===n&&(this.bBox=null,c.innerHTML=r,l=!0);l||(St?c[n]=r:u(c,n,r))}return b},clip:function(e){var t,n=this;return e?(t=e.members,c(t,n),t.push(n),n.destroyClip=function(){c(t,n)},e=e.getCSS(n)):(n.destroyClip&&n.destroyClip(),e={clip:St?"inherit":"rect(auto)"}),n.css(e)},css:I.prototype.htmlCss,safeRemoveChild:function(e){e.parentNode&&E(e)},destroy:function(){return this.destroyClip&&this.destroyClip(),I.prototype.destroy.apply(this)},on:function(e,t){return this.element["on"+e]=function(){var e=ut.event;e.target=e.srcElement,t(e)},this},cutOffPath:function(e,t){var i,e=e.split(/[ ,]/);return i=e.length,(9===i||11===i)&&(e[i-4]=e[i-2]=n(e[i-2])-10*t),e.join(" ")},shadow:function(e,t,i){var r,o,a,s,l,c,d,u=[],h=this.element,f=this.renderer,g=h.style,v=h.path;if(v&&"string"!=typeof v.value&&(v="x"),l=v,e){for(c=p(e.width,3),d=(e.opacity||.15)/c,r=1;3>=r;r++)s=2*c+1-2*r,i&&(l=this.cutOffPath(v.value,s+.5)),a=['<shape isShadow="true" strokeweight="',s,'" filled="false" path="',l,'" coordsize="10 10" style="',h.style.cssText,'" />'],o=m(f.prepVML(a),null,{left:n(g.left)+p(e.offsetX,1),top:n(g.top)+p(e.offsetY,1)}),i&&(o.cutOff=s+1),a=['<stroke color="',e.color||"black",'" opacity="',d*r,'"/>'],m(f.prepVML(a),null,null,o),t?t.element.appendChild(o):h.parentNode.insertBefore(o,h),u.push(o);this.shadows=u}return this}},vn=g(I,vn);var yn={Element:vn,isIE8:wt.indexOf("MSIE 8.0")>-1,init:function(e,t,n){var i,r;this.alignedObjects=[],i=this.createElement(Ht),r=i.element,r.style.position="relative",e.appendChild(i.element),this.isVML=!0,this.box=r,this.boxWrapper=i,this.setSize(t,n,!1),dt.namespaces.hcv||(dt.namespaces.add("hcv","urn:schemas-microsoft-com:vml"),dt.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } ")},isHidden:function(){return!this.box.offsetWidth},clipRect:function(t,n,i,o){var a=this.createElement(),s=r(t);return e(a,{members:[],left:s?t.x:t,top:s?t.y:n,width:s?t.width:i,height:s?t.height:o,getCSS:function(t){var n=t.element,i=n.nodeName,t=t.inverted,r=this.top-("shape"===i?n.offsetTop:0),o=this.left,n=o+this.width,a=r+this.height,r={clip:"rect("+pt(t?o:r)+"px,"+pt(t?a:n)+"px,"+pt(t?n:a)+"px,"+pt(t?r:o)+"px)"};return!t&&St&&"DIV"===i&&e(r,{width:n+"px",height:a+"px"}),r},updateClipping:function(){rn(a.members,function(e){e.css(a.getCSS(e))})}})},color:function(e,t,n,i){var r,o,a,s=this,l=/^rgba/,c=zt;if(e&&e.linearGradient?a="gradient":e&&e.radialGradient&&(a="pattern"),a){var d,u,h,p,f,g,v,y,b=e.linearGradient||e.radialGradient,x="",e=e.stops,k=[],_=function(){o=['<fill colors="'+k.join(",")+'" opacity="',f,'" o:opacity2="',p,'" type="',a,'" ',x,'focus="100%" method="any" />'],m(s.prepVML(o),null,null,t)};if(h=e[0],y=e[e.length-1],h[0]>0&&e.unshift([0,h[1]]),y[0]<1&&e.push([1,y[1]]),rn(e,function(e,t){l.test(e[1])?(r=mn(e[1]),d=r.get("rgb"),u=r.get("a")):(d=e[1],u=1),k.push(100*e[0]+"% "+d),t?(f=u,g=d):(p=u,v=d)}),"fill"===n)if("gradient"===a)n=b.x1||b[0]||0,e=b.y1||b[1]||0,h=b.x2||b[2]||0,b=b.y2||b[3]||0,x='angle="'+(90-180*ht.atan((b-e)/(h-n))/kt)+'"',_();else{var w,c=b.r,C=2*c,T=2*c,S=b.cx,M=b.cy,D=t.radialReference,c=function(){D&&(w=i.getBBox(),S+=(D[0]-w.x)/w.width-.5,M+=(D[1]-w.y)/w.height-.5,C*=D[2]/w.width,T*=D[2]/w.height),x='src="'+U.global.VMLRadialGradientURL+'" size="'+C+","+T+'" origin="0.5,0.5" position="'+S+","+M+'" color2="'+v+'" ',_()};i.added?c():ln(i,"add",c),c=g}else c=d}else l.test(e)&&"IMG"!==t.tagName?(r=mn(e),o=["<",n,' opacity="',r.get("a"),'"/>'],m(this.prepVML(o),null,null,t),c=r.get("rgb")):(c=t.getElementsByTagName(n),c.length&&(c[0].opacity=1,c[0].type="solid"),c=e);return c},prepVML:function(e){var t=this.isIE8,e=e.join("");return t?(e=e.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),e=-1===e.indexOf('style="')?e.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):e.replace('style="','style="display:inline-block;behavior:url(#default#VML);')):e=e.replace("<","<hcv:"),e},text:gn.prototype.html,path:function(t){var n={coordsize:"10 10"};return o(t)?n.d=t:r(t)&&e(n,t),this.createElement("shape").attr(n)},circle:function(e,t,n){var i=this.symbol("circle");return r(e)&&(n=e.r,t=e.y,e=e.x),i.isCircle=!0,i.attr({x:e,y:t,width:2*n,height:2*n})},g:function(e){var t;return e&&(t={className:"highcharts-"+e,"class":"highcharts-"+e}),this.createElement(Ht).attr(t)},image:function(e,t,n,i,r){var o=this.createElement("img").attr({src:e});return arguments.length>1&&o.attr({x:t,y:n,width:i,height:r}),o},rect:function(e,t,n,i,o,a){r(e)&&(t=e.y,n=e.width,i=e.height,a=e.strokeWidth,e=e.x);var s=this.symbol("rect");return s.r=o,s.attr(s.crisp(a,e,t,gt(n,0),gt(i,0)))},invertChild:function(e,t){var i=t.style;f(e,{flip:"x",left:n(i.width)-1,top:n(i.height)-1,rotation:-90})},symbols:{arc:function(e,t,n,i,r){var o=r.start,a=r.end,s=r.r||n||i,n=r.innerR,i=bt(o),l=xt(o),c=bt(a),d=xt(a);return 0===a-o?["x"]:(o=["wa",e-s,t-s,e+s,t+s,e+s*i,t+s*l,e+s*c,t+s*d],r.open&&!n&&o.push("e","M",e,t),o.push("at",e-n,t-n,e+n,t+n,e+n*c,t+n*d,e+n*i,t+n*l,"x","e"),o.isArc=!0,o)},circle:function(e,t,n,i,r){return r&&r.isCircle&&(e-=n/2,t-=i/2),["wa",e,t,e+n,t+i,e+n,t+i/2,e+n,t+i/2,"e"]},rect:function(e,t,n,i,r){var o,a=e+n,s=t+i;return d(r)&&r.r?(o=vt(r.r,n,i),a=["M",e+o,t,"L",a-o,t,"wa",a-2*o,t,a,t+2*o,a-o,t,a,t+o,"L",a,s-o,"wa",a-2*o,s-2*o,a,s,a,s-o,a-o,s,"L",e+o,s,"wa",e,s-2*o,e+2*o,s,e+o,s,e,s-o,"L",e,t+o,"wa",e,t,e+2*o,t+2*o,e,t+o,e+o,t,"x","e"]):a=gn.prototype.symbols.square.apply(0,arguments),a}}};Highcharts.VMLRenderer=vn=function(){this.init.apply(this,arguments)},vn.prototype=t(gn.prototype,yn),V=vn}var bn;Pt&&(Highcharts.CanVGRenderer=vn=function(){Et="http://www.w3.org/1999/xhtml"},vn.prototype.symbols={},bn=function(){function e(){var e,n=t.length;for(e=0;n>e;e++)t[e]();t=[]}var t=[];return{push:function(n,i){0===t.length&&tn(i,e),t.push(n)}}}(),V=vn),R.prototype={addLabel:function(){var t,n=this.axis,i=n.options,r=n.chart,o=n.horiz,s=n.categories,c=n.series[0]&&n.series[0].names,u=this.pos,h=i.labels,f=n.tickPositions,o=o&&s&&!h.step&&!h.staggerLines&&!h.rotation&&r.plotWidth/f.length||!o&&(r.optionsMarginLeft||.33*r.chartWidth),m=u===f[0],g=u===f[f.length-1],c=s?p(s[u],c&&c[u],u):u,s=this.label,f=f.info;n.isDatetimeAxis&&f&&(t=i.dateTimeLabelFormats[f.higherRanks[u]||f.unitName]),this.isFirst=m,this.isLast=g,i=n.labelFormatter.call({axis:n,chart:r,isFirst:m,isLast:g,dateTimeLabelFormat:t,value:n.isLog?L(l(c)):c}),u=o&&{width:gt(1,pt(o-2*(h.padding||10)))+"px"},u=e(u,h.style),d(s)?s&&s.attr({text:i}).css(u):(o={align:n.labelAlign},a(h.rotation)&&(o.rotation=h.rotation),this.label=d(i)&&h.enabled?r.renderer.text(i,0,0,h.useHTML).attr(o).css(u).add(n.labelGroup):null)},getLabelSize:function(){var e=this.label,t=this.axis;return e?(this.labelBBox=e.getBBox())[t.horiz?"height":"width"]:0},getLabelSides:function(){var e=this.axis,t=this.labelBBox.width,e=t*{left:0,center:.5,right:1}[e.labelAlign]-e.options.labels.x;return[-e,t-e]},handleOverflow:function(e,t){var n=!0,i=this.axis,r=i.chart,o=this.isFirst,a=this.isLast,s=t.x,l=i.reversed,c=i.tickPositions;if(o||a){var d=this.getLabelSides(),u=d[0],d=d[1],r=r.plotLeft,h=r+i.len,c=(i=i.ticks[c[e+(o?1:-1)]])&&i.label.xy&&i.label.xy.x+i.getLabelSides()[o?0:1];o&&!l||a&&l?r>s+u&&(s=r-u,i&&s+d>c&&(n=!1)):s+d>h&&(s=h-d,i&&c>s+u&&(n=!1)),t.x=s}return n},getPosition:function(e,t,n,i){var r=this.axis,o=r.chart,a=i&&o.oldChartHeight||o.chartHeight;return{x:e?r.translate(t+n,null,null,i)+r.transB:r.left+r.offset+(r.opposite?(i&&o.oldChartWidth||o.chartWidth)-r.right-r.left:0),y:e?a-r.bottom+r.offset-(r.opposite?r.height:0):a-r.translate(t+n,null,null,i)-r.transB}},getLabelPosition:function(e,t,n,i,r,o,a,s){var l=this.axis,c=l.transA,u=l.reversed,h=l.staggerLines,p=l.chart.renderer.fontMetrics(r.style.fontSize).b,f=r.rotation,e=e+r.x-(o&&i?o*c*(u?-1:1):0),t=t+r.y-(o&&!i?o*c*(u?1:-1):0);return f&&2===l.side&&(t-=p-p*bt(f*_t)),!d(r.y)&&!f&&(t+=p-n.getBBox().height/2),h&&(t+=a/(s||1)%h*(l.labelOffset/h)),{x:e,y:t}},getMarkPath:function(e,t,n,i,r,o){return o.crispLine(["M",e,t,"L",e+(r?0:-n),t+(r?n:0)],i)},render:function(e,t,n){var i=this.axis,r=i.options,o=i.chart.renderer,a=i.horiz,s=this.type,l=this.label,c=this.pos,d=r.labels,u=this.gridLine,h=s?s+"Grid":"grid",f=s?s+"Tick":"tick",m=r[h+"LineWidth"],g=r[h+"LineColor"],v=r[h+"LineDashStyle"],y=r[f+"Length"],h=r[f+"Width"]||0,b=r[f+"Color"],x=r[f+"Position"],f=this.mark,k=d.step,_=!0,w=i.tickmarkOffset,C=this.getPosition(a,c,w,t),T=C.x,C=C.y,S=a&&T===i.pos||!a&&C===i.pos+i.len?-1:1,M=i.staggerLines;this.isActive=!0,m&&(c=i.getPlotLinePath(c+w,m*S,t,!0),u===Y&&(u={stroke:g,"stroke-width":m},v&&(u.dashstyle=v),s||(u.zIndex=1),t&&(u.opacity=0),this.gridLine=u=m?o.path(c).attr(u).add(i.gridGroup):null),!t&&u&&c&&u[this.isNew?"attr":"animate"]({d:c,opacity:n})),h&&y&&("inside"===x&&(y=-y),i.opposite&&(y=-y),t=this.getMarkPath(T,C,y,h*S,a,o),f?f.animate({d:t,opacity:n}):this.mark=o.path(t).attr({stroke:b,"stroke-width":h,opacity:n}).add(i.axisGroup)),l&&!isNaN(T)&&(l.xy=C=this.getLabelPosition(T,C,l,a,d,w,e,k),this.isFirst&&!p(r.showFirstLabel,1)||this.isLast&&!p(r.showLastLabel,1)?_=!1:!M&&a&&"justify"===d.overflow&&!this.handleOverflow(e,C)&&(_=!1),k&&e%k&&(_=!1),_&&!isNaN(C.y)?(C.opacity=n,l[this.isNew?"attr":"animate"](C),this.isNew=!1):l.attr("y",-9999))},destroy:function(){A(this,this.axis)}},B.prototype={render:function(){var e,n=this,i=n.axis,r=i.horiz,o=(i.pointRange||0)/2,a=n.options,l=a.label,c=n.label,u=a.width,h=a.to,f=a.from,m=d(f)&&d(h),g=a.value,v=a.dashStyle,y=n.svgElem,b=[],x=a.color,k=a.zIndex,_=a.events,w=i.chart.renderer;if(i.isLog&&(f=s(f),h=s(h),g=s(g)),u)b=i.getPlotLinePath(g,u),o={stroke:x,"stroke-width":u},v&&(o.dashstyle=v);else{if(!m)return;f=gt(f,i.min-o),h=vt(h,i.max+o),b=i.getPlotBandPath(f,h,a),o={fill:x},a.borderWidth&&(o.stroke=a.borderColor,o["stroke-width"]=a.borderWidth)}if(d(k)&&(o.zIndex=k),y)b?y.animate({d:b},null,y.onGetPath):(y.hide(),y.onGetPath=function(){y.show()});else if(b&&b.length&&(n.svgElem=y=w.path(b).attr(o).add(),_))for(e in a=function(e){y.on(e,function(t){_[e].apply(n,[t])
})},_)a(e);return l&&d(l.text)&&b&&b.length&&i.width>0&&i.height>0?(l=t({align:r&&m&&"center",x:r?!m&&4:10,verticalAlign:!r&&m&&"middle",y:r?m?16:10:m?6:-4,rotation:r&&!m&&90},l),c||(n.label=c=w.text(l.text,0,0,l.useHTML).attr({align:l.textAlign||l.align,rotation:l.rotation,zIndex:k}).css(l.style).add()),i=[b[1],b[4],p(b[6],b[1])],b=[b[2],b[5],p(b[7],b[2])],r=M(i),m=M(b),c.align(l,!1,{x:r,y:m,width:D(i)-r,height:D(b)-m}),c.show()):c&&c.hide(),n},destroy:function(){c(this.axis.plotLinesAndBands,this),delete this.axis,A(this)}},O.prototype={destroy:function(){A(this,this.axis)},setTotal:function(e){this.cum=this.total=e},addValue:function(e){this.setTotal(L(this.total+e))},render:function(e){var t=this.options,n=t.format,n=n?x(n,this):t.formatter.call(this);this.label?this.label.attr({text:n,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(n,0,0,t.useHTML).css(t.style).attr({align:this.textAlign,rotation:t.rotation,visibility:"hidden"}).add(e)},cacheExtremes:function(e,t){this.points[e.index]=t},setOffset:function(e,t){var n=this.axis,i=n.chart,r=i.inverted,o=this.isNegative,a=n.translate(this.percent?100:this.total,0,0,0,1),n=n.translate(0),n=yt(a-n),s=i.xAxis[0].translate(this.x)+e,l=i.plotHeight,o={x:r?o?a:a-n:s,y:r?l-s-t:o?l-a-n:l-a,width:r?n:t,height:r?t:n};(r=this.label)&&(r.align(this.alignOptions,null,o),o=r.alignAttr,r.attr({visibility:this.options.crop===!1||i.isInsidePlot(o.x,o.y)?Nt?"inherit":"visible":"hidden"}))}},H.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#C0C0C0",labels:Jt,lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:5,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#4d759e",fontWeight:"bold"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,tickWidth:0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return v(this.total,-1)},style:Jt.style}},defaultLeftAxisOptions:{labels:{x:-8,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:8,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{x:0,y:14},title:{rotation:0}},defaultTopAxisOptions:{labels:{x:0,y:-5},title:{rotation:0}},init:function(e,t){var n=t.isX;this.horiz=e.inverted?!n:n,this.xOrY=(this.isXAxis=n)?"x":"y",this.opposite=t.opposite,this.side=this.horiz?this.opposite?0:2:this.opposite?1:3,this.setOptions(t);var i=this.options,r=i.type;this.labelFormatter=i.labels.formatter||this.defaultLabelFormatter,this.userOptions=t,this.minPixelPadding=0,this.chart=e,this.reversed=i.reversed,this.zoomEnabled=i.zoomEnabled!==!1,this.categories=i.categories||"category"===r,this.isLog="logarithmic"===r,this.isDatetimeAxis="datetime"===r,this.isLinked=d(i.linkedTo),this.tickmarkOffset=this.categories&&"between"===i.tickmarkPlacement?.5:0,this.ticks={},this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=i.minRange||i.maxZoom,this.range=i.range,this.offset=i.offset||0,this.stacks={},this.oldStacks={},this.stacksMax={},this._stacksTouched=0,this.min=this.max=null;var o,i=this.options.events;-1===nn(this,e.axes)&&(e.axes.push(this),e[n?"xAxis":"yAxis"].push(this)),this.series=this.series||[],e.inverted&&n&&this.reversed===Y&&(this.reversed=!0),this.removePlotLine=this.removePlotBand=this.removePlotBandOrLine;for(o in i)ln(this,o,i[o]);this.isLog&&(this.val2lin=s,this.lin2val=l)},setOptions:function(e){this.options=t(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],t(U[this.isXAxis?"xAxis":"yAxis"],e))},update:function(n,i){var r=this.chart,n=r.options[this.xOrY+"Axis"][this.options.index]=t(this.userOptions,n);this.destroy(!0),this._addedPlotLB=!1,this.init(r,e(n,{events:Y})),r.isDirtyBox=!0,p(i,!0)&&r.redraw()},remove:function(e){var t=this.chart,n=this.xOrY+"Axis";rn(this.series,function(e){e.remove(!1)}),c(t.axes,this),c(t[n],this),t.options[n].splice(this.options.index,1),rn(t[n],function(e,t){e.options.index=t}),this.destroy(),t.isDirtyBox=!0,p(e,!0)&&t.redraw()},defaultLabelFormatter:function(){var e,t=this.axis,n=this.value,i=t.categories,r=this.dateTimeLabelFormat,o=U.lang.numericSymbols,a=o&&o.length,s=t.options.labels.format,t=t.isLog?n:t.tickInterval;if(s)e=x(s,this);else if(i)e=n;else if(r)e=X(r,n);else if(a&&t>=1e3)for(;a--&&e===Y;)i=Math.pow(1e3,a+1),t>=i&&null!==o[a]&&(e=v(n/i,-1)+o[a]);return e===Y&&(e=n>=1e3?v(n,0):v(n,-1)),e},getSeriesExtremes:function(){var e=this,t=e.chart;e.hasVisibleSeries=!1,e.dataMin=e.dataMax=null,e.stacksMax={},e.buildStacks(),rn(e.series,function(n){if(n.visible||!t.options.chart.ignoreHiddenSeries){var i,r=n.options;i=r.threshold,e.hasVisibleSeries=!0,e.isLog&&0>=i&&(i=null),e.isXAxis?(i=n.xData,i.length&&(e.dataMin=vt(p(e.dataMin,i[0]),M(i)),e.dataMax=gt(p(e.dataMax,i[0]),D(i)))):(r=r.stacking,e.usePercentage="percent"===r,e.usePercentage&&(e.dataMin=0,e.dataMax=99),n.getExtremes(),r=n.dataMax,n=n.dataMin,!e.usePercentage&&d(n)&&d(r)&&(e.dataMin=vt(p(e.dataMin,n),n),e.dataMax=gt(p(e.dataMax,r),r)),d(i)&&(e.dataMin>=i?(e.dataMin=i,e.ignoreMinPadding=!0):e.dataMax<i&&(e.dataMax=i,e.ignoreMaxPadding=!0)))}})},translate:function(e,t,n,i,r,o){var s=this.len,l=1,c=0,d=i?this.oldTransA:this.transA,i=i?this.oldMin:this.min,u=this.minPixelPadding,r=(this.options.ordinal||this.isLog&&r)&&this.lin2val;return d||(d=this.transA),n&&(l*=-1,c=s),this.reversed&&(l*=-1,c-=l*s),t?(e=e*l+c,e-=u,e=e/d+i,r&&(e=this.lin2val(e))):(r&&(e=this.val2lin(e)),"between"===o&&(o=.5),e=l*(e-i)*d+c+l*u+(a(o)?d*o*this.pointRange:0)),e},toPixels:function(e,t){return this.translate(e,!1,!this.horiz,null,!0)+(t?0:this.pos)},toValue:function(e,t){return this.translate(e-(t?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(e,t,n,i){var r,o,a,s,l=this.chart,c=this.left,d=this.top,e=this.translate(e,null,null,n),u=n&&l.oldChartHeight||l.chartHeight,h=n&&l.oldChartWidth||l.chartWidth;return r=this.transB,n=o=pt(e+r),r=a=pt(u-e-r),isNaN(e)?s=!0:this.horiz?(r=d,a=u-this.bottom,(c>n||n>c+this.width)&&(s=!0)):(n=c,o=h-this.right,(d>r||r>d+this.height)&&(s=!0)),s&&!i?null:l.renderer.crispLine(["M",n,r,"L",o,a],t||0)},getPlotBandPath:function(e,t){var n=this.getPlotLinePath(t),i=this.getPlotLinePath(e);return i&&n?i.push(n[4],n[5],n[1],n[2]):i=null,i},getLinearTickPositions:function(e,t,n){for(var i,t=L(ft(t/e)*e),n=L(mt(n/e)*e),r=[];n>=t&&(r.push(t),t=L(t+e),t!==i);)i=t;return r},getLogTickPositions:function(e,t,n,i){var r=this.options,o=this.len,a=[];if(i||(this._minorAutoInterval=null),e>=.5)e=pt(e),a=this.getLinearTickPositions(e,t,n);else if(e>=.08)for(var c,d,u,h,f,o=ft(t),r=e>.3?[1,2,4]:e>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];n+1>o&&!f;o++)for(d=r.length,c=0;d>c&&!f;c++)u=s(l(o)*r[c]),u>t&&(!i||n>=h)&&a.push(h),h>n&&(f=!0),h=u;else t=l(t),n=l(n),e=r[i?"minorTickInterval":"tickInterval"],e=p("auto"===e?null:e,this._minorAutoInterval,(n-t)*(r.tickPixelInterval/(i?5:1))/((i?o/this.tickPositions.length:o)||1)),e=_(e,null,k(e)),a=sn(this.getLinearTickPositions(e,t,n),s),i||(this._minorAutoInterval=e/5);return i||(this.tickInterval=e),a},getMinorTickPositions:function(){var e,t=this.options,n=this.tickPositions,i=this.minorTickInterval,r=[];if(this.isLog)for(e=n.length,t=1;e>t;t++)r=r.concat(this.getLogTickPositions(i,n[t-1],n[t],!0));else if(this.isDatetimeAxis&&"auto"===t.minorTickInterval)r=r.concat(C(w(i),this.min,this.max,t.startOfWeek)),r[0]<this.min&&r.shift();else for(n=this.min+(n[0]-this.min)%i;n<=this.max;n+=i)r.push(n);return r},adjustForMinRange:function(){var e,t,n,i,r,o,a=this.options,s=this.min,l=this.max,c=this.dataMax-this.dataMin>=this.minRange;if(this.isXAxis&&this.minRange===Y&&!this.isLog&&(d(a.min)||d(a.max)?this.minRange=null:(rn(this.series,function(e){for(r=e.xData,n=o=e.xIncrement?1:r.length-1;n>0;n--)i=r[n]-r[n-1],(t===Y||t>i)&&(t=i)}),this.minRange=vt(5*t,this.dataMax-this.dataMin))),l-s<this.minRange){var u=this.minRange;e=(u-l+s)/2,e=[s-e,p(a.min,s-e)],c&&(e[2]=this.dataMin),s=D(e),l=[s+u,p(a.max,s+u)],c&&(l[2]=this.dataMax),l=M(l),u>l-s&&(e[0]=l-u,e[1]=p(a.min,l-u),s=D(e))}this.min=s,this.max=l},setAxisTranslation:function(e){var t,n=this.max-this.min,r=0,o=0,a=0,s=this.linkedParent,l=this.transA;this.isXAxis&&(s?(o=s.minPointOffset,a=s.pointRangePadding):rn(this.series,function(e){var s=e.pointRange,l=e.options.pointPlacement,c=e.closestPointRange;s>n&&(s=0),r=gt(r,s),o=gt(o,i(l)?0:s/2),a=gt(a,"on"===l?0:s),!e.noSharedTooltip&&d(c)&&(t=d(t)?vt(t,c):c)}),s=this.ordinalSlope&&t?this.ordinalSlope/t:1,this.minPointOffset=o*=s,this.pointRangePadding=a*=s,this.pointRange=vt(r,n),this.closestPointRange=t),e&&(this.oldTransA=l),this.translationSlope=this.transA=l=this.len/(n+a||1),this.transB=this.horiz?this.left:this.bottom,this.minPixelPadding=l*o},setTickPositions:function(e){var t=this,n=t.chart,i=t.options,r=t.isLog,o=t.isDatetimeAxis,a=t.isXAxis,l=t.isLinked,c=t.options.tickPositioner,u=i.maxPadding,h=i.minPadding,f=i.tickInterval,m=i.minTickInterval,g=i.tickPixelInterval,v=t.categories;l?(t.linkedParent=n[a?"xAxis":"yAxis"][i.linkedTo],n=t.linkedParent.getExtremes(),t.min=p(n.min,n.dataMin),t.max=p(n.max,n.dataMax),i.type!==t.linkedParent.options.type&&N(11,1)):(t.min=p(t.userMin,i.min,t.dataMin),t.max=p(t.userMax,i.max,t.dataMax)),r&&(!e&&vt(t.min,p(t.dataMin,t.min))<=0&&N(10,1),t.min=L(s(t.min)),t.max=L(s(t.max))),t.range&&(t.userMin=t.min=gt(t.min,t.max-t.range),t.userMax=t.max,e)&&(t.range=null),t.beforePadding&&t.beforePadding(),t.adjustForMinRange(),!v&&!t.usePercentage&&!l&&d(t.min)&&d(t.max)&&(n=t.max-t.min)&&(d(i.min)||d(t.userMin)||!h||!(t.dataMin<0)&&t.ignoreMinPadding||(t.min-=n*h),d(i.max)||d(t.userMax)||!u||!(t.dataMax>0)&&t.ignoreMaxPadding||(t.max+=n*u)),t.tickInterval=t.min===t.max||void 0===t.min||void 0===t.max?1:l&&!f&&g===t.linkedParent.options.tickPixelInterval?t.linkedParent.tickInterval:p(f,v?1:(t.max-t.min)*g/(t.len||1)),a&&!e&&rn(t.series,function(e){e.processData(t.min!==t.oldMin||t.max!==t.oldMax)}),t.setAxisTranslation(!0),t.beforeSetTickPositions&&t.beforeSetTickPositions(),t.postProcessTickInterval&&(t.tickInterval=t.postProcessTickInterval(t.tickInterval)),t.pointRange&&(t.tickInterval=gt(t.pointRange,t.tickInterval)),!f&&t.tickInterval<m&&(t.tickInterval=m),o||r||f||(t.tickInterval=_(t.tickInterval,null,k(t.tickInterval),i)),t.minorTickInterval="auto"===i.minorTickInterval&&t.tickInterval?t.tickInterval/5:i.minorTickInterval,t.tickPositions=e=i.tickPositions?[].concat(i.tickPositions):c&&c.apply(t,[t.min,t.max]),e||(e=o?(t.getNonLinearTimeTicks||C)(w(t.tickInterval,i.units),t.min,t.max,i.startOfWeek,t.ordinalPositions,t.closestPointRange,!0):r?t.getLogTickPositions(t.tickInterval,t.min,t.max):t.getLinearTickPositions(t.tickInterval,t.min,t.max),t.tickPositions=e),l||(r=e[0],o=e[e.length-1],l=t.minPointOffset||0,i.startOnTick?t.min=r:t.min-l>r&&e.shift(),i.endOnTick?t.max=o:t.max+l<o&&e.pop(),1===e.length&&(t.min-=.001,t.max+=.001))},setMaxTicks:function(){var e=this.chart,t=e.maxTicks||{},n=this.tickPositions,i=this._maxTicksKey=[this.xOrY,this.pos,this.len].join("-");!this.isLinked&&!this.isDatetimeAxis&&n&&n.length>(t[i]||0)&&this.options.alignTicks!==!1&&(t[i]=n.length),e.maxTicks=t},adjustTickAmount:function(){var e=this._maxTicksKey,t=this.tickPositions,n=this.chart.maxTicks;if(n&&n[e]&&!this.isDatetimeAxis&&!this.categories&&!this.isLinked&&this.options.alignTicks!==!1){var i=this.tickAmount,r=t.length;if(this.tickAmount=e=n[e],e>r){for(;t.length<e;)t.push(L(t[t.length-1]+this.tickInterval));this.transA*=(r-1)/(e-1),this.max=t[t.length-1]}d(i)&&e!==i&&(this.isDirty=!0)}},setScale:function(){var e,t,n,i,r=this.stacks;if(this.oldMin=this.min,this.oldMax=this.max,this.oldAxisLength=this.len,this.setAxisSize(),i=this.len!==this.oldAxisLength,rn(this.series,function(e){(e.isDirtyData||e.isDirty||e.xAxis.isDirty)&&(n=!0)}),i||n||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax){if(!this.isXAxis)for(e in r)for(t in r[e])r[e][t].total=null;this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickPositions(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty||(this.isDirty=i||this.min!==this.oldMin||this.max!==this.oldMax)}else if(!this.isXAxis){this.oldStacks&&(r=this.stacks=this.oldStacks);for(e in r)for(t in r[e])r[e][t].cum=r[e][t].total}this.setMaxTicks()},setExtremes:function(t,n,i,r,o){var a=this,s=a.chart,i=p(i,!0),o=e(o,{min:t,max:n});dn(a,"setExtremes",o,function(){a.userMin=t,a.userMax=n,a.isDirtyExtremes=!0,i&&s.redraw(r)})},zoom:function(e,t){return this.allowZoomOutside||(d(this.dataMin)&&e<=this.dataMin&&(e=Y),d(this.dataMax)&&t>=this.dataMax&&(t=Y)),this.displayBtn=e!==Y||t!==Y,this.setExtremes(e,t,!1,Y,{trigger:"zoom"}),!0},setAxisSize:function(){var e,t,n=this.chart,i=this.options,r=i.offsetLeft||0,o=i.offsetRight||0,a=this.horiz;this.left=t=p(i.left,n.plotLeft+r),this.top=e=p(i.top,n.plotTop),this.width=r=p(i.width,n.plotWidth-r+o),this.height=i=p(i.height,n.plotHeight),this.bottom=n.chartHeight-i-e,this.right=n.chartWidth-r-t,this.len=gt(a?r:i,0),this.pos=a?t:e},getExtremes:function(){var e=this.isLog;return{min:e?L(l(this.min)):this.min,max:e?L(l(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(e){var t=this.isLog,n=t?l(this.min):this.min,t=t?l(this.max):this.max;return n>e||null===e?e=n:e>t&&(e=t),this.translate(e,0,1,0,1)},addPlotBand:function(e){this.addPlotBandOrLine(e,"plotBands")},addPlotLine:function(e){this.addPlotBandOrLine(e,"plotLines")},addPlotBandOrLine:function(e,t){var n=new B(this,e).render(),i=this.userOptions;return t&&(i[t]=i[t]||[],i[t].push(e)),this.plotLinesAndBands.push(n),n},autoLabelAlign:function(e){return e=(p(e,0)-90*this.side+720)%360,e>15&&165>e?"right":e>195&&345>e?"left":"center"},getOffset:function(){var e,t,n,i,r,o,a,s=this,l=s.chart,c=l.renderer,u=s.options,h=s.tickPositions,f=s.ticks,m=s.horiz,g=s.side,v=l.inverted?[1,0,3,2][g]:g,y=0,b=0,x=u.title,k=u.labels,_=0,w=l.axisOffset,C=l.clipOffset,T=[-1,1,1,-1][g],S=1,M=p(k.maxStaggerLines,5);if(s.hasData=e=s.hasVisibleSeries||d(s.min)&&d(s.max)&&!!h,s.showAxis=l=e||p(u.showEmpty,!0),s.staggerLines=s.horiz&&k.staggerLines,s.axisGroup||(s.gridGroup=c.g("grid").attr({zIndex:u.gridZIndex||1}).add(),s.axisGroup=c.g("axis").attr({zIndex:u.zIndex||2}).add(),s.labelGroup=c.g("axis-labels").attr({zIndex:k.zIndex||7}).add()),e||s.isLinked){if(s.labelAlign=p(k.align||s.autoLabelAlign(k.rotation)),rn(h,function(e){f[e]?f[e].addLabel():f[e]=new R(s,e)}),s.horiz&&!s.staggerLines&&M&&!k.rotation){for(n=s.reversed?[].concat(h).reverse():h;M>S;){for(e=[],i=!1,k=0;k<n.length;k++)r=n[k],o=(o=f[r].label&&f[r].label.bBox)?o.width:0,a=k%S,o&&(r=s.translate(r),e[a]!==Y&&r<e[a]&&(i=!0),e[a]=r+o);if(!i)break;S++}S>1&&(s.staggerLines=S)}rn(h,function(e){(0===g||2===g||{1:"left",3:"right"}[g]===s.labelAlign)&&(_=gt(f[e].getLabelSize(),_))}),s.staggerLines&&(_*=s.staggerLines,s.labelOffset=_)}else for(n in f)f[n].destroy(),delete f[n];x&&x.text&&x.enabled!==!1&&(s.axisTitle||(s.axisTitle=c.text(x.text,0,0,x.useHTML).attr({zIndex:7,rotation:x.rotation||0,align:x.textAlign||{low:"left",middle:"center",high:"right"}[x.align]}).css(x.style).add(s.axisGroup),s.axisTitle.isNew=!0),l&&(y=s.axisTitle.getBBox()[m?"height":"width"],b=p(x.margin,m?5:10),t=x.offset),s.axisTitle[l?"show":"hide"]()),s.offset=T*p(u.offset,w[g]),s.axisTitleMargin=p(t,_+b+(2!==g&&_&&T*u.labels[m?"y":"x"])),w[g]=gt(w[g],s.axisTitleMargin+y+T*s.offset),C[v]=gt(C[v],u.lineWidth)},getLinePath:function(e){var t=this.chart,n=this.opposite,i=this.offset,r=this.horiz,o=this.left+(n?this.width:0)+i;return this.lineTop=i=t.chartHeight-this.bottom-(n?this.height:0)+i,n||(e*=-1),t.renderer.crispLine(["M",r?this.left:o,r?i:this.top,"L",r?t.chartWidth-this.right:o,r?i:t.chartHeight-this.bottom],e)},getTitlePosition:function(){var e=this.horiz,t=this.left,i=this.top,r=this.len,o=this.options.title,a=e?t:i,s=this.opposite,l=this.offset,c=n(o.style.fontSize||12),r={low:a+(e?0:r),middle:a+r/2,high:a+(e?r:0)}[o.align],t=(e?i+this.height:t)+(e?1:-1)*(s?-1:1)*this.axisTitleMargin+(2===this.side?c:0);return{x:e?r:t+(s?this.width:0)+l+(o.x||0),y:e?t-(s?this.height:0)+l:r+(o.y||0)}},render:function(){var e,t=this,n=t.chart,i=n.renderer,r=t.options,o=t.isLog,a=t.isLinked,s=t.tickPositions,c=t.axisTitle,u=t.stacks,h=t.ticks,p=t.minorTicks,f=t.alternateBands,m=r.stackLabels,g=r.alternateGridColor,v=t.tickmarkOffset,y=r.lineWidth,b=n.hasRendered&&d(t.oldMin)&&!isNaN(t.oldMin);e=t.hasData;var x,k,_=t.showAxis;if(rn([h,p,f],function(e){for(var t in e)e[t].isActive=!1}),(e||a)&&(t.minorTickInterval&&!t.categories&&rn(t.getMinorTickPositions(),function(e){p[e]||(p[e]=new R(t,e,"minor")),b&&p[e].isNew&&p[e].render(null,!0),p[e].render(null,!1,1)}),s.length&&(rn(s.slice(1).concat([s[0]]),function(e,n){n=n===s.length-1?0:n+1,(!a||e>=t.min&&e<=t.max)&&(h[e]||(h[e]=new R(t,e)),b&&h[e].isNew&&h[e].render(n,!0),h[e].render(n,!1,1))}),v&&0===t.min&&(h[-1]||(h[-1]=new R(t,-1,null,!0)),h[-1].render(-1))),g&&rn(s,function(e,n){0===n%2&&e<t.max&&(f[e]||(f[e]=new B(t)),x=e+v,k=s[n+1]!==Y?s[n+1]+v:t.max,f[e].options={from:o?l(x):x,to:o?l(k):k,color:g},f[e].render(),f[e].isActive=!0)}),t._addedPlotLB||(rn((r.plotLines||[]).concat(r.plotBands||[]),function(e){t.addPlotBandOrLine(e)}),t._addedPlotLB=!0)),rn([h,p,f],function(e){var t,i,r=[],o=G?G.duration||500:0,a=function(){for(i=r.length;i--;)e[r[i]]&&!e[r[i]].isActive&&(e[r[i]].destroy(),delete e[r[i]])};for(t in e)e[t].isActive||(e[t].render(t,!1,0),e[t].isActive=!1,r.push(t));e!==f&&n.hasRendered&&o?o&&setTimeout(a,o):a()}),y&&(e=t.getLinePath(y),t.axisLine?t.axisLine.animate({d:e}):t.axisLine=i.path(e).attr({stroke:r.lineColor,"stroke-width":y,zIndex:7}).add(t.axisGroup),t.axisLine[_?"show":"hide"]()),c&&_&&(c[c.isNew?"attr":"animate"](t.getTitlePosition()),c.isNew=!1),m&&m.enabled){var w,C,r=t.stackTotalGroup;r||(t.stackTotalGroup=r=i.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()),r.translate(n.plotLeft,n.plotTop);for(w in u)for(C in i=u[w])i[C].render(r)}t.isDirty=!1},removePlotBandOrLine:function(e){for(var t=this.plotLinesAndBands,n=this.options,i=this.userOptions,r=t.length;r--;)t[r].id===e&&t[r].destroy();rn([n.plotLines||[],i.plotLines||[],n.plotBands||[],i.plotBands||[]],function(t){for(r=t.length;r--;)t[r].id===e&&c(t,t[r])})},setTitle:function(e,t){this.update({title:e},t)},redraw:function(){var e=this.chart.pointer;e.reset&&e.reset(!0),this.render(),rn(this.plotLinesAndBands,function(e){e.render()}),rn(this.series,function(e){e.isDirty=!0})},buildStacks:function(){this.isXAxis||rn(this.series,function(e){e.setStackedPoints()})},setCategories:function(e,t){this.update({categories:e},t)},destroy:function(e){var t,n=this,i=n.stacks,r=n.plotLinesAndBands;e||cn(n);for(t in i)A(i[t]),i[t]=null;for(rn([n.ticks,n.minorTicks,n.alternateBands],function(e){A(e)}),e=r.length;e--;)r[e].destroy();rn("stackTotalGroup,axisLine,axisGroup,gridGroup,labelGroup,axisTitle".split(","),function(e){n[e]&&(n[e]=n[e].destroy())})}},z.prototype={init:function(e,t){var i=t.borderWidth,r=t.style,o=n(r.padding);this.chart=e,this.options=t,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.label=e.renderer.label("",0,0,t.shape,null,null,t.useHTML,null,"tooltip").attr({padding:o,fill:t.backgroundColor,"stroke-width":i,r:t.borderRadius,zIndex:8}).css(r).css({padding:0}).hide().add(),Pt||this.label.shadow(t.shadow),this.shared=t.shared},destroy:function(){rn(this.crosshairs,function(e){e&&e.destroy()}),this.label&&(this.label=this.label.destroy()),clearTimeout(this.hideTimer),clearTimeout(this.tooltipTimeout)},move:function(t,n,i,r){var o=this,a=o.now,s=o.options.animation!==!1&&!o.isHidden;e(a,{x:s?(2*a.x+t)/3:t,y:s?(a.y+n)/2:n,anchorX:s?(2*a.anchorX+i)/3:i,anchorY:s?(a.anchorY+r)/2:r}),o.label.attr(a),s&&(yt(t-a.x)>1||yt(n-a.y)>1)&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){o&&o.move(t,n,i,r)},32))},hide:function(){var e,t=this;clearTimeout(this.hideTimer),this.isHidden||(e=this.chart.hoverPoints,this.hideTimer=setTimeout(function(){t.label.fadeOut(),t.isHidden=!0},p(this.options.hideDelay,500)),e&&rn(e,function(e){e.setState()}),this.chart.hoverPoints=null)},hideCrosshairs:function(){rn(this.crosshairs,function(e){e&&e.hide()})},getAnchor:function(e,t){var n,i,r=this.chart,o=r.inverted,a=r.plotTop,s=0,l=0,e=h(e);return n=e[0].tooltipPos,this.followPointer&&t&&(t.chartX===Y&&(t=r.pointer.normalize(t)),n=[t.chartX-r.plotLeft,t.chartY-a]),n||(rn(e,function(e){i=e.series.yAxis,s+=e.plotX,l+=(e.plotLow?(e.plotLow+e.plotHigh)/2:e.plotY)+(!o&&i?i.top-a:0)}),s/=e.length,l/=e.length,n=[o?r.plotWidth-l:s,this.shared&&!o&&e.length>1&&t?t.chartY-a:o?r.plotHeight-s:l]),sn(n,pt)},getPosition:function(e,t,n){var i,r=this.chart,o=r.plotLeft,a=r.plotTop,s=r.plotWidth,l=r.plotHeight,c=p(this.options.distance,12),d=n.plotX,n=n.plotY,r=d+o+(r.inverted?c:-e-c),u=n-t+a+15;return 7>r&&(r=o+gt(d,0)+c),r+e>o+s&&(r-=r+e-(o+s),u=n-t+a-c,i=!0),a+5>u&&(u=a+5,i&&n>=u&&u+t>=n&&(u=n+a+c)),u+t>a+l&&(u=gt(a,a+l-t-c)),{x:r,y:u}},defaultFormatter:function(e){var t,n=this.points||h(this),i=n[0].series;return t=[i.tooltipHeaderFormatter(n[0])],rn(n,function(e){i=e.series,t.push(i.tooltipFormatter&&i.tooltipFormatter(e)||e.point.tooltipFormatter(i.tooltipOptions.pointFormat))}),t.push(e.options.footerFormat||""),t.join("")},refresh:function(e,t){var n,i,r,o,a=this.chart,l=this.label,c=this.options,d={},u=[];o=c.formatter||this.defaultFormatter;var f,d=a.hoverPoints,m=c.crosshairs;if(r=this.shared,clearTimeout(this.hideTimer),this.followPointer=h(e)[0].series.tooltipOptions.followPointer,i=this.getAnchor(e,t),n=i[0],i=i[1],!r||e.series&&e.series.noSharedTooltip?d=e.getLabelConfig():(a.hoverPoints=e,d&&rn(d,function(e){e.setState()}),rn(e,function(e){e.setState("hover"),u.push(e.getLabelConfig())}),d={x:e[0].category,y:e[0].y},d.points=u,e=e[0]),o=o.call(d,this),d=e.series,r=r||!d.isCartesian||d.tooltipOutsidePlot||a.isInsidePlot(n,i),o!==!1&&r?(this.isHidden&&(pn(l),l.attr("opacity",1).show()),l.attr({text:o}),f=c.borderColor||e.color||d.color||"#606060",l.attr({stroke:f}),this.updatePosition({plotX:n,plotY:i}),this.isHidden=!1):this.hide(),m)for(m=h(m),l=m.length;l--;)d=e.series,c=d[l?"yAxis":"xAxis"],m[l]&&c&&(r=l?p(e.stackY,e.y):e.x,c.isLog&&(r=s(r)),d.modifyValue&&(r=d.modifyValue(r)),c=c.getPlotLinePath(r,1),this.crosshairs[l]?this.crosshairs[l].attr({d:c,visibility:"visible"}):(r={"stroke-width":m[l].width||1,stroke:m[l].color||"#C0C0C0",zIndex:m[l].zIndex||2},m[l].dashStyle&&(r.dashstyle=m[l].dashStyle),this.crosshairs[l]=a.renderer.path(c).attr(r).add()));dn(a,"tooltipRefresh",{text:o,x:n+a.plotLeft,y:i+a.plotTop,borderColor:f})},updatePosition:function(e){var t=this.chart,n=this.label,n=(this.options.positioner||this.getPosition).call(this,n.width,n.height,e);this.move(pt(n.x),pt(n.y),e.plotX+t.plotLeft,e.plotY+t.plotTop)}},j.prototype={init:function(e,t){var n,i=Pt?"":t.chart.zoomType,r=e.inverted;this.options=t,this.chart=e,this.zoomX=n=/x/.test(i),this.zoomY=i=/y/.test(i),this.zoomHor=n&&!r||i&&r,this.zoomVert=i&&!r||n&&r,this.pinchDown=[],this.lastValidTouch={},t.tooltip.enabled&&(e.tooltip=new z(e,t.tooltip)),this.setDOMEvents()},normalize:function(t){var n,i,t=t||ut.event;return t.target||(t.target=t.srcElement),t=un(t),i=t.touches?t.touches.item(0):t,this.chartPosition=n=an(this.chart.container),e(t,{chartX:pt(p(i.pageX,i.clientX)-n.left),chartY:pt(p(i.pageY,i.clientY)-n.top)})},getCoordinates:function(e){var t={xAxis:[],yAxis:[]};return rn(this.chart.axes,function(n){t[n.isXAxis?"xAxis":"yAxis"].push({axis:n,value:n.toValue(e[n.horiz?"chartX":"chartY"])})}),t},getIndex:function(e){var t=this.chart;return t.inverted?t.plotHeight+t.plotTop-e.chartY:e.chartX-t.plotLeft},runPointActions:function(e){var t,n,i,r=this.chart,o=r.series,a=r.tooltip,s=r.hoverPoint,l=r.hoverSeries,c=r.chartWidth,d=this.getIndex(e);if(a&&this.options.tooltip.shared&&(!l||!l.noSharedTooltip)){for(t=[],n=o.length,i=0;n>i;i++)o[i].visible&&o[i].options.enableMouseTracking!==!1&&!o[i].noSharedTooltip&&o[i].tooltipPoints.length&&(r=o[i].tooltipPoints[d],r.series)&&(r._dist=yt(d-r.clientX),c=vt(c,r._dist),t.push(r));for(n=t.length;n--;)t[n]._dist>c&&t.splice(n,1);t.length&&t[0].clientX!==this.hoverX&&(a.refresh(t,e),this.hoverX=t[0].clientX)}l&&l.tracker?(r=l.tooltipPoints[d])&&r!==s&&r.onMouseOver(e):a&&a.followPointer&&!a.isHidden&&(e=a.getAnchor([{}],e),a.updatePosition({plotX:e[0],plotY:e[1]}))},reset:function(e){var t=this.chart,n=t.hoverSeries,i=t.hoverPoint,r=t.tooltip,t=r&&r.shared?t.hoverPoints:i;(e=e&&r&&t)&&h(t)[0].plotX===Y&&(e=!1),e?r.refresh(t):(i&&i.onMouseOut(),n&&n.onMouseOut(),r&&(r.hide(),r.hideCrosshairs()),this.hoverX=null)},scaleGroups:function(e,t){var n,i=this.chart;rn(i.series,function(r){n=e||r.getPlotBox(),r.xAxis&&r.xAxis.zoomEnabled&&(r.group.attr(n),r.markerGroup&&(r.markerGroup.attr(n),r.markerGroup.clip(t?i.clipRect:null)),r.dataLabelsGroup&&r.dataLabelsGroup.attr(n))}),i.clipRect.attr(t||i.clipBox)},pinchTranslateDirection:function(e,t,n,i,r,o,a){var s,l,c,d=this.chart,u=e?"x":"y",h=e?"X":"Y",p="chart"+h,f=e?"width":"height",m=d["plot"+(e?"Left":"Top")],g=1,v=d.inverted,y=d.bounds[e?"h":"v"],b=1===t.length,x=t[0][p],k=n[0][p],_=!b&&t[1][p],w=!b&&n[1][p],n=function(){!b&&yt(x-_)>20&&(g=yt(k-w)/yt(x-_)),l=(m-k)/g+x,s=d["plot"+(e?"Width":"Height")]/g};n(),t=l,t<y.min?(t=y.min,c=!0):t+s>y.max&&(t=y.max-s,c=!0),c?(k-=.8*(k-a[u][0]),b||(w-=.8*(w-a[u][1])),n()):a[u]=[k,w],v||(o[u]=l-m,o[f]=s),o=v?1/g:g,r[f]=s,r[u]=t,i[v?e?"scaleY":"scaleX":"scale"+h]=g,i["translate"+h]=o*m+(k-o*x)},pinch:function(t){var n=this,i=n.chart,r=n.pinchDown,o=i.tooltip&&i.tooltip.options.followTouchMove,a=t.touches,s=a.length,l=n.lastValidTouch,c=n.zoomHor||n.pinchHor,d=n.zoomVert||n.pinchVert,u=c||d,h=n.selectionMarker,p={},f={};"touchstart"===t.type&&(o||u)&&t.preventDefault(),sn(a,function(e){return n.normalize(e)}),"touchstart"===t.type?(rn(a,function(e,t){r[t]={chartX:e.chartX,chartY:e.chartY}}),l.x=[r[0].chartX,r[1]&&r[1].chartX],l.y=[r[0].chartY,r[1]&&r[1].chartY],rn(i.axes,function(e){if(e.zoomEnabled){var t=i.bounds[e.horiz?"h":"v"],n=e.minPixelPadding,r=e.toPixels(e.dataMin),o=e.toPixels(e.dataMax),a=vt(r,o),r=gt(r,o);t.min=vt(e.pos,a-n),t.max=gt(e.pos+e.len,r+n)}})):r.length&&(h||(n.selectionMarker=h=e({destroy:Bt},i.plotBox)),c&&n.pinchTranslateDirection(!0,r,a,p,h,f,l),d&&n.pinchTranslateDirection(!1,r,a,p,h,f,l),n.hasPinched=u,n.scaleGroups(p,f),!u&&o&&1===s&&this.runPointActions(n.normalize(t)))},dragStart:function(e){var t=this.chart;t.mouseIsDown=e.type,t.cancelClick=!1,t.mouseDownX=this.mouseDownX=e.chartX,this.mouseDownY=e.chartY},drag:function(e){var t,n=this.chart,i=n.options.chart,r=e.chartX,e=e.chartY,o=this.zoomHor,a=this.zoomVert,s=n.plotLeft,l=n.plotTop,c=n.plotWidth,d=n.plotHeight,u=this.mouseDownX,h=this.mouseDownY;s>r?r=s:r>s+c&&(r=s+c),l>e?e=l:e>l+d&&(e=l+d),this.hasDragged=Math.sqrt(Math.pow(u-r,2)+Math.pow(h-e,2)),this.hasDragged>10&&(t=n.isInsidePlot(u-s,h-l),n.hasCartesianSeries&&(this.zoomX||this.zoomY)&&t&&!this.selectionMarker&&(this.selectionMarker=n.renderer.rect(s,l,o?1:c,a?1:d,0).attr({fill:i.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add()),this.selectionMarker&&o&&(o=r-u,this.selectionMarker.attr({width:yt(o),x:(o>0?0:o)+u})),this.selectionMarker&&a&&(o=e-h,this.selectionMarker.attr({height:yt(o),y:(o>0?0:o)+h})),t&&!this.selectionMarker&&i.panning&&n.pan(r))},drop:function(t){var n=this.chart,i=this.hasPinched;if(this.selectionMarker){var r,o={xAxis:[],yAxis:[],originalEvent:t.originalEvent||t},a=this.selectionMarker,s=a.x,l=a.y;(this.hasDragged||i)&&(rn(n.axes,function(e){if(e.zoomEnabled){var t=e.horiz,n=e.toValue(t?s:l),t=e.toValue(t?s+a.width:l+a.height);!isNaN(n)&&!isNaN(t)&&(o[e.xOrY+"Axis"].push({axis:e,min:vt(n,t),max:gt(n,t)}),r=!0)}}),r&&dn(n,"selection",o,function(t){n.zoom(e(t,i?{animation:!1}:null))})),this.selectionMarker=this.selectionMarker.destroy(),i&&this.scaleGroups()}n&&(f(n.container,{cursor:n._cursor}),n.cancelClick=this.hasDragged>10,n.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(e){e=this.normalize(e),e.preventDefault&&e.preventDefault(),this.dragStart(e)},onDocumentMouseUp:function(e){this.drop(e)},onDocumentMouseMove:function(e){var t=this.chart,n=this.chartPosition,i=t.hoverSeries,e=un(e);n&&i&&i.isCartesian&&!t.isInsidePlot(e.pageX-n.left-t.plotLeft,e.pageY-n.top-t.plotTop)&&this.reset()},onContainerMouseLeave:function(){this.reset(),this.chartPosition=null},onContainerMouseMove:function(e){var t=this.chart,e=this.normalize(e);e.returnValue=!1,"mousedown"===t.mouseIsDown&&this.drag(e),t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop)&&!t.openMenu&&this.runPointActions(e)},inClass:function(e,t){for(var n;e;){if(n=u(e,"class")){if(-1!==n.indexOf(t))return!0;if(-1!==n.indexOf("highcharts-container"))return!1}e=e.parentNode}},onTrackerMouseOut:function(e){var t=this.chart.hoverSeries;!t||t.options.stickyTracking||this.inClass(e.toElement||e.relatedTarget,"highcharts-tooltip")||t.onMouseOut()},onContainerClick:function(t){var n,i,r,o=this.chart,a=o.hoverPoint,s=o.plotLeft,l=o.plotTop,c=o.inverted,t=this.normalize(t);t.cancelBubble=!0,o.cancelClick||(a&&this.inClass(t.target,"highcharts-tracker")?(n=this.chartPosition,i=a.plotX,r=a.plotY,e(a,{pageX:n.left+s+(c?o.plotWidth-r:i),pageY:n.top+l+(c?o.plotHeight-i:r)}),dn(a.series,"click",e(t,{point:a})),o.hoverPoint&&a.firePointEvent("click",t)):(e(t,this.getCoordinates(t)),o.isInsidePlot(t.chartX-s,t.chartY-l)&&dn(o,"click",t)))},onContainerTouchStart:function(e){var t=this.chart;1===e.touches.length?(e=this.normalize(e),t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop)?(this.runPointActions(e),this.pinch(e)):this.reset()):2===e.touches.length&&this.pinch(e)},onContainerTouchMove:function(e){(1===e.touches.length||2===e.touches.length)&&this.pinch(e)},onDocumentTouchEnd:function(e){this.drop(e)},setDOMEvents:function(){var e,t=this,n=t.chart.container;this._events=e=[[n,"onmousedown","onContainerMouseDown"],[n,"onmousemove","onContainerMouseMove"],[n,"onclick","onContainerClick"],[n,"mouseleave","onContainerMouseLeave"],[dt,"mousemove","onDocumentMouseMove"],[dt,"mouseup","onDocumentMouseUp"]],Ft&&e.push([n,"ontouchstart","onContainerTouchStart"],[n,"ontouchmove","onContainerTouchMove"],[dt,"touchend","onDocumentTouchEnd"]),rn(e,function(e){t["_"+e[2]]=function(n){t[e[2]](n)},0===e[1].indexOf("on")?e[0][e[1]]=t["_"+e[2]]:ln(e[0],e[1],t["_"+e[2]])})},destroy:function(){var e=this;rn(e._events,function(t){0===t[1].indexOf("on")?t[0][t[1]]=null:cn(t[0],t[1],e["_"+t[2]])}),delete e._events,clearInterval(e.tooltipTimeout)}},$.prototype={init:function(e,i){var r=this,o=i.itemStyle,a=p(i.padding,8),s=i.itemMarginTop||0;this.options=i,i.enabled&&(r.baseline=n(o.fontSize)+3+s,r.itemStyle=o,r.itemHiddenStyle=t(o,i.itemHiddenStyle),r.itemMarginTop=s,r.padding=a,r.initialItemX=a,r.initialItemY=a-5,r.maxItemWidth=0,r.chart=e,r.itemHeight=0,r.lastLineHeight=0,r.render(),ln(r.chart,"endResize",function(){r.positionCheckboxes()}))},colorizeItem:function(e,t){var n,i=this.options,r=e.legendItem,o=e.legendLine,a=e.legendSymbol,s=this.itemHiddenStyle.color,i=t?i.itemStyle.color:s,l=t?e.color:s,s=e.options&&e.options.marker,c={stroke:l,fill:l};if(r&&r.css({fill:i,color:i}),o&&o.attr({stroke:l}),a){if(s&&a.isMarker)for(n in s=e.convertAttribs(s))r=s[n],r!==Y&&(c[n]=r);a.attr(c)}},positionItem:function(e){var t=this.options,n=t.symbolPadding,t=!t.rtl,i=e._legendItemPos,r=i[0],i=i[1],o=e.checkbox;e.legendGroup&&e.legendGroup.translate(t?r:this.legendWidth-r-2*n-4,i),o&&(o.x=r,o.y=i)},destroyItem:function(e){var t=e.checkbox;rn(["legendItem","legendLine","legendSymbol","legendGroup"],function(t){e[t]&&(e[t]=e[t].destroy())}),t&&E(e.checkbox)},destroy:function(){var e=this.group,t=this.box;t&&(this.box=t.destroy()),e&&(this.group=e.destroy())},positionCheckboxes:function(e){var t,n=this.group.alignAttr,i=this.clipHeight||this.legendHeight;n&&(t=n.translateY,rn(this.allItems,function(r){var o,a=r.checkbox;a&&(o=t+a.y+(e||0)+3,f(a,{left:n.translateX+r.legendItemWidth+a.x-20+"px",top:o+"px",display:o>t-6&&t+i-6>o?"":zt}))
}))},renderTitle:function(){var e=this.padding,t=this.options.title,n=0;t.text&&(this.title||(this.title=this.chart.renderer.label(t.text,e-3,e-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(t.style).add(this.group)),e=this.title.getBBox(),n=e.height,this.offsetWidth=e.width,this.contentGroup.attr({translateY:n})),this.titleHeight=n},renderItem:function(e){var n,i=this,r=i.chart,o=r.renderer,a=i.options,s="horizontal"===a.layout,l=a.symbolWidth,c=a.symbolPadding,d=i.itemStyle,u=i.itemHiddenStyle,h=i.padding,f=s?p(a.itemDistance,8):0,g=!a.rtl,v=a.width,y=a.itemMarginBottom||0,b=i.itemMarginTop,k=i.initialItemX,_=e.legendItem,w=e.series||e,C=w.options,T=C.showCheckbox,S=a.useHTML;!_&&(e.legendGroup=o.g("legend-item").attr({zIndex:1}).add(i.scrollGroup),w.drawLegendSymbol(i,e),e.legendItem=_=o.text(a.labelFormat?x(a.labelFormat,e):a.labelFormatter.call(e),g?l+c:-c,i.baseline,S).css(t(e.visible?d:u)).attr({align:g?"left":"right",zIndex:2}).add(e.legendGroup),(S?_:e.legendGroup).on("mouseover",function(){e.setState("hover"),_.css(i.options.itemHoverStyle)}).on("mouseout",function(){_.css(e.visible?d:u),e.setState()}).on("click",function(t){var n=function(){e.setVisible()},t={browserEvent:t};e.firePointEvent?e.firePointEvent("legendItemClick",t,n):dn(e,"legendItemClick",t,n)}),i.colorizeItem(e,e.visible),C&&T)&&(e.checkbox=m("input",{type:"checkbox",checked:e.selected,defaultChecked:e.selected},a.itemCheckboxStyle,r.container),ln(e.checkbox,"click",function(t){dn(e,"checkboxClick",{checked:t.target.checked},function(){e.select()})})),o=_.getBBox(),n=e.legendItemWidth=a.itemWidth||l+c+o.width+f+(T?20:0),a=n,i.itemHeight=l=o.height,s&&i.itemX-k+a>(v||r.chartWidth-2*h-k)&&(i.itemX=k,i.itemY+=b+i.lastLineHeight+y,i.lastLineHeight=0),i.maxItemWidth=gt(i.maxItemWidth,a),i.lastItemY=b+i.itemY+y,i.lastLineHeight=gt(l,i.lastLineHeight),e._legendItemPos=[i.itemX,i.itemY],s?i.itemX+=a:(i.itemY+=b+l+y,i.lastLineHeight=l),i.offsetWidth=v||gt((s?i.itemX-k-f:a)+h,i.offsetWidth)},render:function(){var t,n,i,r,o=this,a=o.chart,s=a.renderer,l=o.group,c=o.box,u=o.options,h=o.padding,p=u.borderWidth,f=u.backgroundColor;o.itemX=o.initialItemX,o.itemY=o.initialItemY,o.offsetWidth=0,o.lastItemY=0,l||(o.group=l=s.g("legend").attr({zIndex:7}).add(),o.contentGroup=s.g().attr({zIndex:1}).add(l),o.scrollGroup=s.g().add(o.contentGroup)),o.renderTitle(),t=[],rn(a.series,function(e){var n=e.options;n.showInLegend&&!d(n.linkedTo)&&(t=t.concat(e.legendItems||("point"===n.legendType?e.data:e)))}),S(t,function(e,t){return(e.options&&e.options.legendIndex||0)-(t.options&&t.options.legendIndex||0)}),u.reversed&&t.reverse(),o.allItems=t,o.display=n=!!t.length,rn(t,function(e){o.renderItem(e)}),i=u.width||o.offsetWidth,r=o.lastItemY+o.lastLineHeight+o.titleHeight,r=o.handleOverflow(r),(p||f)&&(i+=h,r+=h,c?i>0&&r>0&&(c[c.isNew?"attr":"animate"](c.crisp(null,null,null,i,r)),c.isNew=!1):(o.box=c=s.rect(0,0,i,r,u.borderRadius,p||0).attr({stroke:u.borderColor,"stroke-width":p||0,fill:f||zt}).add(l).shadow(u.shadow),c.isNew=!0),c[n?"show":"hide"]()),o.legendWidth=i,o.legendHeight=r,rn(t,function(e){o.positionItem(e)}),n&&l.align(e({width:i,height:r},u),!0,"spacingBox"),a.isResizing||this.positionCheckboxes()},handleOverflow:function(e){var t=this,n=this.chart,i=n.renderer,r=this.options,o=r.y,o=n.spacingBox.height+("top"===r.verticalAlign?-o:o)-this.padding,a=r.maxHeight,s=this.clipRect,l=r.navigation,c=p(l.animation,!0),d=l.arrowSize||12,u=this.nav;return"horizontal"===r.layout&&(o/=2),a&&(o=vt(o,a)),e>o&&!r.useHTML?(this.clipHeight=n=o-20-this.titleHeight,this.pageCount=mt(e/n),this.currentPage=p(this.currentPage,1),this.fullHeight=e,s||(s=t.clipRect=i.clipRect(0,0,9999,0),t.contentGroup.clip(s)),s.attr({height:n}),u||(this.nav=u=i.g().attr({zIndex:1}).add(this.group),this.up=i.symbol("triangle",0,0,d,d).on("click",function(){t.scroll(-1,c)}).add(u),this.pager=i.text("",15,10).css(l.style).add(u),this.down=i.symbol("triangle-down",0,0,d,d).on("click",function(){t.scroll(1,c)}).add(u)),t.scroll(0),e=o):u&&(s.attr({height:n.chartHeight}),u.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),e},scroll:function(e,t){var n=this.pageCount,i=this.currentPage+e,r=this.clipHeight,o=this.options.navigation,a=o.activeColor,s=o.inactiveColor,o=this.pager,l=this.padding;i>n&&(i=n),i>0&&(t!==Y&&P(t,this.chart),this.nav.attr({translateX:l,translateY:r+7+this.titleHeight,visibility:"visible"}),this.up.attr({fill:1===i?s:a}).css({cursor:1===i?"default":"pointer"}),o.attr({text:i+"/"+this.pageCount}),this.down.attr({x:18+this.pager.getBBox().width,fill:i===n?s:a}).css({cursor:i===n?"default":"pointer"}),r=-vt(r*(i-1),this.fullHeight-r+l)+1,this.scrollGroup.animate({translateY:r}),o.attr({text:i+"/"+n}),this.currentPage=i,this.positionCheckboxes(r))}},W.prototype={init:function(e,n){var i,o=e.series;e.series=null,i=t(U,e),i.series=e.series=o;var o=i.chart,a=o.margin,a=r(a)?a:[a,a,a,a];this.optionsMarginTop=p(o.marginTop,a[0]),this.optionsMarginRight=p(o.marginRight,a[1]),this.optionsMarginBottom=p(o.marginBottom,a[2]),this.optionsMarginLeft=p(o.marginLeft,a[3]),a=o.events,this.bounds={h:{},v:{}},this.callback=n,this.isResizing=0,this.options=i,this.axes=[],this.series=[],this.hasCartesianSeries=o.showAxes;var s,l=this;if(l.index=Ot.length,Ot.push(l),o.reflow!==!1&&ln(l,"load",function(){l.initReflow()}),a)for(s in a)ln(l,s,a[s]);l.xAxis=[],l.yAxis=[],l.animation=Pt?!1:p(o.animation,!0),l.pointCount=0,l.counters=new T,l.firstRender()},initSeries:function(e){var t=this.options.chart;return(t=Qt[e.type||t.type||t.defaultSeriesType])||N(17,!0),t=new t,t.init(this,e),t},addSeries:function(e,t,n){var i,r=this;return e&&(t=p(t,!0),dn(r,"addSeries",{options:e},function(){i=r.initSeries(e),r.isDirtyLegend=!0,t&&r.redraw(n)})),i},addAxis:function(e,n,i,r){var o=n?"xAxis":"yAxis",a=this.options;new H(this,t(e,{index:this[o].length,isX:n})),a[o]=h(a[o]||{}),a[o].push(e),p(i,!0)&&this.redraw(r)},isInsidePlot:function(e,t,n){var i=n?t:e,e=n?e:t;return i>=0&&i<=this.plotWidth&&e>=0&&e<=this.plotHeight},adjustTickAmounts:function(){this.options.chart.alignTicks!==!1&&rn(this.axes,function(e){e.adjustTickAmount()}),this.maxTicks=null},redraw:function(e){var t,n,i=this.axes,r=this.series,o=this.pointer,a=this.legend,s=this.isDirtyLegend,l=this.isDirtyBox,c=r.length,d=c,u=this.renderer,h=u.isHidden(),p=[];for(P(e,this),h&&this.cloneRenderTo(),this.layOutTitles();d--;)if(e=r[d],e.options.stacking&&(t=!0,e.isDirty)){n=!0;break}if(n)for(d=c;d--;)e=r[d],e.options.stacking&&(e.isDirty=!0);rn(r,function(e){e.isDirty&&"point"===e.options.legendType&&(s=!0)}),s&&a.options.enabled&&(a.render(),this.isDirtyLegend=!1),t&&this.getStacks(),this.hasCartesianSeries&&(this.isResizing||(this.maxTicks=null,rn(i,function(e){e.setScale()})),this.adjustTickAmounts(),this.getMargins(),rn(i,function(e){e.isDirtyExtremes&&(e.isDirtyExtremes=!1,p.push(function(){dn(e,"afterSetExtremes",e.getExtremes())})),(e.isDirty||l||t)&&(e.redraw(),l=!0)})),l&&this.drawChartBox(),rn(r,function(e){e.isDirty&&e.visible&&(!e.isCartesian||e.xAxis)&&e.redraw()}),o&&o.reset&&o.reset(!0),u.draw(),dn(this,"redraw"),h&&this.cloneRenderTo(!0),rn(p,function(e){e.call()})},showLoading:function(t){var n=this.options,i=this.loadingDiv,r=n.loading;i||(this.loadingDiv=i=m(Ht,{className:"highcharts-loading"},e(r.style,{zIndex:10,display:zt}),this.container),this.loadingSpan=m("span",null,r.labelStyle,i)),this.loadingSpan.innerHTML=t||n.lang.loading,this.loadingShown||(f(i,{opacity:0,display:"",left:this.plotLeft+"px",top:this.plotTop+"px",width:this.plotWidth+"px",height:this.plotHeight+"px"}),hn(i,{opacity:r.style.opacity},{duration:r.showDuration||0}),this.loadingShown=!0)},hideLoading:function(){var e=this.options,t=this.loadingDiv;t&&hn(t,{opacity:0},{duration:e.loading.hideDuration||100,complete:function(){f(t,{display:zt})}}),this.loadingShown=!1},get:function(e){var t,n,i=this.axes,r=this.series;for(t=0;t<i.length;t++)if(i[t].options.id===e)return i[t];for(t=0;t<r.length;t++)if(r[t].options.id===e)return r[t];for(t=0;t<r.length;t++)for(n=r[t].points||[],i=0;i<n.length;i++)if(n[i].id===e)return n[i];return null},getAxes:function(){var e=this,t=this.options,n=t.xAxis=h(t.xAxis||{}),t=t.yAxis=h(t.yAxis||{});rn(n,function(e,t){e.index=t,e.isX=!0}),rn(t,function(e,t){e.index=t}),n=n.concat(t),rn(n,function(t){new H(e,t)}),e.adjustTickAmounts()},getSelectedPoints:function(){var e=[];return rn(this.series,function(t){e=e.concat(on(t.points||[],function(e){return e.selected}))}),e},getSelectedSeries:function(){return on(this.series,function(e){return e.selected})},getStacks:function(){var e=this;rn(e.yAxis,function(e){e.stacks&&e.hasVisibleSeries&&(e.oldStacks=e.stacks)}),rn(e.series,function(t){!t.options.stacking||t.visible!==!0&&e.options.chart.ignoreHiddenSeries!==!1||(t.stackKey=t.type+p(t.options.stack,""))})},showResetZoom:function(){var e=this,t=U.lang,n=e.options.chart.resetZoomButton,i=n.theme,r=i.states,o="chart"===n.relativeTo?null:"plotBox";this.resetZoomButton=e.renderer.button(t.resetZoom,null,null,function(){e.zoomOut()},i,r&&r.hover).attr({align:n.position.align,title:t.resetZoomTitle}).add().align(n.position,!1,o)},zoomOut:function(){var e=this;dn(e,"selection",{resetSelection:!0},function(){e.zoom()})},zoom:function(e){var t,n,i=this.pointer,o=!1;!e||e.resetSelection?rn(this.axes,function(e){t=e.zoom()}):rn(e.xAxis.concat(e.yAxis),function(e){var n=e.axis,r=n.isXAxis;(i[r?"zoomX":"zoomY"]||i[r?"pinchX":"pinchY"])&&(t=n.zoom(e.min,e.max),n.displayBtn&&(o=!0))}),n=this.resetZoomButton,o&&!n?this.showResetZoom():!o&&r(n)&&(this.resetZoomButton=n.destroy()),t&&this.redraw(p(this.options.chart.animation,e&&e.animation,this.pointCount<100))},pan:function(e){var t=this.xAxis[0],n=this.mouseDownX,i=t.pointRange/2,r=t.getExtremes(),o=t.translate(n-e,!0)+i,n=t.translate(n+this.plotWidth-e,!0)-i;(i=this.hoverPoints)&&rn(i,function(e){e.setState()}),t.series.length&&o>vt(r.dataMin,r.min)&&n<gt(r.dataMax,r.max)&&t.setExtremes(o,n,!0,!1,{trigger:"pan"}),this.mouseDownX=e,f(this.container,{cursor:"move"})},setTitle:function(e,n){var i,r,o=this,a=o.options;r=a.title=t(a.title,e),i=a.subtitle=t(a.subtitle,n),a=i,rn([["title",e,r],["subtitle",n,a]],function(e){var t=e[0],n=o[t],i=e[1],e=e[2];n&&i&&(o[t]=n=n.destroy()),e&&e.text&&!n&&(o[t]=o.renderer.text(e.text,0,0,e.useHTML).attr({align:e.align,"class":"highcharts-"+t,zIndex:e.zIndex||4}).css(e.style).add())}),o.layOutTitles()},layOutTitles:function(){var t=0,n=this.title,i=this.subtitle,r=this.options,o=r.title,r=r.subtitle,a=this.spacingBox.width-44;!n||(n.css({width:(o.width||a)+"px"}).align(e({y:15},o),!1,"spacingBox"),o.floating||o.verticalAlign)||(t=n.getBBox().height,t>=18&&25>=t&&(t=15)),i&&(i.css({width:(r.width||a)+"px"}).align(e({y:t+o.margin},r),!1,"spacingBox"),!r.floating&&!r.verticalAlign&&(t=mt(t+i.getBBox().height))),this.titleOffset=t},getChartSize:function(){var e=this.options.chart,t=this.renderToClone||this.renderTo;this.containerWidth=en(t,"width"),this.containerHeight=en(t,"height"),this.chartWidth=gt(0,e.width||this.containerWidth||600),this.chartHeight=gt(0,p(e.height,this.containerHeight>19?this.containerHeight:400))},cloneRenderTo:function(e){var t=this.renderToClone,n=this.container;e?t&&(this.renderTo.appendChild(n),E(t),delete this.renderToClone):(n&&n.parentNode===this.renderTo&&this.renderTo.removeChild(n),this.renderToClone=t=this.renderTo.cloneNode(0),f(t,{position:"absolute",top:"-9999px",display:"block"}),dt.body.appendChild(t),n&&t.appendChild(n))},getContainer:function(){var t,r,o,a,s=this.options.chart;this.renderTo=t=s.renderTo,a="highcharts-"+Rt++,i(t)&&(this.renderTo=t=dt.getElementById(t)),t||N(13,!0),r=n(u(t,"data-highcharts-chart")),!isNaN(r)&&Ot[r]&&Ot[r].destroy(),u(t,"data-highcharts-chart",this.index),t.innerHTML="",t.offsetWidth||this.cloneRenderTo(),this.getChartSize(),r=this.chartWidth,o=this.chartHeight,this.container=t=m(Ht,{className:"highcharts-container"+(s.className?" "+s.className:""),id:a},e({position:"relative",overflow:"hidden",width:r+"px",height:o+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},s.style),this.renderToClone||t),this._cursor=t.style.cursor,this.renderer=s.forExport?new gn(t,r,o,!0):new V(t,r,o),Pt&&this.renderer.create(this,t,r,o)},getMargins:function(){var e,t=this.options.chart,n=t.spacingTop,i=t.spacingRight,r=t.spacingBottom,t=t.spacingLeft,o=this.legend,a=this.optionsMarginTop,s=this.optionsMarginLeft,l=this.optionsMarginRight,c=this.optionsMarginBottom,u=this.options.legend,h=p(u.margin,10),f=u.x,m=u.y,g=u.align,v=u.verticalAlign,y=this.titleOffset;this.resetMargins(),e=this.axisOffset,y&&!d(a)&&(this.plotTop=gt(this.plotTop,y+this.options.title.margin+n)),o.display&&!u.floating&&("right"===g?d(l)||(this.marginRight=gt(this.marginRight,o.legendWidth-f+h+i)):"left"===g?d(s)||(this.plotLeft=gt(this.plotLeft,o.legendWidth+f+h+t)):"top"===v?d(a)||(this.plotTop=gt(this.plotTop,o.legendHeight+m+h+n)):"bottom"!==v||d(c)||(this.marginBottom=gt(this.marginBottom,o.legendHeight-m+h+r))),this.extraBottomMargin&&(this.marginBottom+=this.extraBottomMargin),this.extraTopMargin&&(this.plotTop+=this.extraTopMargin),this.hasCartesianSeries&&rn(this.axes,function(e){e.getOffset()}),d(s)||(this.plotLeft+=e[3]),d(a)||(this.plotTop+=e[0]),d(c)||(this.marginBottom+=e[2]),d(l)||(this.marginRight+=e[1]),this.setChartSize()},initReflow:function(){function e(e){var o=i.width||en(r,"width"),a=i.height||en(r,"height"),e=e?e.target:ut;n.hasUserSize||!o||!a||e!==ut&&e!==dt||((o!==n.containerWidth||a!==n.containerHeight)&&(clearTimeout(t),n.reflowTimeout=t=setTimeout(function(){n.container&&(n.setSize(o,a,!1),n.hasUserSize=null)},100)),n.containerWidth=o,n.containerHeight=a)}var t,n=this,i=n.options.chart,r=n.renderTo;ln(ut,"resize",e),ln(n,"destroy",function(){cn(ut,"resize",e)})},setSize:function(e,t,n){var i,r,o,a=this;a.isResizing+=1,o=function(){a&&dn(a,"endResize",null,function(){a.isResizing-=1})},P(n,a),a.oldChartHeight=a.chartHeight,a.oldChartWidth=a.chartWidth,d(e)&&(a.chartWidth=i=gt(0,pt(e)),a.hasUserSize=!!i),d(t)&&(a.chartHeight=r=gt(0,pt(t))),f(a.container,{width:i+"px",height:r+"px"}),a.setChartSize(!0),a.renderer.setSize(i,r,n),a.maxTicks=null,rn(a.axes,function(e){e.isDirty=!0,e.setScale()}),rn(a.series,function(e){e.isDirty=!0}),a.isDirtyLegend=!0,a.isDirtyBox=!0,a.getMargins(),a.redraw(n),a.oldChartHeight=null,dn(a,"resize"),G===!1?o():setTimeout(o,G&&G.duration||500)},setChartSize:function(e){var t,n,i,r,o=this.inverted,a=this.renderer,s=this.chartWidth,l=this.chartHeight,c=this.options.chart,d=c.spacingTop,u=c.spacingRight,h=c.spacingBottom,p=c.spacingLeft,f=this.clipOffset;this.plotLeft=t=pt(this.plotLeft),this.plotTop=n=pt(this.plotTop),this.plotWidth=i=gt(0,pt(s-t-this.marginRight)),this.plotHeight=r=gt(0,pt(l-n-this.marginBottom)),this.plotSizeX=o?r:i,this.plotSizeY=o?i:r,this.plotBorderWidth=o=c.plotBorderWidth||0,this.spacingBox=a.spacingBox={x:p,y:d,width:s-p-u,height:l-d-h},this.plotBox=a.plotBox={x:t,y:n,width:i,height:r},a=mt(gt(o,f[3])/2),s=mt(gt(o,f[0])/2),this.clipBox={x:a,y:s,width:ft(this.plotSizeX-gt(o,f[1])/2-a),height:ft(this.plotSizeY-gt(o,f[2])/2-s)},e||rn(this.axes,function(e){e.setAxisSize(),e.setAxisTranslation()})},resetMargins:function(){var e=this.options.chart,t=e.spacingRight,n=e.spacingBottom,i=e.spacingLeft;this.plotTop=p(this.optionsMarginTop,e.spacingTop),this.marginRight=p(this.optionsMarginRight,t),this.marginBottom=p(this.optionsMarginBottom,n),this.plotLeft=p(this.optionsMarginLeft,i),this.axisOffset=[0,0,0,0],this.clipOffset=[0,0,0,0]},drawChartBox:function(){var e,t=this.options.chart,n=this.renderer,i=this.chartWidth,r=this.chartHeight,o=this.chartBackground,a=this.plotBackground,s=this.plotBorder,l=this.plotBGImage,c=t.borderWidth||0,d=t.backgroundColor,u=t.plotBackgroundColor,h=t.plotBackgroundImage,p=t.plotBorderWidth||0,f=this.plotLeft,m=this.plotTop,g=this.plotWidth,v=this.plotHeight,y=this.plotBox,b=this.clipRect,x=this.clipBox;e=c+(t.shadow?8:0),(c||d)&&(o?o.animate(o.crisp(null,null,null,i-e,r-e)):(o={fill:d||zt},c&&(o.stroke=t.borderColor,o["stroke-width"]=c),this.chartBackground=n.rect(e/2,e/2,i-e,r-e,t.borderRadius,c).attr(o).add().shadow(t.shadow))),u&&(a?a.animate(y):this.plotBackground=n.rect(f,m,g,v,0).attr({fill:u}).add().shadow(t.plotShadow)),h&&(l?l.animate(y):this.plotBGImage=n.image(h,f,m,g,v).add()),b?b.animate({width:x.width,height:x.height}):this.clipRect=n.clipRect(x),p&&(s?s.animate(s.crisp(null,f,m,g,v)):this.plotBorder=n.rect(f,m,g,v,0,p).attr({stroke:t.plotBorderColor,"stroke-width":p,zIndex:1}).add()),this.isDirtyBox=!1},propFromSeries:function(){var e,t,n,i=this,r=i.options.chart,o=i.options.series;rn(["inverted","angular","polar"],function(a){for(e=Qt[r.type||r.defaultSeriesType],n=i[a]||r[a]||e&&e.prototype[a],t=o&&o.length;!n&&t--;)(e=Qt[o[t].type])&&e.prototype[a]&&(n=!0);i[a]=n})},render:function(){var t,i=this,r=i.axes,o=i.renderer,a=i.options,s=a.labels,l=a.credits;i.setTitle(),i.legend=new $(i,a.legend),i.getStacks(),rn(r,function(e){e.setScale()}),i.getMargins(),i.maxTicks=null,rn(r,function(e){e.setTickPositions(!0),e.setMaxTicks()}),i.adjustTickAmounts(),i.getMargins(),i.drawChartBox(),i.hasCartesianSeries&&rn(r,function(e){e.render()}),i.seriesGroup||(i.seriesGroup=o.g("series-group").attr({zIndex:3}).add()),rn(i.series,function(e){e.translate(),e.setTooltipPoints(),e.render()}),s.items&&rn(s.items,function(t){var r=e(s.style,t.style),a=n(r.left)+i.plotLeft,l=n(r.top)+i.plotTop+12;delete r.left,delete r.top,o.text(t.html,a,l).attr({zIndex:2}).css(r).add()}),l.enabled&&!i.credits&&(t=l.href,i.credits=o.text(l.text,0,0).on("click",function(){t&&(location.href=t)}).attr({align:l.position.align,zIndex:8}).css(l.style).add().align(l.position)),i.hasRendered=!0},destroy:function(){var e,t=this,n=t.axes,i=t.series,r=t.container,o=r&&r.parentNode;for(dn(t,"destroy"),Ot[t.index]=Y,t.renderTo.removeAttribute("data-highcharts-chart"),cn(t),e=n.length;e--;)n[e]=n[e].destroy();for(e=i.length;e--;)i[e]=i[e].destroy();rn("title,subtitle,chartBackground,plotBackground,plotBGImage,plotBorder,seriesGroup,clipRect,credits,pointer,scroller,rangeSelector,legend,resetZoomButton,tooltip,renderer".split(","),function(e){var n=t[e];n&&n.destroy&&(t[e]=n.destroy())}),r&&(r.innerHTML="",cn(r),o&&E(r));for(e in t)delete t[e]},isReadyToRender:function(){var e=this;return!Nt&&ut==ut.top&&"complete"!==dt.readyState||Pt&&!ut.canvg?(Pt?bn.push(function(){e.firstRender()},e.options.global.canvasToolsURL):dt.attachEvent("onreadystatechange",function(){dt.detachEvent("onreadystatechange",e.firstRender),"complete"===dt.readyState&&e.firstRender()}),!1):!0},firstRender:function(){var e=this,t=e.options,n=e.callback;e.isReadyToRender()&&(e.getContainer(),dn(e,"init"),e.resetMargins(),e.setChartSize(),e.propFromSeries(),e.getAxes(),rn(t.series||[],function(t){e.initSeries(t)}),dn(e,"beforeRender"),e.pointer=new j(e,t),e.render(),e.renderer.draw(),n&&n.apply(e,[e]),rn(e.callbacks,function(t){t.apply(e,[e])}),e.cloneRenderTo(!0),dn(e,"load"))}},W.prototype.callbacks=[];var xn=function(){};xn.prototype={init:function(e,t,n){return this.series=e,this.applyOptions(t,n),this.pointAttr={},e.options.colorByPoint&&(t=e.options.colors||e.chart.options.colors,this.color=this.color||t[e.colorCounter++],e.colorCounter===t.length)&&(e.colorCounter=0),e.chart.pointCount++,this},applyOptions:function(t,n){var i=this.series,r=i.pointValKey,t=xn.prototype.optionsToObject.call(this,t);return e(this,t),this.options=this.options?e(this.options,t):t,r&&(this.y=this[r]),this.x===Y&&i&&(this.x=n===Y?i.autoIncrement():n),this},optionsToObject:function(e){var t,n=this.series,i=n.pointArrayMap||["y"],r=i.length,a=0,s=0;if("number"==typeof e||null===e)t={y:e};else if(o(e))for(t={},e.length>r&&(n=typeof e[0],"string"===n?t.name=e[0]:"number"===n&&(t.x=e[0]),a++);r>s;)t[i[s++]]=e[a++];else"object"==typeof e&&(t=e,e.dataLabels&&(n._hasPointLabels=!0),e.marker&&(n._hasPointMarkers=!0));return t},destroy:function(){var e,t=this.series.chart,n=t.hoverPoints;t.pointCount--,n&&(this.setState(),c(n,this),!n.length)&&(t.hoverPoints=null),this===t.hoverPoint&&this.onMouseOut(),(this.graphic||this.dataLabel)&&(cn(this),this.destroyElements()),this.legendItem&&t.legend.destroyItem(this);for(e in this)this[e]=null},destroyElements:function(){for(var e,t="graphic,dataLabel,dataLabelUpper,group,connector,shadowGroup".split(","),n=6;n--;)e=t[n],this[e]&&(this[e]=this[e].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},select:function(e,t){var n=this,i=n.series,r=i.chart,e=p(e,!n.selected);n.firePointEvent(e?"select":"unselect",{accumulate:t},function(){n.selected=n.options.selected=e,i.options.data[nn(n,i.data)]=n.options,n.setState(e&&"select"),t||rn(r.getSelectedPoints(),function(e){e.selected&&e!==n&&(e.selected=e.options.selected=!1,i.options.data[nn(e,i.data)]=e.options,e.setState(""),e.firePointEvent("unselect"))})})},onMouseOver:function(e){var t=this.series,n=t.chart,i=n.tooltip,r=n.hoverPoint;r&&r!==this&&r.onMouseOut(),this.firePointEvent("mouseOver"),i&&(!i.shared||t.noSharedTooltip)&&i.refresh(this,e),this.setState("hover"),n.hoverPoint=this},onMouseOut:function(){var e=this.series.chart,t=e.hoverPoints;t&&-1!==nn(this,t)||(this.firePointEvent("mouseOut"),this.setState(),e.hoverPoint=null)},tooltipFormatter:function(e){var t=this.series,n=t.tooltipOptions,i=p(n.valueDecimals,""),r=n.valuePrefix||"",o=n.valueSuffix||"";return rn(t.pointArrayMap||["y"],function(t){t="{point."+t,(r||o)&&(e=e.replace(t+"}",r+t+"}"+o)),e=e.replace(t+"}",t+":,."+i+"f}")}),x(e,{point:this,series:this.series})},update:function(e,t,n){var i,o=this,a=o.series,s=o.graphic,l=a.data,c=a.chart,d=a.options,t=p(t,!0);o.firePointEvent("update",{options:e},function(){o.applyOptions(e),r(e)&&(a.getAttribs(),s&&s.attr(o.pointAttr[a.state])),i=nn(o,l),a.xData[i]=o.x,a.yData[i]=a.toYData?a.toYData(o):o.y,a.zData[i]=o.z,d.data[i]=o.options,a.isDirty=a.isDirtyData=c.isDirtyBox=!0,"point"===d.legendType&&c.legend.destroyItem(o),t&&c.redraw(n)})},remove:function(e,t){var n,i=this,r=i.series,o=r.chart,a=r.data;P(t,o),e=p(e,!0),i.firePointEvent("remove",null,function(){n=nn(i,a),a.splice(n,1),r.options.data.splice(n,1),r.xData.splice(n,1),r.yData.splice(n,1),r.zData.splice(n,1),i.destroy(),r.isDirty=!0,r.isDirtyData=!0,e&&o.redraw()})},firePointEvent:function(e,t,n){var i=this,r=this.series.options;(r.point.events[e]||i.options&&i.options.events&&i.options.events[e])&&this.importEvents(),"click"===e&&r.allowPointSelect&&(n=function(e){i.select(null,e.ctrlKey||e.metaKey||e.shiftKey)}),dn(this,e,t,n)},importEvents:function(){if(!this.hasImportedEvents){var e,n=t(this.series.options.point,this.options).events;this.events=n;for(e in n)ln(this,e,n[e]);this.hasImportedEvents=!0}},setState:function(e){var n=this.plotX,i=this.plotY,r=this.series,o=r.options.states,a=fn[r.type].marker&&r.options.marker,s=a&&!a.enabled,l=a&&a.states[e],c=l&&l.enabled===!1,d=r.stateMarkerGraphic,u=this.marker||{},h=r.chart,p=this.pointAttr,e=e||"";e===this.state||this.selected&&"select"!==e||o[e]&&o[e].enabled===!1||e&&(c||s&&!l.enabled)||(this.graphic?(o=a&&this.graphic.symbolName&&p[e].r,this.graphic.attr(t(p[e],o?{x:n-o,y:i-o,width:2*o,height:2*o}:{}))):(e&&l&&(o=l.radius,u=u.symbol||r.symbol,d&&d.currentSymbol!==u&&(d=d.destroy()),d?d.attr({x:n-o,y:i-o}):(r.stateMarkerGraphic=d=h.renderer.symbol(u,n-o,i-o,2*o,2*o).attr(p[e]).add(r.markerGroup),d.currentSymbol=u)),d&&d[e&&h.isInsidePlot(n,i)?"show":"hide"]()),this.state=e)}};var kn=function(){};kn.prototype={isCartesian:!0,type:"line",pointClass:xn,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},colorCounter:0,init:function(t,n){var r,o,a=t.series;this.chart=t,this.options=n=this.setOptions(n),this.bindAxes(),e(this,{name:n.name,state:"",pointAttr:{},visible:n.visible!==!1,selected:n.selected===!0}),Pt&&(n.animation=!1),o=n.events;for(r in o)ln(this,r,o[r]);(o&&o.click||n.point&&n.point.events&&n.point.events.click||n.allowPointSelect)&&(t.runTrackerClick=!0),this.getColor(),this.getSymbol(),this.setData(n.data,!1),this.isCartesian&&(t.hasCartesianSeries=!0),a.push(this),this._i=a.length-1,S(a,function(e,t){return p(e.options.index,e._i)-p(t.options.index,e._i)}),rn(a,function(e,t){e.index=t,e.name=e.name||"Series "+(t+1)}),r=n.linkedTo,this.linkedSeries=[],i(r)&&(r=":previous"===r?a[this.index-1]:t.get(r))&&(r.linkedSeries.push(this),this.linkedParent=r)},bindAxes:function(){var e,t=this,n=t.options,i=t.chart;t.isCartesian&&rn(["xAxis","yAxis"],function(r){rn(i[r],function(i){e=i.options,(n[r]===e.index||n[r]!==Y&&n[r]===e.id||n[r]===Y&&0===e.index)&&(i.series.push(t),t[r]=i,i.isDirty=!0)}),t[r]||N(18,!0)})},autoIncrement:function(){var e=this.options,t=this.xIncrement,t=p(t,e.pointStart,0);return this.pointInterval=p(this.pointInterval,e.pointInterval,1),this.xIncrement=t+this.pointInterval,t},getSegments:function(){var e,t=-1,n=[],i=this.points,r=i.length;if(r)if(this.options.connectNulls){for(e=r;e--;)null===i[e].y&&i.splice(e,1);i.length&&(n=[i])}else rn(i,function(e,o){null===e.y?(o>t+1&&n.push(i.slice(t+1,o)),t=o):o===r-1&&n.push(i.slice(t+1,o+1))});this.segments=n},setOptions:function(e){var n=this.chart.options,i=n.plotOptions,r=i[this.type];return this.userOptions=e,e=t(r,i.series,e),this.tooltipOptions=t(n.tooltip,e.tooltip),null===r.marker&&delete e.marker,e},getColor:function(){var e,t=this.options,n=this.userOptions,i=this.chart.options.colors,r=this.chart.counters;e=t.color||fn[this.type].color,e||t.colorByPoint||(d(n._colorIndex)?t=n._colorIndex:(n._colorIndex=r.color,t=r.color++),e=i[t]),this.color=e,r.wrapColor(i.length)},getSymbol:function(){var e=this.userOptions,t=this.options.marker,n=this.chart,i=n.options.symbols,n=n.counters;this.symbol=t.symbol,this.symbol||(d(e._symbolIndex)?e=e._symbolIndex:(e._symbolIndex=n.symbol,e=n.symbol++),this.symbol=i[e]),/^url/.test(this.symbol)&&(t.radius=0),n.wrapSymbol(i.length)},drawLegendSymbol:function(e){var t,n=this.options,i=n.marker,r=e.options;t=r.symbolWidth;var o=this.chart.renderer,a=this.legendGroup,e=e.baseline-pt(.3*o.fontMetrics(r.itemStyle.fontSize).b);n.lineWidth&&(r={"stroke-width":n.lineWidth},n.dashStyle&&(r.dashstyle=n.dashStyle),this.legendLine=o.path(["M",0,e,"L",t,e]).attr(r).add(a)),i&&i.enabled&&(n=i.radius,this.legendSymbol=t=o.symbol(this.symbol,t/2-n,e-n,2*n,2*n).add(a),t.isMarker=!0)},addPoint:function(e,t,n,i){var r=this.options,o=this.data,a=this.graph,s=this.area,l=this.chart,c=this.xData,d=this.yData,u=this.zData,h=this.names,f=a&&a.shift||0,m=r.data;P(i,l),n&&rn([a,s,this.graphNeg,this.areaNeg],function(e){e&&(e.shift=f+1)}),s&&(s.isArea=!0),t=p(t,!0),i={series:this},this.pointClass.prototype.applyOptions.apply(i,[e]),c.push(i.x),d.push(this.toYData?this.toYData(i):i.y),u.push(i.z),h&&(h[i.x]=i.name),m.push(e),"point"===r.legendType&&this.generatePoints(),n&&(o[0]&&o[0].remove?o[0].remove(!1):(o.shift(),c.shift(),d.shift(),u.shift(),m.shift())),this.isDirtyData=this.isDirty=!0,t&&(this.getAttribs(),l.redraw())},setData:function(e,t){var n,r=this.points,s=this.options,l=this.chart,c=null,d=this.xAxis,u=d&&d.categories&&!d.categories.length?[]:null;this.xIncrement=null,this.pointRange=d&&d.categories?1:s.pointRange,this.colorCounter=0;var h=[],f=[],m=[],g=e?e.length:[];n=p(s.turboThreshold,1e3);var v=this.pointArrayMap,v=v&&v.length,y=!!this.toYData;if(n&&g>n){for(n=0;null===c&&g>n;)c=e[n],n++;if(a(c)){for(c=p(s.pointStart,0),s=p(s.pointInterval,1),n=0;g>n;n++)h[n]=c,f[n]=e[n],c+=s;this.xIncrement=c}else if(o(c))if(v)for(n=0;g>n;n++)s=e[n],h[n]=s[0],f[n]=s.slice(1,v+1);else for(n=0;g>n;n++)s=e[n],h[n]=s[0],f[n]=s[1]}else for(n=0;g>n;n++)e[n]!==Y&&(s={series:this},this.pointClass.prototype.applyOptions.apply(s,[e[n]]),h[n]=s.x,f[n]=y?this.toYData(s):s.y,m[n]=s.z,u&&s.name)&&(u[s.x]=s.name);for(i(f[0])&&N(14,!0),this.data=[],this.options.data=e,this.xData=h,this.yData=f,this.zData=m,this.names=u,n=r&&r.length||0;n--;)r[n]&&r[n].destroy&&r[n].destroy();d&&(d.minRange=d.userMinRange),this.isDirty=this.isDirtyData=l.isDirtyBox=!0,p(t,!0)&&l.redraw(!1)},remove:function(e,t){var n=this,i=n.chart,e=p(e,!0);n.isRemoving||(n.isRemoving=!0,dn(n,"remove",null,function(){n.destroy(),i.isDirtyLegend=i.isDirtyBox=!0,e&&i.redraw(t)})),n.isRemoving=!1},processData:function(e){var t,n=this.xData,i=this.yData,r=n.length;t=0;var o,a,s=this.xAxis,l=this.options,c=l.cropThreshold,d=this.isCartesian;if(d&&!this.isDirty&&!s.isDirty&&!this.yAxis.isDirty&&!e)return!1;for(d&&this.sorted&&(!c||r>c||this.forceCrop)&&(e=s.min,s=s.max,n[r-1]<e||n[0]>s?(n=[],i=[]):(n[0]<e||n[r-1]>s)&&(t=this.cropData(this.xData,this.yData,e,s),n=t.xData,i=t.yData,t=t.start,o=!0)),s=n.length-1;s>=0;s--)r=n[s]-n[s-1],r>0&&(a===Y||a>r)?a=r:0>r&&this.requireSorting&&N(15);this.cropped=o,this.cropStart=t,this.processedXData=n,this.processedYData=i,null===l.pointRange&&(this.pointRange=a||1),this.closestPointRange=a},cropData:function(e,t,n,i){var r,o=e.length,a=0,s=o;for(r=0;o>r;r++)if(e[r]>=n){a=gt(0,r-1);break}for(;o>r;r++)if(e[r]>i){s=r+1;break}return{xData:e.slice(a,s),yData:t.slice(a,s),start:a,end:s}},generatePoints:function(){var e,t,n,i,r=this.options.data,o=this.data,a=this.processedXData,s=this.processedYData,l=this.pointClass,c=a.length,d=this.cropStart||0,u=this.hasGroupedData,p=[];for(o||u||(o=[],o.length=r.length,o=this.data=o),i=0;c>i;i++)t=d+i,u?p[i]=(new l).init(this,[a[i]].concat(h(s[i]))):(o[t]?n=o[t]:r[t]!==Y&&(o[t]=n=(new l).init(this,r[t],a[i])),p[i]=n);if(o&&(c!==(e=o.length)||u))for(i=0;e>i;i++)i===d&&!u&&(i+=c),o[i]&&(o[i].destroyElements(),o[i].plotX=Y);this.data=o,this.points=p},setStackedPoints:function(){if(this.options.stacking&&(this.visible===!0||this.chart.options.chart.ignoreHiddenSeries===!1)){var e,t,n,i,r,o,a=this.processedXData,s=this.processedYData,l=s.length,c=this.options,d=c.threshold,u=c.stack,c=c.stacking,h=this.stackKey,p="-"+h,f=this.yAxis,m=f.stacks,g=f.oldStacks,v=f.stacksMax;for(r=0;l>r;r++)t=a[r],o=s[r],i=(e=d>o)?p:h,v[i]||(v[i]=o),m[i]||(m[i]={}),m[i][t]||(g[i]&&g[i][t]?(m[i][t]=g[i][t],m[i][t].total=null):m[i][t]=new O(f,f.options.stackLabels,e,t,u,c)),n=m[i][t],t=n.total,n.addValue(o),n.cacheExtremes(this,[t,t+o]),n.total>v[i]&&!e?v[i]=n.total:n.total<v[i]&&e&&(v[i]=n.total);f.oldStacks={}}},getExtremes:function(){var e,t,n,i=this.xAxis,r=this.yAxis,o=this.stackKey,a=this.options,s=a.threshold,l=this.processedXData,c=this.processedYData,u=c.length,h=[],f=0,m=i.min,i=i.max;if(a.stacking&&(t=r.stacksMax["-"+o]||s,n=r.stacksMax[o]||s),!d(t)||!d(n)){for(a=0;u>a;a++)if(e=l[a],o=c[a],s=null!==o&&o!==Y&&(!r.isLog||o.length||o>0),e=this.getExtremesFromAll||this.cropped||(l[a+1]||e)>=m&&(l[a-1]||e)<=i,s&&e)if(s=o.length)for(;s--;)null!==o[s]&&(h[f++]=o[s]);else h[f++]=o;t=p(t,M(h)),n=p(n,D(h))}this.dataMin=t,this.dataMax=n},translate:function(){this.processedXData||this.processData(),this.generatePoints();for(var e=this.options,t=e.stacking,n=this.xAxis,i=n.categories,r=this.yAxis,o=this.points,s=o.length,l=!!this.modifyValue,c=e.pointPlacement,u="between"===c||a(c),h=e.threshold,e=0;s>e;e++){var f,m=o[e],g=m.x,v=m.y,y=m.low,b=r.stacks[(h>v?"-":"")+this.stackKey];r.isLog&&0>=v&&(m.y=v=null),m.plotX=n.translate(g,0,0,0,1,c),t&&this.visible&&b&&b[g]&&(b=b[g],f=b.total,b.cum=y=b.cum-v,v=y+v,0===b.cum&&(y=p(h,r.min)),r.isLog&&0>=y&&(y=null),"percent"===t&&(y=f?100*y/f:0,v=f?100*v/f:0),m.percentage=f?100*m.y/f:0,m.total=m.stackTotal=f,m.stackY=v,b.setOffset(this.pointXOffset||0,this.barW||0)),m.yBottom=d(y)?r.translate(y,0,1,0,1):null,l&&(v=this.modifyValue(v,m)),m.plotY="number"==typeof v&&1/0!==v?pt(10*r.translate(v,0,1,0,1))/10:Y,m.clientX=u?n.translate(g,0,0,0,1):m.plotX,m.negative=m.y<(h||0),m.category=i&&i[m.x]!==Y?i[m.x]:m.x}this.getSegments()},setTooltipPoints:function(e){var t,n,i,r,o,a=[],s=(t=this.xAxis)?t.tooltipLen||t.len:this.chart.plotSizeX,l=[];if(this.options.enableMouseTracking!==!1){for(e&&(this.tooltipPoints=null),rn(this.segments||this.points,function(e){a=a.concat(e)}),t&&t.reversed&&(a=a.reverse()),this.orderTooltipPoints&&this.orderTooltipPoints(a),e=a.length,o=0;e>o;o++)for(i=a[o],r=a[o+1],t=a[o-1]?n+1:0,n=a[o+1]?vt(gt(0,ft((i.clientX+(r?r.wrappedClientX||r.clientX:s))/2)),s):s;t>=0&&n>=t;)l[t++]=i;this.tooltipPoints=l}},tooltipHeaderFormatter:function(e){var t,n=this.tooltipOptions,i=n.xDateFormat,r=n.dateTimeLabelFormats,o=this.xAxis,s=o&&"datetime"===o.options.type,n=n.headerFormat,o=o&&o.closestPointRange;if(s&&!i)if(o){for(t in Q)if(Q[t]>=o){i=r[t];break}}else i=r.day;
return s&&i&&a(e.key)&&(n=n.replace("{point.key}","{point.key:"+i+"}")),x(n,{point:e,series:this})},onMouseOver:function(){var e=this.chart,t=e.hoverSeries;t&&t!==this&&t.onMouseOut(),this.options.events.mouseOver&&dn(this,"mouseOver"),this.setState("hover"),e.hoverSeries=this},onMouseOut:function(){var e=this.options,t=this.chart,n=t.tooltip,i=t.hoverPoint;i&&i.onMouseOut(),this&&e.events.mouseOut&&dn(this,"mouseOut"),n&&!e.stickyTracking&&(!n.shared||this.noSharedTooltip)&&n.hide(),this.setState(),t.hoverSeries=null},animate:function(t){var n,i=this,o=i.chart,a=o.renderer;n=i.options.animation;var s,l=o.clipBox,c=o.inverted;n&&!r(n)&&(n=fn[i.type].animation),s="_sharedClip"+n.duration+n.easing,t?(t=o[s],n=o[s+"m"],t||(o[s]=t=a.clipRect(e(l,{width:0})),o[s+"m"]=n=a.clipRect(-99,c?-o.plotLeft:-o.plotTop,99,c?o.chartWidth:o.chartHeight)),i.group.clip(t),i.markerGroup.clip(n),i.sharedClipKey=s):((t=o[s])&&(t.animate({width:o.plotSizeX},n),o[s+"m"].animate({width:o.plotSizeX+99},n)),i.animate=null,i.animationTimeout=setTimeout(function(){i.afterAnimate()},n.duration))},afterAnimate:function(){var e=this.chart,t=this.sharedClipKey,n=this.group;n&&this.options.clip!==!1&&(n.clip(e.clipRect),this.markerGroup.clip()),setTimeout(function(){t&&e[t]&&(e[t]=e[t].destroy(),e[t+"m"]=e[t+"m"].destroy())},100)},drawPoints:function(){var t,n,i,r,o,a,s,l,c,d,u=this.points,h=this.chart,f=this.options.marker,m=this.markerGroup;if(f.enabled||this._hasPointMarkers)for(r=u.length;r--;)o=u[r],n=ft(o.plotX),i=o.plotY,c=o.graphic,s=o.marker||{},t=f.enabled&&s.enabled===Y||s.enabled,d=h.isInsidePlot(pt(n),i,h.inverted),t&&i!==Y&&!isNaN(i)&&null!==o.y?(t=o.pointAttr[o.selected?"select":""],a=t.r,s=p(s.symbol,this.symbol),l=0===s.indexOf("url"),c?c.attr({visibility:d?Nt?"inherit":"visible":"hidden"}).animate(e({x:n-a,y:i-a},c.symbolName?{width:2*a,height:2*a}:{})):d&&(a>0||l)&&(o.graphic=h.renderer.symbol(s,n-a,i-a,2*a,2*a).attr(t).add(m))):c&&(o.graphic=c.destroy())},convertAttribs:function(e,t,n,i){var r,o,a=this.pointAttrToOptions,s={},e=e||{},t=t||{},n=n||{},i=i||{};for(r in a)o=a[r],s[r]=p(e[o],t[r],n[r],i[r]);return s},getAttribs:function(){var t,n,i,r=this,o=r.options,a=fn[r.type].marker?o.marker:o,s=a.states,l=s.hover,c=r.color,u={stroke:c,fill:c},h=r.points||[],p=[],f=r.pointAttrToOptions,m=o.negativeColor;for(o.marker?(l.radius=l.radius||a.radius+2,l.lineWidth=l.lineWidth||a.lineWidth+1):l.color=l.color||mn(l.color||c).brighten(l.brightness).get(),p[""]=r.convertAttribs(a,u),rn(["hover","select"],function(e){p[e]=r.convertAttribs(s[e],p[""])}),r.pointAttr=p,c=h.length;c--;){if(u=h[c],(a=u.options&&u.options.marker||u.options)&&a.enabled===!1&&(a.radius=0),u.negative&&m&&(u.color=u.fillColor=m),t=o.colorByPoint||u.color,u.options)for(i in f)d(a[f[i]])&&(t=!0);t?(a=a||{},n=[],s=a.states||{},t=s.hover=s.hover||{},o.marker||(t.color=mn(t.color||u.color).brighten(t.brightness||l.brightness).get()),n[""]=r.convertAttribs(e({color:u.color},a),p[""]),n.hover=r.convertAttribs(s.hover,p.hover,n[""]),n.select=r.convertAttribs(s.select,p.select,n[""]),u.negative&&o.marker&&m&&(n[""].fill=n.hover.fill=n.select.fill=r.convertAttribs({fillColor:m}).fill)):n=p,u.pointAttr=n}},update:function(n,i){var r=this.chart,o=this.type,n=t(this.userOptions,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},n);this.remove(!1),e(this,Qt[n.type||o].prototype),this.init(r,n),p(i,!0)&&r.redraw(!1)},destroy:function(){var e,t,n,i,r,o=this,a=o.chart,s=/AppleWebKit\/533/.test(wt),l=o.data||[];for(dn(o,"destroy"),cn(o),rn(["xAxis","yAxis"],function(e){(r=o[e])&&(c(r.series,o),r.isDirty=r.forceRedraw=!0)}),o.legendItem&&o.chart.legend.destroyItem(o),t=l.length;t--;)(n=l[t])&&n.destroy&&n.destroy();o.points=null,clearTimeout(o.animationTimeout),rn("area,graph,dataLabelsGroup,group,markerGroup,tracker,graphNeg,areaNeg,posClip,negClip".split(","),function(t){o[t]&&(e=s&&"group"===t?"hide":"destroy",o[t][e]())}),a.hoverSeries===o&&(a.hoverSeries=null),c(a.series,o);for(i in o)delete o[i]},drawDataLabels:function(){var e,n,i,r,o=this,a=o.options.dataLabels,s=o.points;(a.enabled||o._hasPointLabels)&&(o.dlProcessOptions&&o.dlProcessOptions(a),r=o.plotGroup("dataLabelsGroup","data-labels",o.visible?"visible":"hidden",a.zIndex||6),n=a,rn(s,function(s){var l,c,u,h=s.dataLabel,f=s.connector,m=!0;if(e=s.options&&s.options.dataLabels,l=n.enabled||e&&e.enabled,h&&!l)s.dataLabel=h.destroy();else if(l){if(a=t(n,e),l=a.rotation,c=s.getLabelConfig(),i=a.format?x(a.format,c):a.formatter.call(c,a),a.style.color=p(a.color,a.style.color,o.color,"black"),h)d(i)?(h.attr({text:i}),m=!1):(s.dataLabel=h=h.destroy(),f&&(s.connector=f.destroy()));else if(d(i)){h={fill:a.backgroundColor,stroke:a.borderColor,"stroke-width":a.borderWidth,r:a.borderRadius||0,rotation:l,padding:a.padding,zIndex:1};for(u in h)h[u]===Y&&delete h[u];h=s.dataLabel=o.chart.renderer[l?"text":"label"](i,0,-999,null,null,null,a.useHTML).attr(h).css(a.style).add(r).shadow(a.shadow)}h&&o.alignDataLabel(s,h,a,null,m)}}))},alignDataLabel:function(t,n,i,r,o){var a=this.chart,s=a.inverted,l=p(t.plotX,-999),c=p(t.plotY,-999),t=n.getBBox(),r=e({x:s?a.plotWidth-c:l,y:pt(s?a.plotHeight-l:c),width:0,height:0},r);e(i,{width:t.width,height:t.height}),i.rotation?(r={align:i.align,x:r.x+i.x+r.width/2,y:r.y+i.y+r.height/2},n[o?"attr":"animate"](r)):(n.align(i,null,r),r=n.alignAttr),n.attr({visibility:i.crop===!1||a.isInsidePlot(r.x,r.y)&&a.isInsidePlot(r.x+t.width,r.y+t.height)?a.renderer.isSVG?"inherit":"visible":"hidden"})},getSegmentPath:function(e){var t=this,n=[],i=t.options.step;return rn(e,function(r,o){var a,s=r.plotX,l=r.plotY;t.getPointSpline?n.push.apply(n,t.getPointSpline(e,r,o)):(n.push(o?"L":"M"),i&&o&&(a=e[o-1],"right"===i?n.push(a.plotX,l):"center"===i?n.push((a.plotX+s)/2,a.plotY,(a.plotX+s)/2,l):n.push(s,a.plotY)),n.push(r.plotX,r.plotY))}),n},getGraphPath:function(){var e,t=this,n=[],i=[];return rn(t.segments,function(r){e=t.getSegmentPath(r),r.length>1?n=n.concat(e):i.push(r[0])}),t.singlePoints=i,t.graphPath=n},drawGraph:function(){var e=this,t=this.options,n=[["graph",t.lineColor||this.color]],i=t.lineWidth,r=t.dashStyle,o=this.getGraphPath(),a=t.negativeColor;a&&n.push(["graphNeg",a]),rn(n,function(n,a){var s=n[0],l=e[s];l?(pn(l),l.animate({d:o})):i&&o.length&&(l={stroke:n[1],"stroke-width":i,zIndex:1},r&&(l.dashstyle=r),e[s]=e.chart.renderer.path(o).attr(l).add(e.group).shadow(!a&&t.shadow))})},clipNeg:function(){var e,t=this.options,n=this.chart,i=n.renderer,r=t.negativeColor||t.negativeFillColor,o=this.graph,a=this.area,s=this.posClip,l=this.negClip;e=n.chartWidth;var c=n.chartHeight,d=gt(e,c),u=this.yAxis;r&&(o||a)&&(r=pt(u.toPixels(t.threshold||0,!0)),t={x:0,y:0,width:d,height:r},d={x:0,y:r,width:d,height:d},n.inverted&&(t.height=d.y=n.plotWidth-r,i.isVML&&(t={x:n.plotWidth-r-n.plotLeft,y:0,width:e,height:c},d={x:r+n.plotLeft-e,y:0,width:n.plotLeft+r,height:e})),u.reversed?(n=d,e=t):(n=t,e=d),s?(s.animate(n),l.animate(e)):(this.posClip=s=i.clipRect(n),this.negClip=l=i.clipRect(e),o&&this.graphNeg&&(o.clip(s),this.graphNeg.clip(l)),a&&(a.clip(s),this.areaNeg.clip(l))))},invertGroups:function(){function e(){var e={width:t.yAxis.len,height:t.xAxis.len};rn(["group","markerGroup"],function(n){t[n]&&t[n].attr(e).invert()})}var t=this,n=t.chart;t.xAxis&&(ln(n,"resize",e),ln(t,"destroy",function(){cn(n,"resize",e)}),e(),t.invertGroups=e)},plotGroup:function(e,t,n,i,r){var o=this[e],a=!o;return a&&(this[e]=o=this.chart.renderer.g(t).attr({visibility:n,zIndex:i||.1}).add(r)),o[a?"attr":"animate"](this.getPlotBox()),o},getPlotBox:function(){return{translateX:this.xAxis?this.xAxis.left:this.chart.plotLeft,translateY:this.yAxis?this.yAxis.top:this.chart.plotTop,scaleX:1,scaleY:1}},render:function(){var e,t=this.chart,n=this.options,i=n.animation&&!!this.animate&&t.renderer.isSVG,r=this.visible?"visible":"hidden",o=n.zIndex,a=this.hasRendered,s=t.seriesGroup;e=this.plotGroup("group","series",r,o,s),this.markerGroup=this.plotGroup("markerGroup","markers",r,o,s),i&&this.animate(!0),this.getAttribs(),e.inverted=this.isCartesian?t.inverted:!1,this.drawGraph&&(this.drawGraph(),this.clipNeg()),this.drawDataLabels(),this.drawPoints(),this.options.enableMouseTracking!==!1&&this.drawTracker(),t.inverted&&this.invertGroups(),n.clip!==!1&&!this.sharedClipKey&&!a&&e.clip(t.clipRect),i?this.animate():a||this.afterAnimate(),this.isDirty=this.isDirtyData=!1,this.hasRendered=!0},redraw:function(){var e=this.chart,t=this.isDirtyData,n=this.group,i=this.xAxis,r=this.yAxis;n&&(e.inverted&&n.attr({width:e.plotWidth,height:e.plotHeight}),n.animate({translateX:p(i&&i.left,e.plotLeft),translateY:p(r&&r.top,e.plotTop)})),this.translate(),this.setTooltipPoints(!0),this.render(),t&&dn(this,"updatedData")},setState:function(e){var t=this.options,n=this.graph,i=this.graphNeg,r=t.states,t=t.lineWidth,e=e||"";this.state!==e&&(this.state=e,r[e]&&r[e].enabled===!1||(e&&(t=r[e].lineWidth||t+1),n&&!n.dashstyle&&(e={"stroke-width":t},n.attr(e),i&&i.attr(e))))},setVisible:function(e,t){var n,i=this,r=i.chart,o=i.legendItem,a=r.options.chart.ignoreHiddenSeries,s=i.visible;n=(i.visible=e=i.userOptions.visible=e===Y?!s:e)?"show":"hide",rn(["group","dataLabelsGroup","markerGroup","tracker"],function(e){i[e]&&i[e][n]()}),r.hoverSeries===i&&i.onMouseOut(),o&&r.legend.colorizeItem(i,e),i.isDirty=!0,i.options.stacking&&rn(r.series,function(e){e.options.stacking&&e.visible&&(e.isDirty=!0)}),rn(i.linkedSeries,function(t){t.setVisible(e,!1)}),a&&(r.isDirtyBox=!0),t!==!1&&r.redraw(),dn(i,n)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(e){this.selected=e=e===Y?!this.selected:e,this.checkbox&&(this.checkbox.checked=e),dn(this,e?"select":"unselect")},drawTracker:function(){var e,t=this,n=t.options,i=n.trackByArea,r=[].concat(i?t.areaPath:t.graphPath),o=r.length,a=t.chart,s=a.pointer,l=a.renderer,c=a.options.tooltip.snap,d=t.tracker,u=n.cursor,u=u&&{cursor:u},h=t.singlePoints,p=function(){a.hoverSeries!==t&&t.onMouseOver()};if(o&&!i)for(e=o+1;e--;)"M"===r[e]&&r.splice(e+1,0,r[e+1]-c,r[e+2],"L"),(e&&"M"===r[e]||e===o)&&r.splice(e,0,"L",r[e-2]+c,r[e-1]);for(e=0;e<h.length;e++)o=h[e],r.push("M",o.plotX-c,o.plotY,"L",o.plotX+c,o.plotY);d?d.attr({d:r}):(t.tracker=d=l.path(r).attr({"class":"highcharts-tracker","stroke-linejoin":"round",visibility:t.visible?"visible":"hidden",stroke:jt,fill:i?jt:zt,"stroke-width":n.lineWidth+(i?0:2*c),zIndex:2}).addClass("highcharts-tracker").on("mouseover",p).on("mouseout",function(e){s.onTrackerMouseOut(e)}).css(u).add(t.markerGroup),Ft&&d.on("touchstart",p))}},Jt=g(kn),Qt.line=Jt,fn.area=t(Zt,{threshold:0}),Jt=g(kn,{type:"area",getSegments:function(){var e,t,n,i,r,o=[],a=[],s=[],l=this.xAxis,c=this.yAxis,d=c.stacks[this.stackKey],u={},h=this.points;if(this.options.stacking&&!this.cropped){for(i=0;i<h.length;i++)u[h[i].x]=h[i];for(r in d)s.push(+r);s.sort(function(e,t){return e-t}),rn(s,function(i){u[i]?a.push(u[i]):(e=l.translate(i),n=d[i].percent?d[i].total?100*d[i].cum/d[i].total:0:d[i].cum,t=c.toPixels(n,!0),a.push({y:null,plotX:e,clientX:e,plotY:t,yBottom:t,onMouseOver:Bt}))}),a.length&&o.push(a)}else kn.prototype.getSegments.call(this),o=this.segments;this.segments=o},getSegmentPath:function(e){var t,n=kn.prototype.getSegmentPath.call(this,e),i=[].concat(n),r=this.options;if(3===n.length&&i.push("L",n[1],n[2]),r.stacking&&!this.closedStacks)for(t=e.length-1;t>=0;t--)t<e.length-1&&r.step&&i.push(e[t+1].plotX,e[t].yBottom),i.push(e[t].plotX,e[t].yBottom);else this.closeSegment(i,e);return this.areaPath=this.areaPath.concat(i),n},closeSegment:function(e,t){var n=this.yAxis.getThreshold(this.options.threshold);e.push("L",t[t.length-1].plotX,n,"L",t[0].plotX,n)},drawGraph:function(){this.areaPath=[],kn.prototype.drawGraph.apply(this);var e=this,t=this.areaPath,n=this.options,i=n.negativeColor,r=n.negativeFillColor,o=[["area",this.color,n.fillColor]];(i||r)&&o.push(["areaNeg",i,r]),rn(o,function(i){var r=i[0],o=e[r];o?o.animate({d:t}):e[r]=e.chart.renderer.path(t).attr({fill:p(i[2],mn(i[1]).setOpacity(p(n.fillOpacity,.75)).get()),zIndex:0}).add(e.group)})},drawLegendSymbol:function(e,t){t.legendSymbol=this.chart.renderer.rect(0,e.baseline-11,e.options.symbolWidth,12,2).attr({zIndex:3}).add(t.legendGroup)}}),Qt.area=Jt,fn.spline=t(Zt),vn=g(kn,{type:"spline",getPointSpline:function(e,t,n){var i,r,o,a,s=t.plotX,l=t.plotY,c=e[n-1],d=e[n+1];if(c&&d){e=c.plotY,o=d.plotX;var u,d=d.plotY;i=(1.5*s+c.plotX)/2.5,r=(1.5*l+e)/2.5,o=(1.5*s+o)/2.5,a=(1.5*l+d)/2.5,u=(a-r)*(o-s)/(o-i)+l-a,r+=u,a+=u,r>e&&r>l?(r=gt(e,l),a=2*l-r):e>r&&l>r&&(r=vt(e,l),a=2*l-r),a>d&&a>l?(a=gt(d,l),r=2*l-a):d>a&&l>a&&(a=vt(d,l),r=2*l-a),t.rightContX=o,t.rightContY=a}return n?(t=["C",c.rightContX||c.plotX,c.rightContY||c.plotY,i||s,r||l,s,l],c.rightContX=c.rightContY=null):t=["M",s,l],t}}),Qt.spline=vn,fn.areaspline=t(fn.area),yn=Jt.prototype,vn=g(vn,{type:"areaspline",closedStacks:!0,getSegmentPath:yn.getSegmentPath,closeSegment:yn.closeSegment,drawGraph:yn.drawGraph,drawLegendSymbol:yn.drawLegendSymbol}),Qt.areaspline=vn,fn.column=t(Zt,{borderColor:"#FFFFFF",borderWidth:1,borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},stickyTracking:!1,threshold:0}),vn=g(kn,{type:"column",tooltipOutsidePlot:!0,pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color",r:"borderRadius"},trackerGroups:["group","dataLabelsGroup"],init:function(){kn.prototype.init.apply(this,arguments);var e=this,t=e.chart;t.hasRendered&&rn(t.series,function(t){t.type===e.type&&(t.isDirty=!0)})},getColumnMetrics:function(){var e,t,n=this,i=n.options,r=n.xAxis,o=n.yAxis,a=r.reversed,s={},l=0;i.grouping===!1?l=1:rn(n.chart.series,function(i){var r=i.options,a=i.yAxis;i.type===n.type&&i.visible&&o.len===a.len&&o.pos===a.pos&&(r.stacking?(e=i.stackKey,s[e]===Y&&(s[e]=l++),t=s[e]):r.grouping!==!1&&(t=l++),i.columnIndex=t)});var r=vt(yt(r.transA)*(r.ordinalSlope||i.pointRange||r.closestPointRange||1),r.len),c=r*i.groupPadding,u=(r-2*c)/l,h=i.pointWidth,i=d(h)?(u-h)/2:u*i.pointPadding,h=p(h,u-2*i);return n.columnMetrics={width:h,offset:i+(c+((a?l-(n.columnIndex||0):n.columnIndex)||0)*u-r/2)*(a?-1:1)}},translate:function(){var e=this.chart,t=this.options,n=t.borderWidth,i=this.yAxis,r=this.translatedThreshold=i.getThreshold(t.threshold),o=p(t.minPointLength,5),t=this.getColumnMetrics(),a=t.width,s=this.barW=mt(gt(a,1+2*n)),l=this.pointXOffset=t.offset;kn.prototype.translate.apply(this),rn(this.points,function(t){var c=vt(gt(-999,t.plotY),i.len+999),d=p(t.yBottom,r),u=t.plotX+l,h=mt(vt(c,d)),c=mt(gt(c,d)-h);yt(c)<o&&o&&(c=o,h=pt(yt(h-r)>o?d-o:r-(i.translate(t.y,0,1,0,1)<=r?o:0))),t.barX=u,t.pointWidth=a,t.shapeType="rect",t.shapeArgs=t=e.renderer.Element.prototype.crisp.call(0,n,u,h,s,c),n%2&&(t.y-=1,t.height+=1)})},getSymbol:Bt,drawLegendSymbol:Jt.prototype.drawLegendSymbol,drawGraph:Bt,drawPoints:function(){var e,n=this,i=n.options,r=n.chart.renderer;rn(n.points,function(o){var a=o.plotY,s=o.graphic;a===Y||isNaN(a)||null===o.y?s&&(o.graphic=s.destroy()):(e=o.shapeArgs,s?(pn(s),s.animate(t(e))):o.graphic=r[o.shapeType](e).attr(o.pointAttr[o.selected?"select":""]).add(n.group).shadow(i.shadow,null,i.stacking&&!i.borderRadius))})},drawTracker:function(){var e=this,t=e.chart,n=t.pointer,i=e.options.cursor,r=i&&{cursor:i},o=function(n){var i,r=n.target;for(t.hoverSeries!==e&&e.onMouseOver();r&&!i;)i=r.point,r=r.parentNode;i!==Y&&i!==t.hoverPoint&&i.onMouseOver(n)};rn(e.points,function(e){e.graphic&&(e.graphic.element.point=e),e.dataLabel&&(e.dataLabel.element.point=e)}),e._hasTracking?e._hasTracking=!0:rn(e.trackerGroups,function(t){e[t]&&(e[t].addClass("highcharts-tracker").on("mouseover",o).on("mouseout",function(e){n.onTrackerMouseOut(e)}).css(r),Ft)&&e[t].on("touchstart",o)})},alignDataLabel:function(e,n,i,r,o){var a=this.chart,s=a.inverted,l=e.dlBox||e.shapeArgs,c=e.below||e.plotY>p(this.translatedThreshold,a.plotSizeY),d=p(i.inside,!!this.options.stacking);l&&(r=t(l),s&&(r={x:a.plotWidth-r.y-r.height,y:a.plotHeight-r.x-r.width,width:r.height,height:r.width}),!d)&&(s?(r.x+=c?0:r.width,r.width=0):(r.y+=c?r.height:0,r.height=0)),i.align=p(i.align,!s||d?"center":c?"right":"left"),i.verticalAlign=p(i.verticalAlign,s||d?"middle":c?"top":"bottom"),kn.prototype.alignDataLabel.call(this,e,n,i,r,o)},animate:function(e){var t=this.yAxis,n=this.options,i=this.chart.inverted,r={};Nt&&(e?(r.scaleY=.001,e=vt(t.pos+t.len,gt(t.pos,t.toPixels(n.threshold))),i?r.translateX=e-t.len:r.translateY=e,this.group.attr(r)):(r.scaleY=1,r[i?"translateX":"translateY"]=t.pos,this.group.animate(r,this.options.animation),this.animate=null))},remove:function(){var e=this,t=e.chart;t.hasRendered&&rn(t.series,function(t){t.type===e.type&&(t.isDirty=!0)}),kn.prototype.remove.apply(e,arguments)}}),Qt.column=vn,fn.bar=t(fn.column),yn=g(vn,{type:"bar",inverted:!0}),Qt.bar=yn,fn.scatter=t(Zt,{lineWidth:0,tooltip:{headerFormat:'<span style="font-size: 10px; color:{series.color}">{series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>",followPointer:!0},stickyTracking:!1}),yn=g(kn,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["markerGroup"],drawTracker:vn.prototype.drawTracker,setTooltipPoints:Bt}),Qt.scatter=yn,fn.pie=t(Zt,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.name}},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}}),Zt={type:"pie",isCartesian:!1,pointClass:g(xn,{init:function(){xn.prototype.init.apply(this,arguments);var t,n=this;return n.y<0&&(n.y=null),e(n,{visible:n.visible!==!1,name:p(n.name,"Slice")}),t=function(e){n.slice("select"===e.type)},ln(n,"select",t),ln(n,"unselect",t),n},setVisible:function(e){var t,n=this,i=n.series,r=i.chart;n.visible=n.options.visible=e=e===Y?!n.visible:e,i.options.data[nn(n,i.data)]=n.options,t=e?"show":"hide",rn(["graphic","dataLabel","connector","shadowGroup"],function(e){n[e]&&n[e][t]()}),n.legendItem&&r.legend.colorizeItem(n,e),!i.isDirty&&i.options.ignoreHiddenPoint&&(i.isDirty=!0,r.redraw())},slice:function(e,t,n){var i=this.series;P(n,i.chart),p(t,!0),this.sliced=this.options.sliced=e=d(e)?e:!this.sliced,i.options.data[nn(this,i.data)]=this.options,e=e?this.slicedTranslation:{translateX:0,translateY:0},this.graphic.animate(e),this.shadowGroup&&this.shadowGroup.animate(e)}}),requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},getColor:Bt,animate:function(e){var t=this,n=t.points,i=t.startAngleRad;e||(rn(n,function(e){var n=e.graphic,e=e.shapeArgs;n&&(n.attr({r:t.center[3]/2,start:i,end:i}),n.animate({r:e.r,start:e.start,end:e.end},t.options.animation))}),t.animate=null)},setData:function(e,t){kn.prototype.setData.call(this,e,!1),this.processData(),this.generatePoints(),p(t,!0)&&this.chart.redraw()},generatePoints:function(){var e,t,n,i,r=0,o=this.options.ignoreHiddenPoint;for(kn.prototype.generatePoints.call(this),t=this.points,n=t.length,e=0;n>e;e++)i=t[e],r+=o&&!i.visible?0:i.y;for(this.total=r,e=0;n>e;e++)i=t[e],i.percentage=100*(i.y/r),i.total=r},getCenter:function(){var e,t,i=this.options,r=this.chart,o=2*(i.slicedOffset||0),a=r.plotWidth-2*o,s=r.plotHeight-2*o,r=i.center,i=[p(r[0],"50%"),p(r[1],"50%"),i.size||"100%",i.innerSize||0],l=vt(a,s);return sn(i,function(i,r){return t=/%$/.test(i),e=2>r||2===r&&t,(t?[a,s,l,l][r]*n(i)/100:i)+(e?o:0)})},translate:function(e){this.generatePoints();var t,n,i,r,o,a=0,s=this.options,l=s.slicedOffset,c=l+s.borderWidth,d=this.startAngleRad=kt/180*((s.startAngle||0)%360-90),u=this.points,h=2*kt,p=s.dataLabels.distance,s=s.ignoreHiddenPoint,f=u.length;for(e||(this.center=e=this.getCenter()),this.getX=function(t,n){return i=ht.asin((t-e[1])/(e[2]/2+p)),e[0]+(n?-1:1)*bt(i)*(e[2]/2+p)},r=0;f>r;r++)o=u[r],t=pt(1e3*(d+a*h))/1e3,(!s||o.visible)&&(a+=o.percentage/100),n=pt(1e3*(d+a*h))/1e3,o.shapeType="arc",o.shapeArgs={x:e[0],y:e[1],r:e[2]/2,innerR:e[3]/2,start:t,end:n},i=(n+t)/2,i>.75*h&&(i-=2*kt),o.slicedTranslation={translateX:pt(bt(i)*l),translateY:pt(xt(i)*l)},t=bt(i)*e[2]/2,n=xt(i)*e[2]/2,o.tooltipPos=[e[0]+.7*t,e[1]+.7*n],o.half=h/4>i?0:1,o.angle=i,c=vt(c,p/2),o.labelPos=[e[0]+t+bt(i)*p,e[1]+n+xt(i)*p,e[0]+t+bt(i)*c,e[1]+n+xt(i)*c,e[0]+t,e[1]+n,0>p?"center":o.half?"right":"left",i];this.setTooltipPoints()},drawGraph:null,drawPoints:function(){var t,n,i,r,o=this,a=o.chart.renderer,s=o.options.shadow;s&&!o.shadowGroup&&(o.shadowGroup=a.g("shadow").add(o.group)),rn(o.points,function(l){n=l.graphic,r=l.shapeArgs,i=l.shadowGroup,s&&!i&&(i=l.shadowGroup=a.g("shadow").add(o.shadowGroup)),t=l.sliced?l.slicedTranslation:{translateX:0,translateY:0},i&&i.attr(t),n?n.animate(e(r,t)):l.graphic=n=a.arc(r).setRadialReference(o.center).attr(l.pointAttr[l.selected?"select":""]).attr({"stroke-linejoin":"round"}).attr(t).add(o.group).shadow(s,i),l.visible===!1&&l.setVisible(!1)})},drawDataLabels:function(){var e,t,n,i,r,o,a,s,l,c,d,u,h=this,f=h.data,m=h.chart,g=h.options.dataLabels,v=p(g.connectorPadding,10),y=p(g.connectorWidth,1),b=m.plotWidth,m=m.plotHeight,x=p(g.softConnector,!0),k=g.distance,_=h.center,w=_[2]/2,C=_[1],T=k>0,S=[[],[]],M=[0,0,0,0],A=function(e,t){return t.y-e.y},E=function(e,t){e.sort(function(e,n){return void 0!==e.angle&&(n.angle-e.angle)*t})};if(h.visible&&(g.enabled||h._hasPointLabels)){for(kn.prototype.drawDataLabels.apply(h),rn(f,function(e){e.dataLabel&&S[e.half].push(e)}),d=0;!a&&f[d];)a=f[d]&&f[d].dataLabel&&(f[d].dataLabel.getBBox().height||21),d++;for(d=2;d--;){var N,f=[],L=[],P=S[d],F=P.length;if(E(P,d-.5),k>0){for(u=C-w-k;C+w+k>=u;u+=a)f.push(u);if(r=f.length,F>r){for(e=[].concat(P),e.sort(A),u=F;u--;)e[u].rank=u;for(u=F;u--;)P[u].rank>=r&&P.splice(u,1);F=P.length}for(u=0;F>u;u++){e=P[u],o=e.labelPos,e=9999;var I,R;for(R=0;r>R;R++)I=yt(f[R]-o[1]),e>I&&(e=I,N=R);if(u>N&&null!==f[u])N=u;else for(F-u+N>r&&null!==f[u]&&(N=r-F+u);null===f[N];)N++;L.push({i:N,y:f[N]}),f[N]=null}L.sort(A)}for(u=0;F>u;u++)e=P[u],o=e.labelPos,i=e.dataLabel,c=e.visible===!1?"hidden":"visible",e=o[1],k>0?(r=L.pop(),N=r.i,l=r.y,(e>l&&null!==f[N+1]||l>e&&null!==f[N-1])&&(l=e)):l=e,s=g.justify?_[0]+(d?-1:1)*(w+k):h.getX(0===N||N===f.length-1?e:l,d),i._attr={visibility:c,align:o[6]},i._pos={x:s+g.x+({left:v,right:-v}[o[6]]||0),y:l+g.y-10},i.connX=s,i.connY=l,null===this.options.size&&(r=i.width,v>s-r?M[3]=gt(pt(r-s+v),M[3]):s+r>b-v&&(M[1]=gt(pt(s+r-b+v),M[1])),0>l-a/2?M[0]=gt(pt(-l+a/2),M[0]):l+a/2>m&&(M[2]=gt(pt(l+a/2-m),M[2])))}(0===D(M)||this.verifyDataLabelOverflow(M))&&(this.placeDataLabels(),T&&y&&rn(this.points,function(e){t=e.connector,o=e.labelPos,(i=e.dataLabel)&&i._pos?(c=i._attr.visibility,s=i.connX,l=i.connY,n=x?["M",s+("left"===o[6]?5:-5),l,"C",s,l,2*o[2]-o[4],2*o[3]-o[5],o[2],o[3],"L",o[4],o[5]]:["M",s+("left"===o[6]?5:-5),l,"L",o[2],o[3],"L",o[4],o[5]],t?(t.animate({d:n}),t.attr("visibility",c)):e.connector=t=h.chart.renderer.path(n).attr({"stroke-width":y,stroke:g.connectorColor||e.color||"#606060",visibility:c}).add(h.group)):t&&(e.connector=t.destroy())}))}},verifyDataLabelOverflow:function(e){var t,n=this.center,i=this.options,r=i.center,o=i=i.minSize||80;return null!==r[0]?o=gt(n[2]-gt(e[1],e[3]),i):(o=gt(n[2]-e[1]-e[3],i),n[0]+=(e[3]-e[1])/2),null!==r[1]?o=gt(vt(o,n[2]-gt(e[0],e[2])),i):(o=gt(vt(o,n[2]-e[0]-e[2]),i),n[1]+=(e[0]-e[2])/2),o<n[2]?(n[2]=o,this.translate(n),rn(this.points,function(e){e.dataLabel&&(e.dataLabel._pos=null)}),this.drawDataLabels()):t=!0,t},placeDataLabels:function(){rn(this.points,function(e){var t,e=e.dataLabel;e&&((t=e._pos)?(e.attr(e._attr),e[e.moved?"animate":"attr"](t),e.moved=!0):e&&e.attr({y:-999}))})},alignDataLabel:Bt,drawTracker:vn.prototype.drawTracker,drawLegendSymbol:Jt.prototype.drawLegendSymbol,getSymbol:Bt},Zt=g(kn,Zt),Qt.pie=Zt,e(Highcharts,{Axis:H,Chart:W,Color:mn,Legend:$,Pointer:j,Point:xn,Tick:R,Tooltip:z,Renderer:V,Series:kn,SVGElement:I,SVGRenderer:gn,arrayMin:M,arrayMax:D,charts:Ot,dateFormat:X,format:x,pathAnim:K,getOptions:function(){return U},hasBidiBug:Lt,isTouchDevice:At,numberFormat:v,seriesTypes:Qt,setOptions:function(e){return U=t(U,e),F(),U},addEvent:ln,removeEvent:cn,createElement:m,discardElement:E,css:f,each:rn,extend:e,map:sn,merge:t,pick:p,splat:h,extendClass:g,pInt:n,wrap:b,svg:Nt,canvas:Pt,vml:!Nt&&!Pt,product:"Highcharts",version:"3.0.4"})}(),function(e,t){function n(e,t,n){this.init.call(this,e,t,n)}function i(e,t,n){e.call(this,t,n),this.chart.polar&&(this.closeSegment=function(e){var t=this.xAxis.center;e.push("L",t[0],t[1])},this.closedStacks=!0)}function r(e,t){var n=this.chart,i=this.options.animation,r=this.group,o=this.markerGroup,a=this.xAxis.center,s=n.plotLeft,l=n.plotTop;n.polar?n.renderer.isSVG&&(i===!0&&(i={}),t?(n={translateX:a[0]+s,translateY:a[1]+l,scaleX:.001,scaleY:.001},r.attr(n),o&&(o.attrSetters=r.attrSetters,o.attr(n))):(n={translateX:s,translateY:l,scaleX:1,scaleY:1},r.animate(n,i),o&&o.animate(n,i),this.animate=null)):e.call(this,t)}var o=e.arrayMin,a=e.arrayMax,s=e.each,l=e.extend,c=e.merge,d=e.map,u=e.pick,h=e.pInt,p=e.getOptions().plotOptions,f=e.seriesTypes,m=e.extendClass,g=e.splat,v=e.wrap,y=e.Axis,b=e.Tick,x=e.Series,k=f.column.prototype,_=Math,w=_.round,C=_.floor,T=_.max,S=function(){};l(n.prototype,{init:function(e,t,n){var i=this,r=i.defaultOptions;i.chart=t,t.angular&&(r.background={}),i.options=e=c(r,e),(e=e.background)&&s([].concat(g(e)).reverse(),function(e){var t=e.backgroundColor,e=c(i.defaultBackgroundOptions,e);t&&(e.backgroundColor=t),e.color=e.backgroundColor,n.options.plotBands.unshift(e)})},defaultOptions:{center:["50%","50%"],size:"85%",startAngle:0},defaultBackgroundOptions:{shape:"circle",borderWidth:1,borderColor:"silver",backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#DDD"]]},from:Number.MIN_VALUE,innerRadius:0,to:Number.MAX_VALUE,outerRadius:"105%"}});var M=y.prototype,b=b.prototype,D={getOffset:S,redraw:function(){this.isDirty=!1},render:function(){this.isDirty=!1},setScale:S,setCategories:S,setTitle:S},A={isRadial:!0,defaultRadialGaugeOptions:{labels:{align:"center",x:0,y:null},minorGridLineWidth:0,minorTickInterval:"auto",minorTickLength:10,minorTickPosition:"inside",minorTickWidth:1,plotBands:[],tickLength:10,tickPosition:"inside",tickWidth:2,title:{rotation:0},zIndex:2},defaultRadialXOptions:{gridLineWidth:1,labels:{align:null,distance:15,x:0,y:null},maxPadding:0,minPadding:0,plotBands:[],showLastLabel:!1,tickLength:0},defaultRadialYOptions:{gridLineInterpolation:"circle",labels:{align:"right",x:-3,y:-2},plotBands:[],showLastLabel:!1,title:{x:4,text:null,rotation:90}},setOptions:function(e){this.options=c(this.defaultOptions,this.defaultRadialOptions,e)},getOffset:function(){M.getOffset.call(this),this.chart.axisOffset[this.side]=0,this.center=this.pane.center=f.pie.prototype.getCenter.call(this.pane)},getLinePath:function(e,t){var n=this.center,t=u(t,n[2]/2-this.offset);return this.chart.renderer.symbols.arc(this.left+n[0],this.top+n[1],t,t,{start:this.startAngleRad,end:this.endAngleRad,open:!0,innerR:0})},setAxisTranslation:function(){M.setAxisTranslation.call(this),this.center&&(this.transA=this.isCircular?(this.endAngleRad-this.startAngleRad)/(this.max-this.min||1):this.center[2]/2/(this.max-this.min||1),this.isXAxis)&&(this.minPixelPadding=this.transA*this.minPointOffset+(this.reversed?(this.endAngleRad-this.startAngleRad)/4:0))},beforeSetTickPositions:function(){this.autoConnect&&(this.max+=this.categories&&1||this.pointRange||this.closestPointRange)},setAxisSize:function(){M.setAxisSize.call(this),this.center&&(this.len=this.width=this.height=this.isCircular?this.center[2]*(this.endAngleRad-this.startAngleRad)/2:this.center[2]/2)},getPosition:function(e,t){return this.isCircular||(t=this.translate(e),e=this.min),this.postTranslate(this.translate(e),u(t,this.center[2]/2)-this.offset)},postTranslate:function(e,t){var n=this.chart,i=this.center,e=this.startAngleRad+e;return{x:n.plotLeft+i[0]+Math.cos(e)*t,y:n.plotTop+i[1]+Math.sin(e)*t}},getPlotBandPath:function(e,t,n){var i,r=this.center,o=this.startAngleRad,a=r[2]/2,s=[u(n.outerRadius,"100%"),n.innerRadius,u(n.thickness,10)],l=/%$/,c=this.isCircular;return"polygon"===this.options.gridLineInterpolation?r=this.getPlotLinePath(e).concat(this.getPlotLinePath(t,!0)):(c||(s[0]=this.translate(e),s[1]=this.translate(t)),s=d(s,function(e){return l.test(e)&&(e=h(e,10)*a/100),e}),"circle"!==n.shape&&c?(e=o+this.translate(e),t=o+this.translate(t)):(e=-Math.PI/2,t=1.5*Math.PI,i=!0),r=this.chart.renderer.symbols.arc(this.left+r[0],this.top+r[1],s[0],s[0],{start:e,end:t,innerR:u(s[1],s[0]-s[2]),open:i})),r},getPlotLinePath:function(e,t){var n,i,r,o=this.center,a=this.chart,l=this.getPosition(e);return this.isCircular?r=["M",o[0]+a.plotLeft,o[1]+a.plotTop,"L",l.x,l.y]:"circle"===this.options.gridLineInterpolation?(e=this.translate(e))&&(r=this.getLinePath(0,e)):(n=a.xAxis[0],r=[],e=this.translate(e),o=n.tickPositions,n.autoConnect&&(o=o.concat([o[0]])),t&&(o=[].concat(o).reverse()),s(o,function(t,o){i=n.getPosition(t,e),r.push(o?"L":"M",i.x,i.y)})),r},getTitlePosition:function(){var e=this.center,t=this.chart,n=this.options.title;return{x:t.plotLeft+e[0]+(n.x||0),y:t.plotTop+e[1]-{high:.5,middle:.25,low:0}[n.align]*e[2]+(n.y||0)}}};v(M,"init",function(e,i,r){var o,a,s,d=i.angular,h=i.polar,p=r.isX,f=d&&p;s=i.options;var m=r.pane||0;d?(l(this,f?D:A),(a=!p)&&(this.defaultRadialOptions=this.defaultRadialGaugeOptions)):h&&(l(this,A),this.defaultRadialOptions=(a=p)?this.defaultRadialXOptions:c(this.defaultYAxisOptions,this.defaultRadialYOptions)),e.call(this,i,r),f||!d&&!h||(e=this.options,i.panes||(i.panes=[]),this.pane=(o=i.panes[m]=i.panes[m]||new n(g(s.pane)[m],i,this),m=o),m=m.options,i.inverted=!1,s.chart.zoomType=null,this.startAngleRad=i=(m.startAngle-90)*Math.PI/180,this.endAngleRad=s=(u(m.endAngle,m.startAngle+360)-90)*Math.PI/180,this.offset=e.offset||0,(this.isCircular=a)&&r.max===t&&s-i===2*Math.PI&&(this.autoConnect=!0))}),v(b,"getPosition",function(e,t,n,i,r){var o=this.axis;return o.getPosition?o.getPosition(n):e.call(this,t,n,i,r)}),v(b,"getLabelPosition",function(e,t,n,i,r,o,a,s,l){var c=this.axis,d=o.y,p=o.align,f=180*((c.translate(this.pos)+c.startAngleRad+Math.PI/2)/Math.PI)%360;return c.isRadial?(e=c.getPosition(this.pos,c.center[2]/2+u(o.distance,-25)),"auto"===o.rotation?i.attr({rotation:f}):null===d&&(d=.9*h(i.styles.lineHeight)-i.getBBox().height/2),null===p&&(p=c.isCircular?f>20&&160>f?"left":f>200&&340>f?"right":"center":"center",i.attr({align:p})),e.x+=o.x,e.y+=d):e=e.call(this,t,n,i,r,o,a,s,l),e}),v(b,"getMarkPath",function(e,t,n,i,r,o,a){var s=this.axis;return s.isRadial?(e=s.getPosition(this.pos,s.center[2]/2+i),t=["M",t,n,"L",e.x,e.y]):t=e.call(this,t,n,i,r,o,a),t}),p.arearange=c(p.area,{lineWidth:1,marker:null,threshold:null,tooltip:{pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>{point.low}</b> - <b>{point.high}</b><br/>'},trackByArea:!0,dataLabels:{verticalAlign:null,xLow:0,xHigh:0,yLow:0,yHigh:0}}),f.arearange=e.extendClass(f.area,{type:"arearange",pointArrayMap:["low","high"],toYData:function(e){return[e.low,e.high]},pointValKey:"low",getSegments:function(){var e=this;s(e.points,function(t){e.options.connectNulls||null!==t.low&&null!==t.high?null===t.low&&null!==t.high&&(t.y=t.high):t.y=null}),x.prototype.getSegments.call(this)},translate:function(){var e=this.yAxis;f.area.prototype.translate.apply(this),s(this.points,function(t){var n=t.low,i=t.high,r=t.plotY;null===i&&null===n?t.y=null:null===n?(t.plotLow=t.plotY=null,t.plotHigh=e.translate(i,0,1,0,1)):null===i?(t.plotLow=r,t.plotHigh=null):(t.plotLow=r,t.plotHigh=e.translate(i,0,1,0,1))})},getSegmentPath:function(e){var t,n,i,r=[],o=e.length,a=x.prototype.getSegmentPath;i=this.options;var s=i.step;for(t=HighchartsAdapter.grep(e,function(e){return null!==e.plotLow});o--;)n=e[o],null!==n.plotHigh&&r.push({plotX:n.plotX,plotY:n.plotHigh});return e=a.call(this,t),s&&(s===!0&&(s="left"),i.step={left:"right",center:"center",right:"left"}[s]),r=a.call(this,r),i.step=s,i=[].concat(e,r),r[0]="L",this.areaPath=this.areaPath.concat(e,r),i},drawDataLabels:function(){var e,t,n=this.data,i=n.length,r=[],o=x.prototype,a=this.options.dataLabels,s=this.chart.inverted;if(a.enabled||this._hasPointLabels){for(e=i;e--;)t=n[e],t.y=t.high,t.plotY=t.plotHigh,r[e]=t.dataLabel,t.dataLabel=t.dataLabelUpper,t.below=!1,s?(a.align="left",a.x=a.xHigh):a.y=a.yHigh;
for(o.drawDataLabels.apply(this,arguments),e=i;e--;)t=n[e],t.dataLabelUpper=t.dataLabel,t.dataLabel=r[e],t.y=t.low,t.plotY=t.plotLow,t.below=!0,s?(a.align="right",a.x=a.xLow):a.y=a.yLow;o.drawDataLabels.apply(this,arguments)}},alignDataLabel:f.column.prototype.alignDataLabel,getSymbol:f.column.prototype.getSymbol,drawPoints:S}),p.areasplinerange=c(p.arearange),f.areasplinerange=m(f.arearange,{type:"areasplinerange",getPointSpline:f.spline.prototype.getPointSpline}),p.columnrange=c(p.column,p.arearange,{lineWidth:1,pointRange:null}),f.columnrange=m(f.arearange,{type:"columnrange",translate:function(){var e,t=this,n=t.yAxis;k.translate.apply(t),s(t.points,function(i){var r,o=i.shapeArgs,a=t.options.minPointLength;i.plotHigh=e=n.translate(i.high,0,1,0,1),i.plotLow=i.plotY,r=e,i=i.plotY-e,a>i&&(a-=i,i+=a,r-=a/2),o.height=i,o.y=r})},trackerGroups:["group","dataLabels"],drawGraph:S,pointAttrToOptions:k.pointAttrToOptions,drawPoints:k.drawPoints,drawTracker:k.drawTracker,animate:k.animate,getColumnMetrics:k.getColumnMetrics}),p.gauge=c(p.line,{dataLabels:{enabled:!0,y:15,borderWidth:1,borderColor:"silver",borderRadius:3,style:{fontWeight:"bold"},verticalAlign:"top",zIndex:2},dial:{},pivot:{},tooltip:{headerFormat:""},showInLegend:!1}),b={type:"gauge",pointClass:e.extendClass(e.Point,{setState:function(e){this.state=e}}),angular:!0,drawGraph:S,trackerGroups:["group","dataLabels"],translate:function(){var e=this.yAxis,t=this.options,n=e.center;this.generatePoints(),s(this.points,function(i){var r=c(t.dial,i.dial),o=h(u(r.radius,80))*n[2]/200,a=h(u(r.baseLength,70))*o/100,s=h(u(r.rearLength,10))*o/100,l=r.baseWidth||3,d=r.topWidth||1,p=e.startAngleRad+e.translate(i.y,null,null,null,!0);t.wrap===!1&&(p=Math.max(e.startAngleRad,Math.min(e.endAngleRad,p))),p=180*p/Math.PI,i.shapeType="path",i.shapeArgs={d:r.path||["M",-s,-l/2,"L",a,-l/2,o,-d/2,o,d/2,a,l/2,-s,l/2,"z"],translateX:n[0],translateY:n[1],rotation:p},i.plotX=n[0],i.plotY=n[1]})},drawPoints:function(){var e=this,t=e.yAxis.center,n=e.pivot,i=e.options,r=i.pivot,o=e.chart.renderer;s(e.points,function(t){var n=t.graphic,r=t.shapeArgs,a=r.d,s=c(i.dial,t.dial);n?(n.animate(r),r.d=a):t.graphic=o[t.shapeType](r).attr({stroke:s.borderColor||"none","stroke-width":s.borderWidth||0,fill:s.backgroundColor||"black",rotation:r.rotation}).add(e.group)}),n?n.animate({translateX:t[0],translateY:t[1]}):e.pivot=o.circle(0,0,u(r.radius,5)).attr({"stroke-width":r.borderWidth||0,stroke:r.borderColor||"silver",fill:r.backgroundColor||"black"}).translate(t[0],t[1]).add(e.group)},animate:function(e){var t=this;e||(s(t.points,function(e){var n=e.graphic;n&&(n.attr({rotation:180*t.yAxis.startAngleRad/Math.PI}),n.animate({rotation:e.shapeArgs.rotation},t.options.animation))}),t.animate=null)},render:function(){this.group=this.plotGroup("group","series",this.visible?"visible":"hidden",this.options.zIndex,this.chart.seriesGroup),f.pie.prototype.render.call(this),this.group.clip(this.chart.clipRect)},setData:f.pie.prototype.setData,drawTracker:f.column.prototype.drawTracker},f.gauge=e.extendClass(f.line,b),p.boxplot=c(p.column,{fillColor:"#FFFFFF",lineWidth:1,medianWidth:2,states:{hover:{brightness:-.3}},threshold:null,tooltip:{pointFormat:'<span style="color:{series.color};font-weight:bold">{series.name}</span><br/>Maximum: {point.high}<br/>Upper quartile: {point.q3}<br/>Median: {point.median}<br/>Lower quartile: {point.q1}<br/>Minimum: {point.low}<br/>'},whiskerLength:"50%",whiskerWidth:2}),f.boxplot=m(f.column,{type:"boxplot",pointArrayMap:["low","q1","median","q3","high"],toYData:function(e){return[e.low,e.q1,e.median,e.q3,e.high]},pointValKey:"high",pointAttrToOptions:{fill:"fillColor",stroke:"color","stroke-width":"lineWidth"},drawDataLabels:S,translate:function(){var e=this.yAxis,t=this.pointArrayMap;f.column.prototype.translate.apply(this),s(this.points,function(n){s(t,function(t){null!==n[t]&&(n[t+"Plot"]=e.translate(n[t],0,1,0,1))})})},drawPoints:function(){var e,n,i,r,o,a,l,c,d,h,p,f,m,g,v,y,b,x,k,_,T,S,M=this,D=M.points,A=M.options,E=M.chart.renderer,N=M.doQuartiles!==!1,L=parseInt(M.options.whiskerLength,10)/100;s(D,function(s){d=s.graphic,T=s.shapeArgs,p={},g={},y={},S=s.color||M.color,s.plotY!==t&&(e=s.pointAttr[s.selected?"selected":""],b=T.width,x=C(T.x),k=x+b,_=w(b/2),n=C(N?s.q1Plot:s.lowPlot),i=C(N?s.q3Plot:s.lowPlot),r=C(s.highPlot),o=C(s.lowPlot),p.stroke=s.stemColor||A.stemColor||S,p["stroke-width"]=u(s.stemWidth,A.stemWidth,A.lineWidth),p.dashstyle=s.stemDashStyle||A.stemDashStyle,g.stroke=s.whiskerColor||A.whiskerColor||S,g["stroke-width"]=u(s.whiskerWidth,A.whiskerWidth,A.lineWidth),y.stroke=s.medianColor||A.medianColor||S,y["stroke-width"]=u(s.medianWidth,A.medianWidth,A.lineWidth),l=p["stroke-width"]%2/2,c=x+_+l,h=["M",c,i,"L",c,r,"M",c,n,"L",c,o,"z"],N&&(l=e["stroke-width"]%2/2,c=C(c)+l,n=C(n)+l,i=C(i)+l,x+=l,k+=l,f=["M",x,i,"L",x,n,"L",k,n,"L",k,i,"L",x,i,"z"]),L&&(l=g["stroke-width"]%2/2,r+=l,o+=l,m=["M",c-_*L,r,"L",c+_*L,r,"M",c-_*L,o,"L",c+_*L,o]),l=y["stroke-width"]%2/2,a=w(s.medianPlot)+l,v=["M",x,a,"L",k,a,"z"],d?(s.stem.animate({d:h}),L&&s.whiskers.animate({d:m}),N&&s.box.animate({d:f}),s.medianShape.animate({d:v})):(s.graphic=d=E.g().add(M.group),s.stem=E.path(h).attr(p).add(d),L&&(s.whiskers=E.path(m).attr(g).add(d)),N&&(s.box=E.path(f).attr(e).add(d)),s.medianShape=E.path(v).attr(y).add(d)))})}}),p.errorbar=c(p.boxplot,{color:"#000000",grouping:!1,linkedTo:":previous",tooltip:{pointFormat:p.arearange.tooltip.pointFormat},whiskerWidth:null}),f.errorbar=m(f.boxplot,{type:"errorbar",pointArrayMap:["low","high"],toYData:function(e){return[e.low,e.high]},pointValKey:"high",doQuartiles:!1,getColumnMetrics:function(){return this.linkedParent&&this.linkedParent.columnMetrics||f.column.prototype.getColumnMetrics.call(this)}}),p.waterfall=c(p.column,{lineWidth:1,lineColor:"#333",dashStyle:"dot",borderColor:"#333"}),f.waterfall=m(f.column,{type:"waterfall",upColorProp:"fill",pointArrayMap:["low","y"],pointValKey:"y",init:function(e,t){t.stacking=!0,f.column.prototype.init.call(this,e,t)},translate:function(){var e,t,n,i,r,o,a,s,l,c=this.options,d=this.yAxis;for(e=c.threshold,c=c.borderWidth%2/2,f.column.prototype.translate.apply(this),s=e,n=this.points,t=0,e=n.length;e>t;t++)i=n[t],r=i.shapeArgs,o=this.getStack(t),l=o.points[this.index],isNaN(i.y)&&(i.y=this.yData[t]),a=T(s,s+i.y)+l[0],r.y=d.translate(a,0,1),i.isSum||i.isIntermediateSum?(r.y=d.translate(l[1],0,1),r.height=d.translate(l[0],0,1)-r.y):s+=o.total,r.height<0&&(r.y+=r.height,r.height*=-1),i.plotY=r.y=w(r.y)-c,r.height=w(r.height),i.yBottom=r.y+r.height},processData:function(e){var t,n,i,r,o,a,s,l=this.yData,c=this.points,d=l.length,u=this.options.threshold||0;for(i=n=r=o=u,s=0;d>s;s++)a=l[s],t=c?c[s]:{},"sum"===a||t.isSum?l[s]=i:"intermediateSum"===a||t.isIntermediateSum?(l[s]=n,n=u):(i+=a,n+=a),r=Math.min(i,r),o=Math.max(i,o);x.prototype.processData.call(this,e),this.dataMin=r,this.dataMax=o},toYData:function(e){return e.isSum?"sum":e.isIntermediateSum?"intermediateSum":e.y},getAttribs:function(){f.column.prototype.getAttribs.apply(this,arguments);var t=this.options,n=t.states,i=t.upColor||this.color,t=e.Color(i).brighten(.1).get(),r=c(this.pointAttr),o=this.upColorProp;r[""][o]=i,r.hover[o]=n.hover.upColor||t,r.select[o]=n.select.upColor||i,s(this.points,function(e){e.y>0&&!e.color&&(e.pointAttr=r,e.color=i)})},getGraphPath:function(){var e,t,n,i=this.data,r=i.length,o=w(this.options.lineWidth+this.options.borderWidth)%2/2,a=[];for(n=1;r>n;n++)t=i[n].shapeArgs,e=i[n-1].shapeArgs,t=["M",e.x+e.width,e.y+o,"L",t.x,e.y+o],i[n-1].y<0&&(t[2]+=e.height,t[5]+=e.height),a=a.concat(t);return a},getExtremes:S,getStack:function(e){var t=this.yAxis.stacks,n=this.stackKey;return this.processedYData[e]<this.options.threshold&&(n="-"+n),t[n][e]},drawGraph:x.prototype.drawGraph}),p.bubble=c(p.scatter,{dataLabels:{inside:!0,style:{color:"white",textShadow:"0px 0px 3px black"},verticalAlign:"middle"},marker:{lineColor:null,lineWidth:1},minSize:8,maxSize:"20%",tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0}),f.bubble=m(f.scatter,{type:"bubble",pointArrayMap:["y","z"],trackerGroups:["group","dataLabelsGroup"],pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor"},applyOpacity:function(t){var n=this.options.marker,i=u(n.fillOpacity,.5),t=t||n.fillColor||this.color;return 1!==i&&(t=e.Color(t).setOpacity(i).get("rgba")),t},convertAttribs:function(){var e=x.prototype.convertAttribs.apply(this,arguments);return e.fill=this.applyOpacity(e.fill),e},getRadii:function(e,t,n,i){var r,o,a,s=this.zData,l=[];for(o=0,r=s.length;r>o;o++)a=t-e,a=a>0?(s[o]-e)/(t-e):.5,l.push(_.ceil(n+a*(i-n))/2);this.radii=l},animate:function(e){var t=this.options.animation;e||(s(this.points,function(e){var n=e.graphic,e=e.shapeArgs;n&&e&&(n.attr("r",1),n.animate({r:e.r},t))}),this.animate=null)},translate:function(){var e,n,i,r=this.data,o=this.radii;for(f.scatter.prototype.translate.call(this),e=r.length;e--;)n=r[e],i=o?o[e]:0,n.negative=n.z<(this.options.zThreshold||0),i>=this.minPxSize/2?(n.shapeType="circle",n.shapeArgs={x:n.plotX,y:n.plotY,r:i},n.dlBox={x:n.plotX-i,y:n.plotY-i,width:2*i,height:2*i}):n.shapeArgs=n.plotY=n.dlBox=t},drawLegendSymbol:function(e,t){var n=h(e.itemStyle.fontSize)/2;t.legendSymbol=this.chart.renderer.circle(n,e.baseline-n,n).attr({zIndex:3}).add(t.legendGroup),t.legendSymbol.isMarker=!0},drawPoints:f.column.prototype.drawPoints,alignDataLabel:f.column.prototype.alignDataLabel}),y.prototype.beforePadding=function(){var e=this,n=this.len,i=this.chart,r=0,l=n,c=this.isXAxis,d=c?"xData":"yData",p=this.min,f={},m=_.min(i.plotWidth,i.plotHeight),g=Number.MAX_VALUE,v=-Number.MAX_VALUE,y=this.max-p,b=n/y,x=[];this.tickPositions&&(s(this.series,function(t){var n=t.options;"bubble"===t.type&&t.visible&&(e.allowZoomOutside=!0,x.push(t),c)&&(s(["minSize","maxSize"],function(e){var t=n[e],i=/%$/.test(t),t=h(t);f[e]=i?m*t/100:t}),t.minPxSize=f.minSize,t=t.zData,t.length&&(g=_.min(g,_.max(o(t),n.displayNegative===!1?n.zThreshold:-Number.MAX_VALUE)),v=_.max(v,a(t))))}),s(x,function(e){var t,n=e[d],i=n.length;if(c&&e.getRadii(g,v,f.minSize,f.maxSize),y>0)for(;i--;)t=e.radii[i],r=Math.min((n[i]-p)*b-t,r),l=Math.max((n[i]-p)*b+t,l)}),y>0&&u(this.options.min,this.userMin)===t&&u(this.options.max,this.userMax)===t&&(l-=n,b*=(n+r-l)/n,this.min+=r/b,this.max+=l/b))};var E=x.prototype,p=e.Pointer.prototype;E.toXY=function(e){var t,n=this.chart;t=e.plotX;var i=e.plotY;e.rectPlotX=t,e.rectPlotY=i,e.clientX=(180*(t/Math.PI)+this.xAxis.pane.options.startAngle)%360,t=this.xAxis.postTranslate(e.plotX,this.yAxis.len-i),e.plotX=e.polarPlotX=t.x-n.plotLeft,e.plotY=e.polarPlotY=t.y-n.plotTop},E.orderTooltipPoints=function(e){this.chart.polar&&(e.sort(function(e,t){return e.clientX-t.clientX}),e[0])&&(e[0].wrappedClientX=e[0].clientX+360,e.push(e[0]))},v(f.area.prototype,"init",i),v(f.areaspline.prototype,"init",i),v(f.spline.prototype,"getPointSpline",function(e,t,n,i){var r,o,a,s,l,c,d;return this.chart.polar?(r=n.plotX,o=n.plotY,e=t[i-1],a=t[i+1],this.connectEnds&&(e||(e=t[t.length-2]),a||(a=t[1])),e&&a&&(s=e.plotX,l=e.plotY,t=a.plotX,c=a.plotY,s=(1.5*r+s)/2.5,l=(1.5*o+l)/2.5,a=(1.5*r+t)/2.5,d=(1.5*o+c)/2.5,t=Math.sqrt(Math.pow(s-r,2)+Math.pow(l-o,2)),c=Math.sqrt(Math.pow(a-r,2)+Math.pow(d-o,2)),s=Math.atan2(l-o,s-r),l=Math.atan2(d-o,a-r),d=Math.PI/2+(s+l)/2,Math.abs(s-d)>Math.PI/2&&(d-=Math.PI),s=r+Math.cos(d)*t,l=o+Math.sin(d)*t,a=r+Math.cos(Math.PI+d)*c,d=o+Math.sin(Math.PI+d)*c,n.rightContX=a,n.rightContY=d),i?(n=["C",e.rightContX||e.plotX,e.rightContY||e.plotY,s||r,l||o,r,o],e.rightContX=e.rightContY=null):n=["M",r,o]):n=e.call(this,t,n,i),n}),v(E,"translate",function(e){if(e.call(this),this.chart.polar&&!this.preventPostTranslate)for(var e=this.points,t=e.length;t--;)this.toXY(e[t])}),v(E,"getSegmentPath",function(e,t){var n=this.points;return this.chart.polar&&this.options.connectEnds!==!1&&t[t.length-1]===n[n.length-1]&&null!==n[0].y&&(this.connectEnds=!0,t=[].concat(t,[n[0]])),e.call(this,t)}),v(E,"animate",r),v(k,"animate",r),v(E,"setTooltipPoints",function(e,t){return this.chart.polar&&l(this.xAxis,{tooltipLen:360}),e.call(this,t)}),v(k,"translate",function(e){var t,n,i=this.xAxis,r=this.yAxis.len,o=i.center,a=i.startAngleRad,s=this.chart.renderer;if(this.preventPostTranslate=!0,e.call(this),i.isRadial)for(i=this.points,n=i.length;n--;)t=i[n],e=t.barX+a,t.shapeType="path",t.shapeArgs={d:s.symbols.arc(o[0],o[1],r-t.plotY,null,{start:e,end:e+t.pointWidth,innerR:r-u(t.yBottom,r)})},this.toXY(t)}),v(k,"alignDataLabel",function(e,t,n,i,r,o){this.chart.polar?(e=180*(t.rectPlotX/Math.PI),null===i.align&&(i.align=e>20&&160>e?"left":e>200&&340>e?"right":"center"),null===i.verticalAlign&&(i.verticalAlign=45>e||e>315?"bottom":e>135&&225>e?"top":"middle"),E.alignDataLabel.call(this,t,n,i,r,o)):e.call(this,t,n,i,r,o)}),v(p,"getIndex",function(e,t){var n,i,r=this.chart;return r.polar?(i=r.xAxis[0].center,n=t.chartX-i[0]-r.plotLeft,r=t.chartY-i[1]-r.plotTop,n=180-Math.round(180*(Math.atan2(n,r)/Math.PI))):n=e.call(this,t),n}),v(p,"getCoordinates",function(e,t){var n=this.chart,i={xAxis:[],yAxis:[]};return n.polar?s(n.axes,function(e){var r=e.isXAxis,o=e.center,a=t.chartX-o[0]-n.plotLeft,o=t.chartY-o[1]-n.plotTop;i[r?"xAxis":"yAxis"].push({axis:e,value:e.translate(r?Math.PI-Math.atan2(a,o):Math.sqrt(Math.pow(a,2)+Math.pow(o,2)),!0)})}):i=e.call(this,t),i})}(Highcharts);